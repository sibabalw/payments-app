import{c as U,r as K,j as i}from"./app-DlRq_5I-.js";import{c as L,B as ee}from"./createLucideIcon-DfICN48Q.js";import{C as te}from"./calendar-Cq1Ld_Lm.js";import{P as se,a as ne,b as oe}from"./app-layout-B1Fh94R8.js";import{I as ae}from"./input-EpzQuicb.js";import{C as le}from"./clock-eJfs3CCo.js";import{C as ie}from"./calendar-B2gwonc8.js";import{f as re}from"./format-BS8Ay9AX.js";function ce(t){const e=U.c(16),{value:s,onChange:n,disabled:o,className:f,placeholder:r}=t,a=o===void 0?!1:o,l=r===void 0?"Select time":r,[d,m]=K.useState(s||"");let c,h;e[0]!==s?(c=()=>{m(s||"")},h=[s],e[0]=s,e[1]=c,e[2]=h):(c=e[1],h=e[2]),K.useEffect(c,h);let y;e[3]!==n?(y=O=>{const N=O.target.value;m(N),n?.(N)},e[3]=n,e[4]=y):y=e[4];const D=y;let g;e[5]!==f?(g=L("relative",f),e[5]=f,e[6]=g):g=e[6];let x;e[7]===Symbol.for("react.memo_cache_sentinel")?(x=i.jsx(le,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground pointer-events-none"}),e[7]=x):x=e[7];let p;e[8]!==a||e[9]!==D||e[10]!==l||e[11]!==d?(p=i.jsx(ae,{type:"time",value:d,onChange:D,disabled:a,className:"pl-10",placeholder:l}),e[8]=a,e[9]=D,e[10]=l,e[11]=d,e[12]=p):p=e[12];let w;return e[13]!==g||e[14]!==p?(w=i.jsxs("div",{className:g,children:[x,p]}),e[13]=g,e[14]=p,e[15]=w):w=e[15],w}function X(t){const e=t%19,s=Math.floor(t/100),n=t%100,o=Math.floor(s/4),f=s%4,r=Math.floor((s+8)/25),a=Math.floor((s-r+1)/3),l=(19*e+s-o-a+15)%30,d=Math.floor(n/4),m=n%4,c=(32+2*f+2*d-l-m)%7,h=Math.floor((e+11*l+22*c)/451),y=Math.floor((l+c-7*h+114)/31),D=(l+c-7*h+114)%31+1;return new Date(t,y-1,D)}function ue(t){const e=[];e.push(new Date(t,0,1)),e.push(new Date(t,2,21)),e.push(new Date(t,3,27)),e.push(new Date(t,4,1)),e.push(new Date(t,5,16)),e.push(new Date(t,7,9)),e.push(new Date(t,8,24)),e.push(new Date(t,11,16)),e.push(new Date(t,11,25)),e.push(new Date(t,11,26));const s=X(t),n=new Date(s);n.setDate(s.getDate()-2),e.push(n);const o=new Date(s);return o.setDate(s.getDate()+1),e.push(o),e}function Z(t){const e=t.getDay();return e===0||e===6}function Q(t){const e=t.getFullYear();return ue(e).some(n=>n.getFullYear()===t.getFullYear()&&n.getMonth()===t.getMonth()&&n.getDate()===t.getDate())}function fe(t){return!Z(t)&&!Q(t)}function me(t){if(!Q(t))return null;const e=t.getMonth()+1,s=t.getDate(),n={"1-1":"New Year's Day","3-21":"Human Rights Day","4-27":"Freedom Day","5-1":"Workers' Day","6-16":"Youth Day","8-9":"National Women's Day","9-24":"Heritage Day","12-16":"Day of Reconciliation","12-25":"Christmas Day","12-26":"Day of Goodwill"},o=`${e}-${s}`;if(n[o])return n[o];const f=t.getFullYear(),r=X(f),a=new Date(r);a.setDate(r.getDate()-2);const l=new Date(r);return l.setDate(r.getDate()+1),t.getFullYear()===a.getFullYear()&&t.getMonth()===a.getMonth()&&t.getDate()===a.getDate()?"Good Friday":t.getFullYear()===l.getFullYear()&&t.getMonth()===l.getMonth()&&t.getDate()===l.getDate()?"Family Day":"Public Holiday"}function ve(t){const e=U.c(66),{date:s,onDateChange:n,time:o,onTimeChange:f,disabled:r,className:a,showTime:l,disabledDates:d}=t,m=r===void 0?!1:r,c=l===void 0?!0:l,[h,y]=K.useState(!1);let D;e[0]!==n||e[1]!==o?(D=u=>{if(u){if(o){const[q,z]=o.split(":");u.setHours(parseInt(q,10)),u.setMinutes(parseInt(z,10))}n?.(u)}else n?.(void 0);y(!1)},e[0]=n,e[1]=o,e[2]=D):D=e[2];const g=D;let x;e[3]!==s||e[4]!==n||e[5]!==f?(x=u=>{if(f?.(u),s&&u){const[q,z]=u.split(":"),J=new Date(s);J.setHours(parseInt(q,10)),J.setMinutes(parseInt(z,10)),n?.(J)}},e[3]=s,e[4]=n,e[5]=f,e[6]=x):x=e[6];const p=x;let w;e[7]!==d?(w=u=>d&&d(u)?!0:!fe(u),e[7]=d,e[8]=w):w=e[8];const O=w;let N;e[9]!==s?(N=()=>s?Z(s)?"Cannot schedule on weekends":Q(s)?`Cannot schedule on ${me(s)}`:null:null,e[9]=s,e[10]=N):N=e[10];const A=N;let j,M,b,v,F,P,Y,C,k,H,S;e[11]!==a||e[12]!==s||e[13]!==A||e[14]!==h?(v=A(),e[26]!==a?(C=L("space-y-2",a),e[26]=a,e[27]=C):C=e[27],Y="flex gap-2",b=se,F=h,P=y,M=ne,S=!0,j=ee,k="outline",H=L("w-full justify-start text-left font-normal",!s&&"text-muted-foreground",v&&"border-destructive"),e[11]=a,e[12]=s,e[13]=A,e[14]=h,e[15]=j,e[16]=M,e[17]=b,e[18]=v,e[19]=F,e[20]=P,e[21]=Y,e[22]=C,e[23]=k,e[24]=H,e[25]=S):(j=e[15],M=e[16],b=e[17],v=e[18],F=e[19],P=e[20],Y=e[21],C=e[22],k=e[23],H=e[24],S=e[25]);let G;e[28]===Symbol.for("react.memo_cache_sentinel")?(G=i.jsx(ie,{className:"mr-2 h-4 w-4"}),e[28]=G):G=e[28];let T;e[29]!==s?(T=s?re(s,"PPP"):i.jsx("span",{children:"Pick a date"}),e[29]=s,e[30]=T):T=e[30];let E;e[31]!==j||e[32]!==m||e[33]!==T||e[34]!==k||e[35]!==H?(E=i.jsxs(j,{variant:k,className:H,disabled:m,children:[G,T]}),e[31]=j,e[32]=m,e[33]=T,e[34]=k,e[35]=H,e[36]=E):E=e[36];let I;e[37]!==M||e[38]!==E||e[39]!==S?(I=i.jsx(M,{asChild:S,children:E}),e[37]=M,e[38]=E,e[39]=S,e[40]=I):I=e[40];let _;e[41]!==s||e[42]!==g||e[43]!==O?(_=i.jsx(oe,{className:"w-auto p-0",align:"start",children:i.jsx(te,{mode:"single",selected:s,onSelect:g,disabled:O,initialFocus:!0})}),e[41]=s,e[42]=g,e[43]=O,e[44]=_):_=e[44];let $;e[45]!==b||e[46]!==F||e[47]!==P||e[48]!==I||e[49]!==_?($=i.jsxs(b,{open:F,onOpenChange:P,children:[I,_]}),e[45]=b,e[46]=F,e[47]=P,e[48]=I,e[49]=_,e[50]=$):$=e[50];let R;e[51]!==m||e[52]!==p||e[53]!==c||e[54]!==o?(R=c&&i.jsx(ce,{value:o,onChange:p,disabled:m,className:"flex-1"}),e[51]=m,e[52]=p,e[53]=c,e[54]=o,e[55]=R):R=e[55];let W;e[56]!==Y||e[57]!==$||e[58]!==R?(W=i.jsxs("div",{className:Y,children:[$,R]}),e[56]=Y,e[57]=$,e[58]=R,e[59]=W):W=e[59];let B;e[60]!==v?(B=v&&i.jsx("p",{className:"text-sm text-destructive",children:v}),e[60]=v,e[61]=B):B=e[61];let V;return e[62]!==C||e[63]!==W||e[64]!==B?(V=i.jsxs("div",{className:C,children:[W,B]}),e[62]=C,e[63]=W,e[64]=B,e[65]=V):V=e[65],V}export{ve as D,fe as i};
