import{c as v,j as s,L as x,H as A}from"./app-DWDC-BVo.js";import{B as j}from"./createLucideIcon-CDiNb0OM.js";import{C as _,c as b,a as $,b as w}from"./card-ErUD2DV9.js";import{A as D}from"./app-layout-Csx9VZt2.js";import{A as C}from"./arrow-left-DgfFAESW.js";import{P as E}from"./plus-BwK_Jy3D.js";/* empty css            */import"./app-sidebar-header-r-OiXY8i.js";import"./index-B-id3RBu.js";import"./index-BspEiaub.js";import"./x-Cr_BKX42.js";import"./appearance-dropdown-Boh93vvE.js";import"./index-BCOzoWRm.js";import"./chevron-down-BehZftUK.js";import"./index-apnaeyBA.js";import"./index-l1Yz4tBP.js";import"./index-CcLcdVZM.js";import"./log-out-CNw_jzHT.js";import"./chevron-right-TaOApODu.js";import"./badge-BnVI9wD_.js";import"./proxy-8KyYWbtH.js";import"./circle-check-DngFYpsd.js";import"./loader-circle-_uqlEWjJ.js";import"./circle-x-DCRTT9my.js";import"./circle-alert-C7E7uvB-.js";import"./credit-card-DHCU20zw.js";import"./dollar-sign-DGtOSjhC.js";import"./message-square-DRz1er9_.js";import"./file-text-xQShroE0.js";import"./users-CtagEMWm.js";import"./user-check-Dt0Yb2Ws.js";import"./clock-D4ogtgGS.js";import"./shield-B0GD2scd.js";const L=[{title:"Employees",href:"/employees"},{title:"Adjustments",href:"#"}];function ce(t){const e=v.c(26),{employee:i,adjustments:p}=t,g=`Adjustments - ${i.name}`;let r;e[0]!==g?(r=s.jsx(A,{title:g}),e[0]=g,e[1]=r):r=e[1];const N=`/employees/${i.id}/edit`;let f;e[2]===Symbol.for("react.memo_cache_sentinel")?(f=s.jsxs(j,{variant:"outline",size:"sm",children:[s.jsx(C,{className:"mr-2 h-4 w-4"}),"Back to Employee"]}),e[2]=f):f=e[2];let l;e[3]!==N?(l=s.jsx(x,{href:N,children:f}),e[3]=N,e[4]=l):l=e[4];let n;e[5]!==i.name?(n=s.jsxs("h1",{className:"text-2xl font-bold",children:["Adjustments for ",i.name]}),e[5]=i.name,e[6]=n):n=e[6];let o;e[7]!==l||e[8]!==n?(o=s.jsxs("div",{className:"flex items-center gap-4",children:[l,n]}),e[7]=l,e[8]=n,e[9]=o):o=e[9];const y=`/adjustments/create?business_id=${i.business_id}&employee_id=${i.id}`;let u;e[10]===Symbol.for("react.memo_cache_sentinel")?(u=s.jsxs(j,{children:[s.jsx(E,{className:"mr-2 h-4 w-4"}),"Add Adjustment"]}),e[10]=u):u=e[10];let a;e[11]!==y?(a=s.jsx(x,{href:y,children:u}),e[11]=y,e[12]=a):a=e[12];let m;e[13]!==a||e[14]!==o?(m=s.jsxs("div",{className:"flex items-center justify-between",children:[o,a]}),e[13]=a,e[14]=o,e[15]=m):m=e[15];let d;e[16]!==p||e[17]!==i.business_id||e[18]!==i.id?(d=p&&p.length>0?s.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:p.map(S)}):s.jsx(_,{children:s.jsxs(b,{className:"py-10 text-center",children:[s.jsx("p",{className:"text-muted-foreground",children:"No adjustments found for this employee."}),s.jsx(x,{href:`/adjustments/create?business_id=${i.business_id}&employee_id=${i.id}`,className:"mt-4 inline-block",children:s.jsx(j,{children:"Add your first adjustment"})})]})}),e[16]=p,e[17]=i.business_id,e[18]=i.id,e[19]=d):d=e[19];let c;e[20]!==m||e[21]!==d?(c=s.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 overflow-x-auto rounded-xl p-4",children:[m,d]}),e[20]=m,e[21]=d,e[22]=c):c=e[22];let h;return e[23]!==c||e[24]!==r?(h=s.jsxs(D,{breadcrumbs:L,children:[r,c]}),e[23]=c,e[24]=r,e[25]=h):h=e[25],h}function S(t){return s.jsxs(_,{children:[s.jsx($,{children:s.jsx(w,{children:t.name})}),s.jsx(b,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Type: "}),s.jsx("span",{className:"font-medium capitalize",children:t.type})]}),s.jsxs("div",{className:"text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Adjustment: "}),s.jsx("span",{className:`font-medium capitalize ${t.adjustment_type==="deduction"?"text-red-600":"text-green-600"}`,children:t.adjustment_type==="deduction"?"Deduction":"Addition"})]}),s.jsxs("div",{className:"text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Amount: "}),s.jsx("span",{className:"font-medium",children:t.type==="percentage"?`${t.amount}%`:`ZAR ${parseFloat(t.amount).toLocaleString("en-ZA",{minimumFractionDigits:2,maximumFractionDigits:2})}`})]}),s.jsxs("div",{className:"text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Frequency: "}),s.jsx("span",{className:"font-medium capitalize",children:t.is_recurring?"Recurring":"Once-off"})]}),!t.is_recurring&&t.payroll_period_start&&s.jsxs("div",{className:"text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Period: "}),s.jsxs("span",{className:"font-medium",children:[new Date(t.payroll_period_start).toLocaleDateString()," - ",new Date(t.payroll_period_end).toLocaleDateString()]})]}),s.jsxs("div",{className:"text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Scope: "}),s.jsx("span",{className:"font-medium",children:t.employee_id===null?"Company-wide":"Employee-specific"})]}),s.jsxs("div",{className:"text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Status: "}),s.jsx("span",{className:`font-medium ${t.is_active?"text-green-600":"text-gray-500"}`,children:t.is_active?"Active":"Inactive"})]}),t.description&&s.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:t.description}),s.jsxs("div",{className:"flex gap-2 mt-4",children:[s.jsx(x,{href:`/adjustments/${t.id}/edit`,className:"flex-1",children:s.jsx(j,{variant:"outline",size:"sm",className:"w-full",children:"Edit"})}),s.jsx(x,{href:`/adjustments/${t.id}`,method:"delete",as:"button",className:"inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-9 px-3",children:"Delete"})]})]})})]},t.id)}export{ce as default};
