import{c as ae,r as U,j as s,L as k,a as q,H as re}from"./app-zh9bNfQA.js";import{B as T}from"./createLucideIcon-BZjvJ1Zn.js";import{C as Q,c as W,a as Y,b as ee}from"./card-BdZbHl6r.js";import{S as G,a as J,b as K,c as M,d as x}from"./select-Bf_U1fyU.js";import{A as ne}from"./app-layout-Du2zqNOn.js";import{P as oe}from"./plus-DPynhUc-.js";/* empty css            */import"./index-Bvd5418W.js";import"./chevron-down-C7_CWyHS.js";import"./x-BIBjS2Dr.js";import"./index-CaEI0-fE.js";import"./index-CvHCqEC4.js";import"./chevron-right-O9ILxyvV.js";import"./check-BlMOmQr2.js";import"./chevron-up-DTZu2ggr.js";import"./app-sidebar-header-CRr_1DPO.js";import"./index-NEtNT4ix.js";import"./appearance-dropdown-Bb28oTQN.js";import"./index-BH508O9j.js";import"./index-BJwOBxES.js";import"./index-CcLcdVZM.js";import"./log-out-D2fYovF8.js";import"./badge-VllgXE3C.js";import"./proxy-CflicfAZ.js";import"./circle-check-B9uKMuXu.js";import"./loader-circle-DmMzF6DP.js";import"./circle-x-BKTi4obl.js";import"./circle-alert-PjDKICDi.js";import"./credit-card-DZtV9Y3R.js";import"./dollar-sign-DV-oRcFJ.js";import"./message-square-CrR61UD7.js";import"./file-text-DIkPgk9X.js";import"./users-DRMz8fhj.js";import"./user-check-D6rfO7ti.js";import"./clock-CEsoW84B.js";import"./shield-DgxHpXTb.js";const ce=[{title:"Payroll",href:"/payroll"},{title:"Bonuses",href:"/payroll/bonuses"}];function We(t){const e=ae.c(61),{payments:z,businesses:n,selectedBusinessId:se,filters:R}=t,[i,te]=U.useState(se||n?.[0]?.id||""),[a,le]=U.useState(R?.filter||"all"),[r,ie]=U.useState(R?.period?R.period:"all");let _;e[0]!==a||e[1]!==r?(_=l=>{te(l);const m=r==="all"?"":r;q.get("/payroll/bonuses",{business_id:l,filter:a,period:m},{preserveState:!0})},e[0]=a,e[1]=r,e[2]=_):_=e[2];const y=_;let D;e[3]!==i||e[4]!==r?(D=l=>{le(l);const m=r==="all"?"":r;q.get("/payroll/bonuses",{business_id:i,filter:l,period:m},{preserveState:!0})},e[3]=i,e[4]=r,e[5]=D):D=e[5];const S=D;let w;e[6]!==i||e[7]!==a?(w=l=>{ie(l);const m=l==="all"?"":l;q.get("/payroll/bonuses",{business_id:i,filter:a,period:m},{preserveState:!0})},e[6]=i,e[7]=a,e[8]=w):w=e[8];const v=w;let u,p,o,c,h,f,d;if(e[9]!==i||e[10]!==n||e[11]!==a||e[12]!==y||e[13]!==S||e[14]!==v||e[15]!==z?.data||e[16]!==r){const l=z?.data||[],m=l.filter(pe)||[],X=l.filter(ue)||[];u=ne,f=ce,e[24]===Symbol.for("react.memo_cache_sentinel")?(d=s.jsx(re,{title:"Bonuses & One-Off Payments"}),e[24]=d):d=e[24],p="flex h-full flex-1 flex-col gap-4 overflow-x-auto rounded-xl p-4";let B;e[25]===Symbol.for("react.memo_cache_sentinel")?(B=s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Bonuses & One-Off Payments"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"One-time bonuses, allowances, and special payments for employees"})]}),e[25]=B):B=e[25];const Z=`/payroll/bonuses/create?business_id=${i}`;let C;e[26]===Symbol.for("react.memo_cache_sentinel")?(C=s.jsxs(T,{children:[s.jsx(oe,{className:"mr-2 h-4 w-4"}),"Add Bonus"]}),e[26]=C):C=e[26],e[27]!==Z?(o=s.jsxs("div",{className:"flex items-center justify-between",children:[B,s.jsx(k,{href:Z,children:C})]}),e[27]=Z,e[28]=o):o=e[28];let g;e[29]!==i||e[30]!==n||e[31]!==y?(g=n&&Array.isArray(n)&&n.length>0&&s.jsxs("div",{className:"max-w-xs",children:[s.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Business"}),s.jsxs(G,{value:String(i),onValueChange:y,children:[s.jsx(J,{children:s.jsx(K,{})}),s.jsx(M,{children:n.map(xe)})]})]}),e[29]=i,e[30]=n,e[31]=y,e[32]=g):g=e[32];let P;e[33]===Symbol.for("react.memo_cache_sentinel")?(P=s.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Filter"}),e[33]=P):P=e[33];let L;e[34]===Symbol.for("react.memo_cache_sentinel")?(L=s.jsx(J,{children:s.jsx(K,{})}),e[34]=L):L=e[34];let $;e[35]===Symbol.for("react.memo_cache_sentinel")?($=s.jsxs(M,{children:[s.jsx(x,{value:"all",children:"All Bonuses"}),s.jsx(x,{value:"company",children:"Company Bonuses"}),s.jsx(x,{value:"employee",children:"Employee Bonuses"})]}),e[35]=$):$=e[35];let N;e[36]!==a||e[37]!==S?(N=s.jsxs("div",{className:"max-w-xs",children:[P,s.jsxs(G,{value:a,onValueChange:S,children:[L,$]})]}),e[36]=a,e[37]=S,e[38]=N):N=e[38];let F;e[39]===Symbol.for("react.memo_cache_sentinel")?(F=s.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Period"}),e[39]=F):F=e[39];const H=r||"all";let E;e[40]===Symbol.for("react.memo_cache_sentinel")?(E=s.jsx(J,{children:s.jsx(K,{placeholder:"All periods"})}),e[40]=E):E=e[40];let I;e[41]===Symbol.for("react.memo_cache_sentinel")?(I=s.jsx(x,{value:"all",children:"All periods"}),e[41]=I):I=e[41];let O;e[42]===Symbol.for("react.memo_cache_sentinel")?(O=s.jsx(x,{value:new Date().toISOString().slice(0,7),children:new Date().toLocaleDateString("en-US",{month:"long",year:"numeric"})}),e[42]=O):O=e[42];let V;e[43]===Symbol.for("react.memo_cache_sentinel")?(V=s.jsxs(M,{children:[I,O,s.jsx(x,{value:new Date(Date.now()+2592e6).toISOString().slice(0,7),children:new Date(Date.now()+2592e6).toLocaleDateString("en-US",{month:"long",year:"numeric"})})]}),e[43]=V):V=e[43];let b;e[44]!==v||e[45]!==H?(b=s.jsxs("div",{className:"max-w-xs",children:[F,s.jsxs(G,{value:H,onValueChange:v,children:[E,V]})]}),e[44]=v,e[45]=H,e[46]=b):b=e[46],e[47]!==g||e[48]!==N||e[49]!==b?(c=s.jsxs("div",{className:"flex gap-4",children:[g,N,b]}),e[47]=g,e[48]=N,e[49]=b,e[50]=c):c=e[50],h=l&&l.length>0?s.jsxs("div",{className:"space-y-6",children:[m.length>0&&s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Company Bonuses"}),s.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:m.map(me)})]}),X.length>0&&s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Employee Bonuses"}),s.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:X.map(de)})]})]}):s.jsx(Q,{children:s.jsxs(W,{className:"py-10 text-center",children:[s.jsx("p",{className:"text-muted-foreground",children:"No bonuses found."}),s.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Bonuses are one-time payments for specific periods."}),s.jsx(k,{href:`/payroll/bonuses/create?business_id=${i}`,className:"mt-4 inline-block",children:s.jsx(T,{children:"Add your first bonus"})})]})}),e[9]=i,e[10]=n,e[11]=a,e[12]=y,e[13]=S,e[14]=v,e[15]=z?.data,e[16]=r,e[17]=u,e[18]=p,e[19]=o,e[20]=c,e[21]=h,e[22]=f,e[23]=d}else u=e[17],p=e[18],o=e[19],c=e[20],h=e[21],f=e[22],d=e[23];let j;e[51]!==p||e[52]!==o||e[53]!==c||e[54]!==h?(j=s.jsxs("div",{className:p,children:[o,c,h]}),e[51]=p,e[52]=o,e[53]=c,e[54]=h,e[55]=j):j=e[55];let A;return e[56]!==u||e[57]!==j||e[58]!==f||e[59]!==d?(A=s.jsxs(u,{breadcrumbs:f,children:[d,j]}),e[56]=u,e[57]=j,e[58]=f,e[59]=d,e[60]=A):A=e[60],A}function de(t){return s.jsxs(Q,{children:[s.jsx(Y,{children:s.jsxs(ee,{children:[t.employee?.name||"Employee"," - ",t.name]})}),s.jsx(W,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Amount: "}),s.jsx("span",{className:"font-medium",children:t.type==="percentage"?`${t.amount}%`:`ZAR ${parseFloat(t.amount).toLocaleString("en-ZA",{minimumFractionDigits:2,maximumFractionDigits:2})}`})]}),s.jsxs("div",{className:"text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Period: "}),s.jsxs("span",{className:"font-medium",children:[new Date(t.period_start).toLocaleDateString()," - ",new Date(t.period_end).toLocaleDateString()]})]}),s.jsxs("div",{className:"text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Type: "}),s.jsx("span",{className:`font-medium capitalize ${t.adjustment_type==="deduction"?"text-red-600":"text-green-600"}`,children:t.adjustment_type==="deduction"?"Deduction":"Addition"})]}),s.jsx("div",{className:"flex gap-2 mt-4",children:s.jsx(k,{href:`/payroll/bonuses/${t.id}/edit`,className:"flex-1",children:s.jsx(T,{variant:"outline",size:"sm",className:"w-full",children:"Edit"})})})]})})]},t.id)}function me(t){return s.jsxs(Q,{children:[s.jsx(Y,{children:s.jsx(ee,{children:t.name})}),s.jsx(W,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Amount: "}),s.jsx("span",{className:"font-medium",children:t.type==="percentage"?`${t.amount}%`:`ZAR ${parseFloat(t.amount).toLocaleString("en-ZA",{minimumFractionDigits:2,maximumFractionDigits:2})}`})]}),s.jsxs("div",{className:"text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"For: "}),s.jsx("span",{className:"font-medium",children:"All employees"})]}),s.jsxs("div",{className:"text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Period: "}),s.jsxs("span",{className:"font-medium",children:[new Date(t.period_start).toLocaleDateString()," - ",new Date(t.period_end).toLocaleDateString()]})]}),s.jsxs("div",{className:"text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Type: "}),s.jsx("span",{className:`font-medium capitalize ${t.adjustment_type==="deduction"?"text-red-600":"text-green-600"}`,children:t.adjustment_type==="deduction"?"Deduction":"Addition"})]}),s.jsx("div",{className:"flex gap-2 mt-4",children:s.jsx(k,{href:`/payroll/bonuses/${t.id}/edit`,className:"flex-1",children:s.jsx(T,{variant:"outline",size:"sm",className:"w-full",children:"Edit"})})})]})})]},t.id)}function xe(t){return s.jsx(x,{value:String(t.id),children:t.name},t.id)}function ue(t){return t.employee_id}function pe(t){return!t.employee_id}export{We as default};
