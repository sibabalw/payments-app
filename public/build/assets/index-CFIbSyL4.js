import{c as L,r as D,j as s,L as k,a as H,H as R}from"./app-DlRq_5I-.js";import{B as P}from"./createLucideIcon-DfICN48Q.js";import{C as S,a as A,b as F,c as v}from"./card-BpVtH_kK.js";import{a as T,b as V,d as E,c as Z,S as z}from"./select-Ba948_P_.js";import{A as B}from"./app-layout-B1Fh94R8.js";import{F as G}from"./file-text-DtJO93Xu.js";import{D as q}from"./download-Ds526V6q.js";/* empty css            */import"./index-BlmLjsw4.js";import"./chevron-down-DBn0VZdD.js";import"./x-RYBOgl4T.js";import"./index-D8-tZbVS.js";import"./index-qKkV1P3H.js";import"./chevron-right-FxPRos96.js";import"./check-57gXsznI.js";import"./chevron-up-C3E08OMs.js";import"./app-sidebar-header-DViv9NrM.js";import"./index-B1IOqWwB.js";import"./appearance-dropdown-kWEtid9a.js";import"./index-Dl5gb-Kb.js";import"./index-BC94lCP7.js";import"./index-CcLcdVZM.js";import"./log-out-BKe7v_gT.js";import"./badge-DkQNu0Ve.js";import"./proxy-DB18oa0z.js";import"./circle-check-CTpeSp7r.js";import"./loader-circle-DB6syjKq.js";import"./circle-x-DCpd_SlB.js";import"./circle-alert-BMPPz6PA.js";import"./plus-CLDQrfk-.js";import"./credit-card-BEASO8FW.js";import"./dollar-sign-CAhazD9z.js";import"./message-square-BIfa93Ti.js";import"./users-DkXA52Op.js";import"./user-check-BIHcPLhA.js";import"./clock-eJfs3CCo.js";import"./shield-Bc8H0Rwn.js";const J=[{title:"Payslips",href:"/payslips"}];function $e(r){const e=L.c(23),{payslips:n,employees:y,filters:w}=r,[$,I]=D.useState(w?.employee_id||""),[_]=D.useState(w?.business_id||"");let c;e[0]!==_?(c=t=>{I(t),H.get("/payslips",{employee_id:t||null,business_id:_||null},{preserveState:!0})},e[0]=_,e[1]=c):c=e[1];const g=c,N=O,C=M;let d;e[2]===Symbol.for("react.memo_cache_sentinel")?(d=s.jsx(R,{title:"Payslips"}),e[2]=d):d=e[2];let x;e[3]===Symbol.for("react.memo_cache_sentinel")?(x=s.jsx("div",{className:"flex items-center justify-between",children:s.jsx("h1",{className:"text-2xl font-bold",children:"Payslips"})}),e[3]=x):x=e[3];let p;e[4]===Symbol.for("react.memo_cache_sentinel")?(p=s.jsx(A,{children:s.jsx(F,{children:"Filters"})}),e[4]=p):p=e[4];let f;e[5]===Symbol.for("react.memo_cache_sentinel")?(f=s.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Employee"}),e[5]=f):f=e[5];const b=$||"all";let l;e[6]!==g?(l=t=>g(t==="all"?"":t),e[6]=g,e[7]=l):l=e[7];let h;e[8]===Symbol.for("react.memo_cache_sentinel")?(h=s.jsx(T,{children:s.jsx(V,{placeholder:"All employees"})}),e[8]=h):h=e[8];let u;e[9]===Symbol.for("react.memo_cache_sentinel")?(u=s.jsx(E,{value:"all",children:"All employees"}),e[9]=u):u=e[9];let i;e[10]!==y?(i=y.map(K),e[10]=y,e[11]=i):i=e[11];let a;e[12]!==i?(a=s.jsxs(Z,{children:[u,i]}),e[12]=i,e[13]=a):a=e[13];let o;e[14]!==a||e[15]!==b||e[16]!==l?(o=s.jsxs(S,{children:[p,s.jsx(v,{children:s.jsxs("div",{className:"max-w-xs",children:[f,s.jsxs(z,{value:b,onValueChange:l,children:[h,a]})]})})]}),e[14]=a,e[15]=b,e[16]=l,e[17]=o):o=e[17];let m;e[18]!==n?(m=n?.data&&n.data.length>0?s.jsx("div",{className:"space-y-4",children:n.data.map(t=>s.jsxs(S,{children:[s.jsx(A,{children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx(F,{className:"text-lg",children:t.employee?.name}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:t.pay_period_start&&t.pay_period_end?`${N(t.pay_period_start)} - ${N(t.pay_period_end)}`:"Pay period not specified"}),t.processed_at&&s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Paid: ",N(t.processed_at)]})]}),s.jsx("span",{className:"inline-flex items-center rounded-full px-2 py-1 text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",children:t.status})]})}),s.jsx(v,{children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Gross Salary:"}),s.jsx("span",{className:"font-medium ml-2",children:C(t.gross_salary)})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Net Pay:"}),s.jsx("span",{className:"font-medium text-green-600 ml-2",children:C(t.net_salary)})]})]}),s.jsxs("div",{className:"flex gap-2 pt-2",children:[s.jsx(k,{href:`/payslips/${t.id}`,className:"flex-1",children:s.jsxs(P,{variant:"outline",size:"sm",className:"w-full",children:[s.jsx(G,{className:"mr-2 h-4 w-4"}),"View Payslip"]})}),s.jsx("a",{href:`/payslips/${t.id}/download`,className:"flex-1",children:s.jsxs(P,{size:"sm",className:"w-full",children:[s.jsx(q,{className:"mr-2 h-4 w-4"}),"Download PDF"]})})]})]})})]},t.id))}):s.jsx(S,{children:s.jsx(v,{className:"py-10 text-center",children:s.jsx("p",{className:"text-muted-foreground",children:"No payslips found."})})}),e[18]=n,e[19]=m):m=e[19];let j;return e[20]!==o||e[21]!==m?(j=s.jsxs(B,{breadcrumbs:J,children:[d,s.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 overflow-x-auto rounded-xl p-4",children:[x,o,m]})]}),e[20]=o,e[21]=m,e[22]=j):j=e[22],j}function K(r){return s.jsx(E,{value:String(r.id),children:r.name},r.id)}function M(r){return`ZAR ${parseFloat(String(r)).toLocaleString("en-ZA",{minimumFractionDigits:2,maximumFractionDigits:2})}`}function O(r){return r?new Date(r).toLocaleDateString("en-ZA",{year:"numeric",month:"short",day:"numeric"}):"N/A"}export{$e as default};
