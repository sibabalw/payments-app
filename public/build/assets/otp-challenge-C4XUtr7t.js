import{c as O,r as w,b as H,j as r,H as k,F as L,a as Q}from"./app-CMeUrf50.js";import{I as $}from"./input-error-DGa17wxa.js";import{B}from"./x-CZYrHTRQ.js";import{I as D,K as G,a as K,b as V}from"./input-otp-DkRFNfmP.js";import{S as A}from"./spinner-Cg7quiac.js";import{A as z}from"./auth-layout-2vR3xZoY.js";import{q as S}from"./index-Cfp_L9w6.js";/* empty css            */import"./minus-BNoV4j4X.js";import"./loader-circle-PC8s1h8o.js";import"./public-nav-aUO0t2o7.js";import"./appearance-dropdown-CIplfUHR.js";import"./zap-CG8czrXy.js";import"./circle-help-B-2QybsR.js";import"./mail-53TiOJwa.js";const s=e=>({url:s.url(e),method:"get"});s.definition={methods:["get","head"],url:"/admin/otp"};s.url=e=>s.definition.url+S(e);s.get=e=>({url:s.url(e),method:"get"});s.head=e=>({url:s.url(e),method:"head"});const F=e=>({action:s.url(e),method:"get"});F.get=e=>({action:s.url(e),method:"get"});F.head=e=>({action:s.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...e?.query??e?.mergeQuery??{}}}),method:"get"});s.form=F;const o=e=>({url:o.url(e),method:"post"});o.definition={methods:["post"],url:"/admin/otp"};o.url=e=>o.definition.url+S(e);o.post=e=>({url:o.url(e),method:"post"});const I=e=>({action:o.url(e),method:"post"});I.post=e=>({action:o.url(e),method:"post"});o.form=I;const n=e=>({url:n.url(e),method:"post"});n.definition={methods:["post"],url:"/admin/otp/resend"};n.url=e=>n.definition.url+S(e);n.post=e=>({url:n.url(e),method:"post"});const P=e=>({action:n.url(e),method:"post"});P.post=e=>({action:n.url(e),method:"post"});n.form=P;Object.assign(s,s),Object.assign(o,o),Object.assign(n,n);const E=6;function ce(e){const t=O.c(19),{email:h,status:l,error:a,errors:m}=e;let i;t[0]!==m?(i=m===void 0?{}:m,t[0]=m,t[1]=i):i=t[1];const c=i,[x,R]=w.useState(""),{errors:C}=H().props,_=C??c,v=`Enter the 6-digit code we sent to ${h}`;let g;t[2]===Symbol.for("react.memo_cache_sentinel")?(g=r.jsx(k,{title:"Admin Verification"}),t[2]=g):g=t[2];let d;t[3]!==l?(d=l&&r.jsx("div",{className:"mb-4 text-center text-sm font-medium text-green-600 dark:text-green-400",children:l}),t[3]=l,t[4]=d):d=t[4];let u;t[5]!==a?(u=a&&r.jsx("div",{className:"mb-4 text-center text-sm font-medium text-red-600 dark:text-red-400",children:a}),t[5]=a,t[6]=u):u=t[6];let j;t[7]===Symbol.for("react.memo_cache_sentinel")?(j=o.url(),t[7]=j):j=t[7];let p;t[8]!==x||t[9]!==_.otp?(p=r.jsx(L,{action:j,method:"post",className:"space-y-4",resetOnError:!0,children:T=>{const{processing:N}=T;return r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex flex-col items-center justify-center space-y-3 text-center",children:[r.jsx("div",{className:"flex w-full items-center justify-center",children:r.jsx(D,{name:"otp",maxLength:E,value:x,onChange:q=>R(q),disabled:N,pattern:G,children:r.jsx(K,{children:Array.from({length:E},J)})})}),r.jsx($,{message:_.otp}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Enter the 6-digit code from your email. It expires in 10 minutes."})]}),r.jsxs(B,{type:"submit",className:"w-full",disabled:N||x.length!==E,children:[N&&r.jsx(A,{}),"Continue"]})]})}}),t[8]=x,t[9]=_.otp,t[10]=p):p=t[10];let y;t[11]===Symbol.for("react.memo_cache_sentinel")?(y=r.jsx(M,{}),t[11]=y):y=t[11];let f;t[12]!==p?(f=r.jsxs("div",{className:"space-y-6",children:[p,y]}),t[12]=p,t[13]=f):f=t[13];let b;return t[14]!==f||t[15]!==v||t[16]!==d||t[17]!==u?(b=r.jsxs(z,{title:"Admin verification",description:v,children:[g,d,u,f]}),t[14]=f,t[15]=v,t[16]=d,t[17]=u,t[18]=b):b=t[18],b}function J(e,t){return r.jsx(V,{index:t},t)}function M(){const e=O.c(7),[t,h]=w.useState(!1);let l;e[0]===Symbol.for("react.memo_cache_sentinel")?(l=()=>{h(!0),Q.post(n.url(),{},{onFinish:()=>h(!1)})},e[0]=l):l=e[0];const a=l;let m;e[1]===Symbol.for("react.memo_cache_sentinel")?(m=r.jsx("span",{children:"Didn't receive the code? "}),e[1]=m):m=e[1];let i;e[2]!==t?(i=t?r.jsxs(r.Fragment,{children:[r.jsx(A,{className:"mr-1 inline h-3 w-3"}),"Sendingâ€¦"]}):"Resend code",e[2]=t,e[3]=i):i=e[3];let c;return e[4]!==t||e[5]!==i?(c=r.jsxs("div",{className:"text-center text-sm text-muted-foreground",children:[m,r.jsx("button",{type:"button",onClick:a,disabled:t,className:"text-primary hover:underline disabled:opacity-50",children:i})]}),e[4]=t,e[5]=i,e[6]=c):c=e[6],c}export{ce as default};
