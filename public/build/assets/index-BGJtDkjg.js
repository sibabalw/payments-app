import{c as oe,j as s,H as se,L as k}from"./app-zh9bNfQA.js";import{a as de,B as ce}from"./createLucideIcon-BZjvJ1Zn.js";import{C as l,a as i,b as c,c as a,d as Q}from"./card-BdZbHl6r.js";import{B as A}from"./badge-VllgXE3C.js";import{A as te}from"./app-layout-Du2zqNOn.js";import{C as xe}from"./clock-CEsoW84B.js";import{C as re}from"./circle-alert-PjDKICDi.js";import{C as he}from"./circle-check-B9uKMuXu.js";import{S as le}from"./shield-DgxHpXTb.js";import{C as fe}from"./calendar-B3bfc_Ei.js";import{F as ae}from"./file-text-DIkPgk9X.js";import{U as pe}from"./users-DRMz8fhj.js";import{F as je}from"./file-spreadsheet-Pwl5YlLN.js";import{A as ue}from"./arrow-right-C9II7QKe.js";/* empty css            */import"./app-sidebar-header-CRr_1DPO.js";import"./index-Bvd5418W.js";import"./index-NEtNT4ix.js";import"./x-BIBjS2Dr.js";import"./appearance-dropdown-Bb28oTQN.js";import"./index-BH508O9j.js";import"./chevron-down-C7_CWyHS.js";import"./index-CaEI0-fE.js";import"./index-BJwOBxES.js";import"./index-CcLcdVZM.js";import"./log-out-D2fYovF8.js";import"./chevron-right-O9ILxyvV.js";import"./proxy-CflicfAZ.js";import"./loader-circle-DmMzF6DP.js";import"./circle-x-BKTi4obl.js";import"./plus-DPynhUc-.js";import"./credit-card-DZtV9Y3R.js";import"./dollar-sign-DV-oRcFJ.js";import"./message-square-CrR61UD7.js";import"./user-check-D6rfO7ti.js";const be=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]],ge=de("FileCheck",be),ie=[{title:"Compliance",href:"/compliance"}];function is(r){const e=oe.c(60),{business:D,submissions:n,pendingItems:m,deadlines:F,currentTaxYear:W}=r,X=we,ne=Se,me=_e;if(!D){let t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=s.jsx(se,{title:"Compliance"}),e[0]=t):t=e[0];let C,o,d;e[1]===Symbol.for("react.memo_cache_sentinel")?(C=s.jsx(le,{className:"h-12 w-12 text-muted-foreground mb-4"}),o=s.jsx("h2",{className:"text-xl font-semibold mb-2",children:"No Business Selected"}),d=s.jsx("p",{className:"text-muted-foreground text-center mb-4",children:"Please select a business to view compliance information."}),e[1]=C,e[2]=o,e[3]=d):(C=e[1],o=e[2],d=e[3]);let O;return e[4]===Symbol.for("react.memo_cache_sentinel")?(O=s.jsxs(te,{breadcrumbs:ie,children:[t,s.jsx("div",{className:"flex h-full flex-1 flex-col gap-4 p-4",children:s.jsx(l,{children:s.jsxs(a,{className:"flex flex-col items-center justify-center py-12",children:[C,o,d,s.jsx(ce,{asChild:!0,children:s.jsx(k,{href:"/businesses",children:"Go to Businesses"})})]})})})]}),e[4]=O):O=e[4],O}let R;e[5]===Symbol.for("react.memo_cache_sentinel")?(R=s.jsx(se,{title:"Compliance Dashboard"}),e[5]=R):R=e[5];let I;e[6]===Symbol.for("react.memo_cache_sentinel")?(I=s.jsx("h1",{className:"text-2xl font-bold",children:"Compliance Dashboard"}),e[6]=I):I=e[6];let x;e[7]!==D.name?(x=s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[I,s.jsxs("p",{className:"text-muted-foreground",children:["Manage tax submissions and compliance for ",D.name]})]})}),e[7]=D.name,e[8]=x):x=e[8];let P;e[9]===Symbol.for("react.memo_cache_sentinel")?(P=s.jsxs(i,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(c,{className:"text-sm font-medium",children:"Current Tax Year"}),s.jsx(fe,{className:"h-4 w-4 text-muted-foreground"})]}),e[9]=P):P=e[9];let h;e[10]!==W?(h=s.jsx("div",{className:"text-2xl font-bold",children:W}),e[10]=W,e[11]=h):h=e[11];let U;e[12]===Symbol.for("react.memo_cache_sentinel")?(U=s.jsx("p",{className:"text-xs text-muted-foreground",children:"March to February"}),e[12]=U):U=e[12];let f;e[13]!==h?(f=s.jsxs(l,{children:[P,s.jsxs(a,{children:[h,U]})]}),e[13]=h,e[14]=f):f=e[14];let E;e[15]===Symbol.for("react.memo_cache_sentinel")?(E=s.jsxs(i,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(c,{className:"text-sm font-medium",children:"Pending Items"}),s.jsx(re,{className:"h-4 w-4 text-amber-500"})]}),e[15]=E):E=e[15];let p;e[16]!==m?(p=m.reduce(ye,0),e[16]=m,e[17]=p):p=e[17];let j;e[18]!==p?(j=s.jsx("div",{className:"text-2xl font-bold",children:p}),e[18]=p,e[19]=j):j=e[19];let T;e[20]===Symbol.for("react.memo_cache_sentinel")?(T=s.jsx("p",{className:"text-xs text-muted-foreground",children:"Awaiting submission"}),e[20]=T):T=e[20];let u;e[21]!==j?(u=s.jsxs(l,{children:[E,s.jsxs(a,{children:[j,T]})]}),e[21]=j,e[22]=u):u=e[22];let B;e[23]===Symbol.for("react.memo_cache_sentinel")?(B=s.jsxs(i,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(c,{className:"text-sm font-medium",children:"Total Submissions"}),s.jsx(ge,{className:"h-4 w-4 text-green-500"})]}),e[23]=B):B=e[23];let b;e[24]!==n.length?(b=s.jsx("div",{className:"text-2xl font-bold",children:n.length}),e[24]=n.length,e[25]=b):b=e[25];let L;e[26]===Symbol.for("react.memo_cache_sentinel")?(L=s.jsx("p",{className:"text-xs text-muted-foreground",children:"All time"}),e[26]=L):L=e[26];let g;e[27]!==b?(g=s.jsxs(l,{children:[B,s.jsxs(a,{children:[b,L]})]}),e[27]=b,e[28]=g):g=e[28];let M;e[29]===Symbol.for("react.memo_cache_sentinel")?(M=s.jsxs(i,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(c,{className:"text-sm font-medium",children:"PAYE Reference"}),s.jsx(ae,{className:"h-4 w-4 text-muted-foreground"})]}),e[29]=M):M=e[29];const ee=D.tax_id||"Not set";let N;e[30]!==ee?(N=s.jsx("div",{className:"text-lg font-bold truncate",children:ee}),e[30]=ee,e[31]=N):N=e[31];let H;e[32]===Symbol.for("react.memo_cache_sentinel")?(H=s.jsx("p",{className:"text-xs text-muted-foreground",children:"SARS registration"}),e[32]=H):H=e[32];let y;e[33]!==N?(y=s.jsxs(l,{children:[M,s.jsxs(a,{children:[N,H]})]}),e[33]=N,e[34]=y):y=e[34];let _;e[35]!==u||e[36]!==g||e[37]!==y||e[38]!==f?(_=s.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[f,u,g,y]}),e[35]=u,e[36]=g,e[37]=y,e[38]=f,e[39]=_):_=e[39];let S;e[40]!==F?(S=F.length>0&&s.jsxs(l,{children:[s.jsx(i,{children:s.jsxs(c,{className:"flex items-center gap-2",children:[s.jsx(xe,{className:"h-5 w-5"}),"Upcoming Deadlines"]})}),s.jsx(a,{children:s.jsx("div",{className:"grid gap-4 md:grid-cols-3",children:F.map((t,C)=>{const o=ne(t.deadline),d=o<=7;return s.jsxs("div",{className:`p-4 rounded-lg border ${d?"border-red-200 bg-red-50 dark:border-red-800 dark:bg-red-950":"border-border bg-muted/30"}`,children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsx("h4",{className:"font-semibold text-sm",children:t.title}),s.jsxs(A,{variant:d?"destructive":"secondary",children:[o," days"]})]}),s.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:t.description}),s.jsxs("p",{className:"text-xs font-medium",children:["Due: ",X(t.deadline)]})]},C)})})})]}),e[40]=F,e[41]=S):S=e[41];let w;e[42]!==m?(w=m.length>0&&s.jsxs(l,{className:"border-amber-200 bg-amber-50 dark:border-amber-800 dark:bg-amber-950",children:[s.jsx(i,{children:s.jsxs(c,{className:"flex items-center gap-2 text-amber-800 dark:text-amber-200",children:[s.jsx(re,{className:"h-5 w-5"}),"Pending Submissions"]})}),s.jsx(a,{children:s.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:m.map(Ne)})})]}),e[42]=m,e[43]=w):w=e[43];let G;e[44]===Symbol.for("react.memo_cache_sentinel")?(G=s.jsxs(i,{children:[s.jsxs(c,{className:"flex items-center gap-2 text-base",children:[s.jsx(pe,{className:"h-5 w-5 text-blue-500"}),"UIF Declarations"]}),s.jsx(Q,{children:"UI-19 monthly reports"})]}),e[44]=G):G=e[44];let Y;e[45]===Symbol.for("react.memo_cache_sentinel")?(Y=s.jsx(l,{className:"hover:border-primary/50 transition-colors cursor-pointer",children:s.jsxs(k,{href:"/compliance/uif",children:[G,s.jsx(a,{children:s.jsx("p",{className:"text-sm text-muted-foreground",children:"Generate and submit UIF contribution declarations to the Department of Labour."})})]})}),e[45]=Y):Y=e[45];let $;e[46]===Symbol.for("react.memo_cache_sentinel")?($=s.jsxs(i,{children:[s.jsxs(c,{className:"flex items-center gap-2 text-base",children:[s.jsx(je,{className:"h-5 w-5 text-green-500"}),"EMP201 Helper"]}),s.jsx(Q,{children:"Monthly tax submission"})]}),e[46]=$):$=e[46];let q;e[47]===Symbol.for("react.memo_cache_sentinel")?(q=s.jsx(l,{className:"hover:border-primary/50 transition-colors cursor-pointer",children:s.jsxs(k,{href:"/compliance/emp201",children:[$,s.jsx(a,{children:s.jsx("p",{className:"text-sm text-muted-foreground",children:"Prepare PAYE, UIF, and SDL data for SARS monthly submission."})})]})}),e[47]=q):q=e[47];let z;e[48]===Symbol.for("react.memo_cache_sentinel")?(z=s.jsxs(i,{children:[s.jsxs(c,{className:"flex items-center gap-2 text-base",children:[s.jsx(ae,{className:"h-5 w-5 text-purple-500"}),"IRP5 Certificates"]}),s.jsx(Q,{children:"Employee tax certificates"})]}),e[48]=z):z=e[48];let Z;e[49]===Symbol.for("react.memo_cache_sentinel")?(Z=s.jsx(l,{className:"hover:border-primary/50 transition-colors cursor-pointer",children:s.jsxs(k,{href:"/compliance/irp5",children:[z,s.jsx(a,{children:s.jsx("p",{className:"text-sm text-muted-foreground",children:"Generate annual IRP5 tax certificates for employees."})})]})}),e[49]=Z):Z=e[49];let V;e[50]===Symbol.for("react.memo_cache_sentinel")?(V=s.jsxs(i,{children:[s.jsxs(c,{className:"flex items-center gap-2 text-base",children:[s.jsx(le,{className:"h-5 w-5 text-amber-500"}),"SARS Export"]}),s.jsx(Q,{children:"Download for eFiling"})]}),e[50]=V):V=e[50];let J;e[51]===Symbol.for("react.memo_cache_sentinel")?(J=s.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[Y,q,Z,s.jsx(l,{className:"hover:border-primary/50 transition-colors cursor-pointer",children:s.jsxs(k,{href:"/compliance/sars-export",children:[V,s.jsx(a,{children:s.jsx("p",{className:"text-sm text-muted-foreground",children:"Export compliance data in SARS-compatible formats for eFiling."})})]})})]}),e[51]=J):J=e[51];let v;e[52]!==n?(v=n.length>0&&s.jsxs(l,{children:[s.jsx(i,{children:s.jsxs(c,{className:"flex items-center gap-2",children:[s.jsx(he,{className:"h-5 w-5"}),"Recent Submissions"]})}),s.jsx(a,{children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b",children:[s.jsx("th",{className:"text-left p-3",children:"Type"}),s.jsx("th",{className:"text-left p-3",children:"Period"}),s.jsx("th",{className:"text-left p-3",children:"Status"}),s.jsx("th",{className:"text-left p-3",children:"Created"}),s.jsx("th",{className:"text-left p-3",children:"Submitted"})]})}),s.jsx("tbody",{children:n.map(t=>s.jsxs("tr",{className:"border-b hover:bg-muted/50",children:[s.jsx("td",{className:"p-3 font-medium",children:t.type_display}),s.jsx("td",{className:"p-3",children:t.period}),s.jsx("td",{className:"p-3",children:me(t.status)}),s.jsx("td",{className:"p-3 text-muted-foreground",children:X(t.created_at)}),s.jsx("td",{className:"p-3 text-muted-foreground",children:t.submitted_at?X(t.submitted_at):"-"})]},t.id))})]})})})]}),e[52]=n,e[53]=v):v=e[53];let K;return e[54]!==_||e[55]!==S||e[56]!==w||e[57]!==x||e[58]!==v?(K=s.jsxs(te,{breadcrumbs:ie,children:[R,s.jsxs("div",{className:"flex h-full flex-1 flex-col gap-6 overflow-x-auto rounded-xl p-4",children:[x,_,S,w,J,v]})]}),e[54]=_,e[55]=S,e[56]=w,e[57]=x,e[58]=v,e[59]=K):K=e[59],K}function Ne(r,e){return s.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-white dark:bg-background border",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium",children:r.title}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[r.count," period",r.count>1?"s":""," pending"]})]}),s.jsx(ce,{asChild:!0,size:"sm",children:s.jsxs(k,{href:`/compliance/${r.type}`,children:["Review",s.jsx(ue,{className:"ml-2 h-4 w-4"})]})})]},e)}function ye(r,e){return r+e.count}function _e(r){switch(r){case"submitted":return s.jsx(A,{className:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",children:"Submitted"});case"generated":return s.jsx(A,{className:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",children:"Generated"});case"draft":return s.jsx(A,{className:"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-200",children:"Draft"});default:return s.jsx(A,{variant:"secondary",children:r})}}function Se(r){return Math.ceil((new Date(r).getTime()-new Date().getTime())/864e5)}function we(r){return new Date(r).toLocaleDateString("en-ZA",{year:"numeric",month:"short",day:"numeric"})}export{is as default};
