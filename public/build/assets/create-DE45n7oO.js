import{c as qe,u as Ae,j as t,H as Oe,L as Me}from"./app-zh9bNfQA.js";import{I as f}from"./input-error-2-LekhPz.js";import{B as Pe}from"./createLucideIcon-BZjvJ1Zn.js";import{C as $e,a as ze,b as Ge,c as Je}from"./card-BdZbHl6r.js";import{I as Ne}from"./input-DiGHHSH4.js";import{L as u}from"./label-Bimm6ppi.js";import{S as we,a as He,b as Be,c as De,d as _}from"./select-Bf_U1fyU.js";import{T as Ke}from"./textarea-vl710I3f.js";import{A as Qe}from"./app-layout-Du2zqNOn.js";/* empty css            */import"./index-BJwOBxES.js";import"./index-Bvd5418W.js";import"./chevron-down-C7_CWyHS.js";import"./x-BIBjS2Dr.js";import"./index-CaEI0-fE.js";import"./index-CvHCqEC4.js";import"./chevron-right-O9ILxyvV.js";import"./check-BlMOmQr2.js";import"./chevron-up-DTZu2ggr.js";import"./app-sidebar-header-CRr_1DPO.js";import"./index-NEtNT4ix.js";import"./appearance-dropdown-Bb28oTQN.js";import"./index-BH508O9j.js";import"./index-CcLcdVZM.js";import"./log-out-D2fYovF8.js";import"./badge-VllgXE3C.js";import"./proxy-CflicfAZ.js";import"./circle-check-B9uKMuXu.js";import"./loader-circle-DmMzF6DP.js";import"./circle-x-BKTi4obl.js";import"./circle-alert-PjDKICDi.js";import"./plus-DPynhUc-.js";import"./credit-card-DZtV9Y3R.js";import"./dollar-sign-DV-oRcFJ.js";import"./message-square-CrR61UD7.js";import"./file-text-DIkPgk9X.js";import"./users-DRMz8fhj.js";import"./user-check-D6rfO7ti.js";import"./clock-CEsoW84B.js";import"./shield-DgxHpXTb.js";const We=[{title:"Leave Management",href:"/leave"},{title:"Create",href:"#"}];function Rt(a){const e=qe.c(157),{businesses:h,employees:Se,selectedBusinessId:Ue,selectedEmployeeId:Ve}=a;let de,me;if(e[0]===Symbol.for("react.memo_cache_sentinel")){const r=new URLSearchParams(window.location.search);de=r.get("business_id"),me=r.get("employee_id"),e[0]=de,e[1]=me}else de=e[0],me=e[1];const ke=me,Ce=Ue||de||h[0]?.id||"",Le=Ve||ke||"";let ce;e[2]!==Ce||e[3]!==Le?(ce={business_id:Ce,employee_id:Le,leave_type:"paid",start_date:"",end_date:"",hours:"",notes:""},e[2]=Ce,e[3]=Le,e[4]=ce):ce=e[4];const{data:s,setData:l,post:Ee,processing:Fe,errors:i}=Ae(ce);let pe;e[5]!==Ee?(pe=r=>{r.preventDefault(),Ee("/leave")},e[5]=Ee,e[6]=pe):pe=e[6];const Te=pe;let x,j,v,y,b,o,n,g,S,d,m,C,L,c,E,F,p,T;if(e[7]!==h||e[8]!==s.business_id||e[9]!==s.employee_id||e[10]!==Se||e[11]!==i.business_id||e[12]!==l||e[13]!==Te){let r;e[32]!==s.business_id?(r=ne=>!s.business_id||ne.business_id===Number(s.business_id),e[32]=s.business_id,e[33]=r):r=e[33];const Re=Se.filter(r);b=Qe,L=We,e[34]===Symbol.for("react.memo_cache_sentinel")?(c=t.jsx(Oe,{title:"Create Leave Entry"}),e[34]=c):c=e[34],C="flex h-full flex-1 flex-col gap-4 overflow-x-auto rounded-xl p-4",y=$e,e[35]===Symbol.for("react.memo_cache_sentinel")?(m=t.jsx(ze,{children:t.jsx(Ge,{children:"Create Leave Entry"})}),e[35]=m):m=e[35],v=Je,g=Te,S="space-y-4";let be;e[36]===Symbol.for("react.memo_cache_sentinel")?(be=t.jsx(u,{htmlFor:"business_id",children:"Business"}),e[36]=be):be=e[36];const Ie=String(s.business_id);let le;e[37]!==l?(le=ne=>l("business_id",Number(ne)),e[37]=l,e[38]=le):le=e[38];let ge;e[39]===Symbol.for("react.memo_cache_sentinel")?(ge=t.jsx(He,{children:t.jsx(Be,{})}),e[39]=ge):ge=e[39];let ie;e[40]!==h?(ie=h.map(Ye),e[40]=h,e[41]=ie):ie=e[41];let re;e[42]!==ie?(re=t.jsx(De,{children:ie}),e[42]=ie,e[43]=re):re=e[43];let ae;e[44]!==Ie||e[45]!==le||e[46]!==re?(ae=t.jsxs(we,{value:Ie,onValueChange:le,children:[ge,re]}),e[44]=Ie,e[45]=le,e[46]=re,e[47]=ae):ae=e[47];let oe;e[48]!==i.business_id?(oe=t.jsx(f,{message:i.business_id}),e[48]=i.business_id,e[49]=oe):oe=e[49],e[50]!==ae||e[51]!==oe?(d=t.jsxs("div",{children:[be,ae,oe]}),e[50]=ae,e[51]=oe,e[52]=d):d=e[52],e[53]===Symbol.for("react.memo_cache_sentinel")?(n=t.jsx(u,{htmlFor:"employee_id",children:"Employee"}),e[53]=n):n=e[53],j=we,F=String(s.employee_id),e[54]!==l?(p=ne=>l("employee_id",Number(ne)),e[54]=l,e[55]=p):p=e[55],T=!s.business_id,e[56]===Symbol.for("react.memo_cache_sentinel")?(o=t.jsx(He,{children:t.jsx(Be,{placeholder:"Select employee"})}),e[56]=o):o=e[56],x=De,E=Re.map(Xe),e[7]=h,e[8]=s.business_id,e[9]=s.employee_id,e[10]=Se,e[11]=i.business_id,e[12]=l,e[13]=Te,e[14]=x,e[15]=j,e[16]=v,e[17]=y,e[18]=b,e[19]=o,e[20]=n,e[21]=g,e[22]=S,e[23]=d,e[24]=m,e[25]=C,e[26]=L,e[27]=c,e[28]=E,e[29]=F,e[30]=p,e[31]=T}else x=e[14],j=e[15],v=e[16],y=e[17],b=e[18],o=e[19],n=e[20],g=e[21],S=e[22],d=e[23],m=e[24],C=e[25],L=e[26],c=e[27],E=e[28],F=e[29],p=e[30],T=e[31];let I;e[57]!==x||e[58]!==E?(I=t.jsx(x,{children:E}),e[57]=x,e[58]=E,e[59]=I):I=e[59];let N;e[60]!==j||e[61]!==o||e[62]!==I||e[63]!==F||e[64]!==p||e[65]!==T?(N=t.jsxs(j,{value:F,onValueChange:p,disabled:T,children:[o,I]}),e[60]=j,e[61]=o,e[62]=I,e[63]=F,e[64]=p,e[65]=T,e[66]=N):N=e[66];let w;e[67]!==i.employee_id?(w=t.jsx(f,{message:i.employee_id}),e[67]=i.employee_id,e[68]=w):w=e[68];let H;e[69]!==n||e[70]!==N||e[71]!==w?(H=t.jsxs("div",{children:[n,N,w]}),e[69]=n,e[70]=N,e[71]=w,e[72]=H):H=e[72];let fe;e[73]===Symbol.for("react.memo_cache_sentinel")?(fe=t.jsx(u,{htmlFor:"leave_type",children:"Leave Type"}),e[73]=fe):fe=e[73];let B;e[74]!==l?(B=r=>l("leave_type",r),e[74]=l,e[75]=B):B=e[75];let ue;e[76]===Symbol.for("react.memo_cache_sentinel")?(ue=t.jsx(He,{children:t.jsx(Be,{})}),e[76]=ue):ue=e[76];let _e;e[77]===Symbol.for("react.memo_cache_sentinel")?(_e=t.jsxs(De,{children:[t.jsx(_,{value:"paid",children:"Paid Leave"}),t.jsx(_,{value:"unpaid",children:"Unpaid Leave"}),t.jsx(_,{value:"sick",children:"Sick Leave"}),t.jsx(_,{value:"public_holiday",children:"Public Holiday"}),t.jsx(_,{value:"other",children:"Other"})]}),e[77]=_e):_e=e[77];let D;e[78]!==s.leave_type||e[79]!==B?(D=t.jsxs(we,{value:s.leave_type,onValueChange:B,children:[ue,_e]}),e[78]=s.leave_type,e[79]=B,e[80]=D):D=e[80];let P;e[81]!==i.leave_type?(P=t.jsx(f,{message:i.leave_type}),e[81]=i.leave_type,e[82]=P):P=e[82];let U;e[83]!==D||e[84]!==P?(U=t.jsxs("div",{children:[fe,D,P]}),e[83]=D,e[84]=P,e[85]=U):U=e[85];let he;e[86]===Symbol.for("react.memo_cache_sentinel")?(he=t.jsx(u,{htmlFor:"start_date",children:"Start Date"}),e[86]=he):he=e[86];let V;e[87]!==l?(V=r=>l("start_date",r.target.value),e[87]=l,e[88]=V):V=e[88];let k;e[89]!==s.start_date||e[90]!==V?(k=t.jsx(Ne,{id:"start_date",type:"date",value:s.start_date,onChange:V,required:!0}),e[89]=s.start_date,e[90]=V,e[91]=k):k=e[91];let R;e[92]!==i.start_date?(R=t.jsx(f,{message:i.start_date}),e[92]=i.start_date,e[93]=R):R=e[93];let q;e[94]!==k||e[95]!==R?(q=t.jsxs("div",{children:[he,k,R]}),e[94]=k,e[95]=R,e[96]=q):q=e[96];let xe;e[97]===Symbol.for("react.memo_cache_sentinel")?(xe=t.jsx(u,{htmlFor:"end_date",children:"End Date"}),e[97]=xe):xe=e[97];let A;e[98]!==l?(A=r=>l("end_date",r.target.value),e[98]=l,e[99]=A):A=e[99];let O;e[100]!==s.end_date||e[101]!==A?(O=t.jsx(Ne,{id:"end_date",type:"date",value:s.end_date,onChange:A,required:!0}),e[100]=s.end_date,e[101]=A,e[102]=O):O=e[102];let M;e[103]!==i.end_date?(M=t.jsx(f,{message:i.end_date}),e[103]=i.end_date,e[104]=M):M=e[104];let $;e[105]!==O||e[106]!==M?($=t.jsxs("div",{children:[xe,O,M]}),e[105]=O,e[106]=M,e[107]=$):$=e[107];let z;e[108]!==q||e[109]!==$?(z=t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[q,$]}),e[108]=q,e[109]=$,e[110]=z):z=e[110];let G;e[111]!==s.hours||e[112]!==s.leave_type||e[113]!==i.hours||e[114]!==l?(G=s.leave_type==="paid"&&t.jsxs("div",{children:[t.jsx(u,{htmlFor:"hours",children:"Hours (for paid leave)"}),t.jsx(Ne,{id:"hours",type:"number",step:"0.01",min:"0",value:s.hours,onChange:r=>l("hours",r.target.value)}),t.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Leave empty to auto-calculate (8 hours per day)"}),t.jsx(f,{message:i.hours})]}),e[111]=s.hours,e[112]=s.leave_type,e[113]=i.hours,e[114]=l,e[115]=G):G=e[115];let je;e[116]===Symbol.for("react.memo_cache_sentinel")?(je=t.jsx(u,{htmlFor:"notes",children:"Notes (Optional)"}),e[116]=je):je=e[116];let J;e[117]!==l?(J=r=>l("notes",r.target.value),e[117]=l,e[118]=J):J=e[118];let K;e[119]!==s.notes||e[120]!==J?(K=t.jsx(Ke,{id:"notes",value:s.notes,onChange:J,rows:3}),e[119]=s.notes,e[120]=J,e[121]=K):K=e[121];let Q;e[122]!==i.notes?(Q=t.jsx(f,{message:i.notes}),e[122]=i.notes,e[123]=Q):Q=e[123];let W;e[124]!==K||e[125]!==Q?(W=t.jsxs("div",{children:[je,K,Q]}),e[124]=K,e[125]=Q,e[126]=W):W=e[126];let X;e[127]!==Fe?(X=t.jsx(Pe,{type:"submit",disabled:Fe,children:"Create Leave Entry"}),e[127]=Fe,e[128]=X):X=e[128];let ve;e[129]===Symbol.for("react.memo_cache_sentinel")?(ve=t.jsx(Me,{href:"/leave",children:t.jsx(Pe,{type:"button",variant:"outline",children:"Cancel"})}),e[129]=ve):ve=e[129];let Y;e[130]!==X?(Y=t.jsxs("div",{className:"flex gap-2",children:[X,ve]}),e[130]=X,e[131]=Y):Y=e[131];let Z;e[132]!==g||e[133]!==S||e[134]!==d||e[135]!==H||e[136]!==U||e[137]!==z||e[138]!==G||e[139]!==W||e[140]!==Y?(Z=t.jsxs("form",{onSubmit:g,className:S,children:[d,H,U,z,G,W,Y]}),e[132]=g,e[133]=S,e[134]=d,e[135]=H,e[136]=U,e[137]=z,e[138]=G,e[139]=W,e[140]=Y,e[141]=Z):Z=e[141];let ee;e[142]!==v||e[143]!==Z?(ee=t.jsx(v,{children:Z}),e[142]=v,e[143]=Z,e[144]=ee):ee=e[144];let te;e[145]!==y||e[146]!==m||e[147]!==ee?(te=t.jsxs(y,{children:[m,ee]}),e[145]=y,e[146]=m,e[147]=ee,e[148]=te):te=e[148];let se;e[149]!==C||e[150]!==te?(se=t.jsx("div",{className:C,children:te}),e[149]=C,e[150]=te,e[151]=se):se=e[151];let ye;return e[152]!==b||e[153]!==L||e[154]!==c||e[155]!==se?(ye=t.jsxs(b,{breadcrumbs:L,children:[c,se]}),e[152]=b,e[153]=L,e[154]=c,e[155]=se,e[156]=ye):ye=e[156],ye}function Xe(a){return t.jsx(_,{value:String(a.id),children:a.name},a.id)}function Ye(a){return t.jsx(_,{value:String(a.id),children:a.name},a.id)}export{Rt as default};
