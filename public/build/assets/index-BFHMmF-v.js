import{c as F,r as c,j as t,L as C,a as v,H as G}from"./app-zh9bNfQA.js";import{C as R}from"./confirmation-dialog-DD8tonQt.js";import{B as r}from"./createLucideIcon-BZjvJ1Zn.js";import{C as z,a as J,b as K,c as A}from"./card-BdZbHl6r.js";import{A as M}from"./app-layout-Du2zqNOn.js";import{c as Q}from"./cronUtils-CRYykioj.js";import{T as V}from"./trash-2-Bn3nBtg2.js";import{P as E}from"./plus-DPynhUc-.js";/* empty css            */import"./dialog-BDMD06yW.js";import"./index-BH508O9j.js";import"./index-Bvd5418W.js";import"./x-BIBjS2Dr.js";import"./index-NEtNT4ix.js";import"./spinner-DI7qxYjB.js";import"./loader-circle-DmMzF6DP.js";import"./info-DszxC6pq.js";import"./triangle-alert-B_NYeNJG.js";import"./app-sidebar-header-CRr_1DPO.js";import"./appearance-dropdown-Bb28oTQN.js";import"./chevron-down-C7_CWyHS.js";import"./index-CaEI0-fE.js";import"./index-BJwOBxES.js";import"./index-CcLcdVZM.js";import"./log-out-D2fYovF8.js";import"./chevron-right-O9ILxyvV.js";import"./badge-VllgXE3C.js";import"./proxy-CflicfAZ.js";import"./circle-check-B9uKMuXu.js";import"./circle-x-BKTi4obl.js";import"./circle-alert-PjDKICDi.js";import"./credit-card-DZtV9Y3R.js";import"./dollar-sign-DV-oRcFJ.js";import"./message-square-CrR61UD7.js";import"./file-text-DIkPgk9X.js";import"./users-DRMz8fhj.js";import"./user-check-D6rfO7ti.js";import"./clock-CEsoW84B.js";import"./shield-DgxHpXTb.js";const W=[{title:"Payroll",href:"/payroll"}];function X(a){const e=new Date(a),n={month:"long",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",hour12:!0};return e.toLocaleDateString("en-US",n)}function Be(a){const e=F.c(23),{schedules:n}=a,[_,N]=c.useState(!1),[m,P]=c.useState(null),[k,S]=c.useState(!1),[d,$]=c.useState(null),[H,O]=c.useState(""),L=Z,B=Y;let p;e[0]===Symbol.for("react.memo_cache_sentinel")?(p=l=>{P(l),N(!0)},e[0]=p):p=e[0];const q=p;let u;e[1]!==m?(u=()=>{m&&v.post(`/payroll/${m}/cancel`,{onSuccess:()=>{N(!1),P(null)}})},e[1]=m,e[2]=u):u=e[2];const w=u;let x;e[3]===Symbol.for("react.memo_cache_sentinel")?(x=(l,U)=>{$(l),O(U),S(!0)},e[3]=x):x=e[3];const I=x;let f;e[4]!==d?(f=()=>{d&&v.delete(`/payroll/${d}`,{onSuccess:()=>{S(!1),$(null),O("")}})},e[4]=d,e[5]=f):f=e[5];const T=f;let h;e[6]===Symbol.for("react.memo_cache_sentinel")?(h=t.jsx(G,{title:"Payroll"}),e[6]=h):h=e[6];let y;e[7]===Symbol.for("react.memo_cache_sentinel")?(y=t.jsx("h1",{className:"text-2xl font-bold",children:"Payroll Schedules"}),e[7]=y):y=e[7];let j;e[8]===Symbol.for("react.memo_cache_sentinel")?(j=t.jsx(C,{href:"/employees/create",children:t.jsxs(r,{variant:"outline",children:[t.jsx(E,{className:"mr-2 h-4 w-4"}),"Add Employee"]})}),e[8]=j):j=e[8];let b;e[9]===Symbol.for("react.memo_cache_sentinel")?(b=t.jsxs("div",{className:"flex items-center justify-between",children:[y,t.jsxs("div",{className:"flex gap-2",children:[j,t.jsx(C,{href:"/payroll/create",children:t.jsxs(r,{children:[t.jsx(E,{className:"mr-2 h-4 w-4"}),"Create Payroll"]})})]})]}),e[9]=b):b=e[9];let s;e[10]!==n?(s=t.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 overflow-x-auto rounded-xl p-4",children:[b,n?.data&&n.data.length>0?t.jsx("div",{className:"grid gap-4",children:n.data.map(l=>t.jsxs(z,{children:[t.jsx(J,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx(K,{children:l.name}),t.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[l.employees?.length||0," employee(s) â€¢ ",Q(l.frequency)]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:`inline-flex items-center rounded-full px-2 py-1 text-xs font-medium ${l.schedule_type==="one_time"?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200":"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200"}`,children:l.schedule_type==="one_time"?"One-time":"Recurring"}),t.jsx("span",{className:`inline-flex items-center rounded-full px-2 py-1 text-xs font-medium ${l.status==="active"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":l.status==="paused"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200":l.schedule_type==="one_time"&&l.status==="cancelled"?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200":"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"}`,children:l.schedule_type==="one_time"&&l.status==="cancelled"?"Completed":l.status})]})]})}),t.jsx(A,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsxs("p",{className:"text-2xl font-bold",children:[l.currency," ",l.amount]}),l.next_run_at&&t.jsxs("p",{className:"text-sm text-muted-foreground",children:["Next run: ",X(l.next_run_at)]})]}),t.jsxs("div",{className:"flex gap-2",children:[l.status==="active"&&t.jsx(r,{variant:"outline",size:"sm",onClick:()=>L(l.id),children:"Pause"}),l.status==="paused"&&t.jsx(r,{variant:"outline",size:"sm",onClick:()=>B(l.id),children:"Resume"}),l.status!=="cancelled"&&t.jsx(r,{variant:"outline",size:"sm",onClick:()=>q(l.id),children:"Cancel"}),t.jsx(C,{href:`/payroll/${l.id}/edit`,children:t.jsx(r,{variant:"outline",size:"sm",children:"Edit"})}),t.jsxs(r,{variant:"outline",size:"sm",onClick:()=>I(l.id,l.name),className:"text-red-600 hover:text-red-700 hover:bg-red-50 dark:text-red-400 dark:hover:text-red-300 dark:hover:bg-red-950",children:[t.jsx(V,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})})]},l.id))}):t.jsx(z,{children:t.jsxs(A,{className:"py-10 text-center",children:[t.jsx("p",{className:"text-muted-foreground",children:"No payroll schedules found."}),t.jsx(C,{href:"/payroll/create",className:"mt-4 inline-block",children:t.jsx(r,{children:"Create your first payroll schedule"})})]})})]}),e[10]=n,e[11]=s):s=e[11];let o;e[12]!==_||e[13]!==w?(o=t.jsx(R,{open:_,onOpenChange:N,onConfirm:w,title:"Are you sure you want to cancel this schedule?",description:"This action cannot be undone. The payroll schedule will be cancelled and no further payroll will be processed.",confirmText:"Cancel Schedule",variant:"destructive"}),e[12]=_,e[13]=w,e[14]=o):o=e[14];const D=`Are you sure you want to permanently delete "${H}"? This action cannot be undone and will permanently remove the schedule and all associated data.`;let i;e[15]!==T||e[16]!==k||e[17]!==D?(i=t.jsx(R,{open:k,onOpenChange:S,onConfirm:T,title:"Permanently Delete Payroll Schedule",description:D,confirmText:"Delete Permanently",variant:"destructive"}),e[15]=T,e[16]=k,e[17]=D,e[18]=i):i=e[18];let g;return e[19]!==o||e[20]!==i||e[21]!==s?(g=t.jsxs(M,{breadcrumbs:W,children:[h,s,o,i]}),e[19]=o,e[20]=i,e[21]=s,e[22]=g):g=e[22],g}function Y(a){v.post(`/payroll/${a}/resume`)}function Z(a){v.post(`/payroll/${a}/pause`)}export{Be as default};
