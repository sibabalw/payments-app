import{c as O,u as Y,j as t,H as q,L as R}from"./app-BRoNAUIM.js";import{B as M}from"./x-pZV5lkp5.js";import{b as z,a as G,c as J,C as K}from"./card-Bag7gWUQ.js";import{I as P}from"./input-6bP_JhyV.js";import{L as W}from"./label-BAqrWHKw.js";import{C as Q}from"./checkbox-DPgHpQ4P.js";import{A as U}from"./app-layout-Bn-75oUf.js";/* empty css            */import"./index-CBJSSLbQ.js";import"./index-CfMSX17F.js";import"./appearance-dropdown-BEtN_wNg.js";import"./check-CU7v0mdS.js";import"./app-sidebar-header-BbzcXdQi.js";import"./index-Cfp_L9w6.js";import"./log-out-MC42nTzo.js";import"./index-BohsM0ZD.js";import"./badge-ZsznMIyW.js";import"./proxy-CQkt3OrQ.js";import"./circle-check-DIHwzO_b.js";import"./loader-circle-CafrvZjs.js";import"./circle-x-C4YAnoMU.js";import"./circle-alert-COfzFcbZ.js";import"./plus-C6lF1Clu.js";import"./dollar-sign-CDLUu5fH.js";import"./message-square-CEp_sz_O.js";import"./file-text-FWLsz4T5.js";import"./users-CEYKQlp0.js";import"./user-check-DiuzZ-7a.js";import"./clock-DWicTrer.js";import"./shield-Kl3V0fgW.js";const V=[{title:"Employees",href:"/employees"},{title:"Schedule",href:"#"}],X=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function Fe(b){const e=O.c(48),{employee:l,schedules:F}=b;let a;e[0]!==F?(a=F.map(Z),e[0]=F,e[1]=a):a=e[1];let k;e[2]!==a?(k={schedules:a},e[2]=a,e[3]=k):k=e[3];const{data:o,setData:L,put:A,processing:H}=Y(k);let w;e[4]!==l.id||e[5]!==A?(w=i=>{i.preventDefault(),A(`/employees/${l.id}/schedule`)},e[4]=l.id,e[5]=A,e[6]=w):w=e[6];const B=w;let S;e[7]!==o.schedules||e[8]!==L?(S=(i,s,E)=>{const r=[...o.schedules];r[i]={...r[i],[s]:E},L("schedules",r)},e[7]=o.schedules,e[8]=L,e[9]=S):S=e[9];const d=S,D=`${l.name} - Schedule`;let c;e[10]!==D?(c=t.jsx(q,{title:D}),e[10]=D,e[11]=c):c=e[11];let m;e[12]!==l.name?(m=t.jsxs(z,{children:["Work Schedule: ",l.name]}),e[12]=l.name,e[13]=m):m=e[13];let N;e[14]===Symbol.for("react.memo_cache_sentinel")?(N=t.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Set scheduled hours for each day of the week. Overtime is calculated when hours worked exceed scheduled hours."}),e[14]=N):N=e[14];let n;e[15]!==m?(n=t.jsxs("div",{children:[m,N]}),e[15]=m,e[16]=n):n=e[16];const T=`/employees/${l.id}/edit`;let C;e[17]===Symbol.for("react.memo_cache_sentinel")?(C=t.jsx(M,{variant:"outline",children:"Back to Employee"}),e[17]=C):C=e[17];let p;e[18]!==T?(p=t.jsx(R,{href:T,children:C}),e[18]=T,e[19]=p):p=e[19];let u;e[20]!==p||e[21]!==n?(u=t.jsx(G,{children:t.jsxs("div",{className:"flex justify-between items-center",children:[n,p]})}),e[20]=p,e[21]=n,e[22]=u):u=e[22];let f;if(e[23]!==o.schedules||e[24]!==d){let i;e[26]!==d?(i=(s,E)=>t.jsxs("div",{className:"flex items-center gap-4 p-3 border rounded-lg",children:[t.jsxs("div",{className:"flex items-center space-x-2 w-32",children:[t.jsx(Q,{id:`day_${s.day_of_week}`,checked:s.is_active,onCheckedChange:r=>d(E,"is_active",r)}),t.jsx(W,{htmlFor:`day_${s.day_of_week}`,className:"font-medium cursor-pointer",children:X[s.day_of_week]})]}),t.jsxs("div",{className:"flex-1 flex items-center gap-2",children:[t.jsx(W,{htmlFor:`hours_${s.day_of_week}`,className:"text-sm",children:"Hours:"}),t.jsx(P,{id:`hours_${s.day_of_week}`,type:"number",step:"0.25",min:"0",max:"24",value:s.scheduled_hours,onChange:r=>d(E,"scheduled_hours",parseFloat(r.target.value)||0),disabled:!s.is_active,className:"w-24"}),t.jsx("span",{className:"text-sm text-muted-foreground",children:"per day"})]})]},s.day_of_week),e[26]=d,e[27]=i):i=e[27],f=o.schedules.map(i),e[23]=o.schedules,e[24]=d,e[25]=f}else f=e[25];let h;e[28]!==f?(h=t.jsx("div",{className:"space-y-3",children:f}),e[28]=f,e[29]=h):h=e[29];let x;e[30]!==H?(x=t.jsx(M,{type:"submit",disabled:H,children:"Save Schedule"}),e[30]=H,e[31]=x):x=e[31];const I=`/employees/${l.id}/edit`;let g;e[32]===Symbol.for("react.memo_cache_sentinel")?(g=t.jsx(M,{type:"button",variant:"outline",children:"Cancel"}),e[32]=g):g=e[32];let _;e[33]!==I?(_=t.jsx(R,{href:I,children:g}),e[33]=I,e[34]=_):_=e[34];let y;e[35]!==x||e[36]!==_?(y=t.jsxs("div",{className:"flex gap-2 pt-4",children:[x,_]}),e[35]=x,e[36]=_,e[37]=y):y=e[37];let j;e[38]!==B||e[39]!==h||e[40]!==y?(j=t.jsx(J,{children:t.jsxs("form",{onSubmit:B,className:"space-y-4",children:[h,y]})}),e[38]=B,e[39]=h,e[40]=y,e[41]=j):j=e[41];let v;e[42]!==u||e[43]!==j?(v=t.jsx("div",{className:"flex h-full flex-1 flex-col gap-4 overflow-x-auto rounded-xl p-4",children:t.jsxs(K,{children:[u,j]})}),e[42]=u,e[43]=j,e[44]=v):v=e[44];let $;return e[45]!==v||e[46]!==c?($=t.jsxs(U,{breadcrumbs:V,children:[c,v]}),e[45]=v,e[46]=c,e[47]=$):$=e[47],$}function Z(b){return{day_of_week:b.day_of_week,scheduled_hours:b.scheduled_hours,is_active:b.is_active}}export{Fe as default};
