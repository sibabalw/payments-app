import{c as X,r as I,j as s,a as J,H as Y,L as Z}from"./app-BRoNAUIM.js";import{B}from"./x-pZV5lkp5.js";import{a as $,b as P,d as q,C as F,c as G}from"./card-Bag7gWUQ.js";import{A as ee}from"./admin-layout-BnJz0fFz.js";import{C as K}from"./confirmation-dialog-C1x4I7_a.js";import{C as se}from"./chevron-left-uzkLnT6H.js";import{D as te}from"./database-B16Kq_ts.js";import{S as Q}from"./app-sidebar-header-BbzcXdQi.js";import{R as ae}from"./refresh-cw-B4Z2ZGYr.js";/* empty css            */import"./appearance-dropdown-BEtN_wNg.js";import"./shield-Kl3V0fgW.js";import"./users-CEYKQlp0.js";import"./message-square-CEp_sz_O.js";import"./file-text-FWLsz4T5.js";import"./lock-Dth4hMuh.js";import"./chart-column-DlXi8TWy.js";import"./dialog-DKQrbPU1.js";import"./spinner-D5nmHZNm.js";import"./loader-circle-CafrvZjs.js";import"./circle-help-4VBCcThn.js";import"./info-DaNQh9-Y.js";import"./triangle-alert-D6PyCIl6.js";import"./index-CBJSSLbQ.js";import"./index-Cfp_L9w6.js";import"./log-out-MC42nTzo.js";import"./index-BohsM0ZD.js";const ie=[{title:"Admin",href:"/admin"},{title:"Database Management",href:"/admin/database"}];function Re(U){const e=X.c(48),{dbConfig:t,dbSize:h,tableCount:k}=U,[A,E]=I.useState(!1),[H,L]=I.useState(!1);let p;e[0]===Symbol.for("react.memo_cache_sentinel")?(p=()=>{J.post("/admin/database/migrate",{},{onSuccess:()=>{E(!1)}})},e[0]=p):p=e[0];const V=p;let u;e[1]===Symbol.for("react.memo_cache_sentinel")?(u=()=>{J.post("/admin/database/optimize",{},{onSuccess:()=>{L(!1)}})},e[1]=u):u=e[1];const W=u;let j;e[2]===Symbol.for("react.memo_cache_sentinel")?(j=s.jsx(Y,{title:"Admin - Database Management"}),e[2]=j):j=e[2];let b;e[3]===Symbol.for("react.memo_cache_sentinel")?(b=s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Database Management"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage database operations"})]}),e[3]=b):b=e[3];let g;e[4]===Symbol.for("react.memo_cache_sentinel")?(g=s.jsxs("div",{className:"flex items-center justify-between",children:[b,s.jsx(Z,{href:"/admin",children:s.jsxs(B,{variant:"outline",children:[s.jsx(se,{className:"mr-2 h-4 w-4"}),"Back to Dashboard"]})})]}),e[4]=g):g=e[4];let N;e[5]===Symbol.for("react.memo_cache_sentinel")?(N=s.jsxs($,{children:[s.jsxs(P,{className:"flex items-center gap-2",children:[s.jsx(te,{className:"h-5 w-5"}),"Database Configuration"]}),s.jsx(q,{children:"Connection settings"})]}),e[5]=N):N=e[5];let y;e[6]===Symbol.for("react.memo_cache_sentinel")?(y=s.jsx("span",{className:"text-muted-foreground",children:"Default Connection"}),e[6]=y):y=e[6];let a;e[7]!==t.default?(a=s.jsxs("div",{className:"flex justify-between text-sm",children:[y,s.jsx("span",{className:"font-mono",children:t.default})]}),e[7]=t.default,e[8]=a):a=e[8];let _;e[9]===Symbol.for("react.memo_cache_sentinel")?(_=s.jsx("span",{className:"text-muted-foreground",children:"Driver"}),e[9]=_):_=e[9];let i;e[10]!==t.driver?(i=s.jsxs("div",{className:"flex justify-between text-sm",children:[_,s.jsx("span",{className:"font-mono",children:t.driver})]}),e[10]=t.driver,e[11]=i):i=e[11];let S;e[12]===Symbol.for("react.memo_cache_sentinel")?(S=s.jsx("span",{className:"text-muted-foreground",children:"Database"}),e[12]=S):S=e[12];let l;e[13]!==t.database?(l=s.jsxs("div",{className:"flex justify-between text-sm",children:[S,s.jsx("span",{className:"font-mono",children:t.database})]}),e[13]=t.database,e[14]=l):l=e[14];let v;e[15]===Symbol.for("react.memo_cache_sentinel")?(v=s.jsx("span",{className:"text-muted-foreground",children:"Host"}),e[15]=v):v=e[15];let n;e[16]!==t.host?(n=s.jsxs("div",{className:"flex justify-between text-sm",children:[v,s.jsx("span",{className:"font-mono",children:t.host})]}),e[16]=t.host,e[17]=n):n=e[17];let r;e[18]!==i||e[19]!==l||e[20]!==n||e[21]!==a?(r=s.jsxs(F,{children:[N,s.jsxs(G,{className:"space-y-3",children:[a,i,l,n]})]}),e[18]=i,e[19]=l,e[20]=n,e[21]=a,e[22]=r):r=e[22];let C;e[23]===Symbol.for("react.memo_cache_sentinel")?(C=s.jsxs($,{children:[s.jsxs(P,{className:"flex items-center gap-2",children:[s.jsx(Q,{className:"h-5 w-5"}),"Database Statistics"]}),s.jsx(q,{children:"Current database information"})]}),e[23]=C):C=e[23];let o;e[24]!==h?(o=h&&s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Database Size"}),s.jsx("span",{className:"font-mono",children:h})]}),e[24]=h,e[25]=o):o=e[25];let D;e[26]===Symbol.for("react.memo_cache_sentinel")?(D=s.jsx("span",{className:"text-muted-foreground",children:"Total Tables"}),e[26]=D):D=e[26];let m;e[27]!==k?(m=s.jsxs("div",{className:"flex justify-between text-sm",children:[D,s.jsx("span",{className:"font-mono",children:k})]}),e[27]=k,e[28]=m):m=e[28];let c;e[29]!==o||e[30]!==m?(c=s.jsxs(F,{children:[C,s.jsxs(G,{className:"space-y-3",children:[o,m]})]}),e[29]=o,e[30]=m,e[31]=c):c=e[31];let d;e[32]!==r||e[33]!==c?(d=s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r,c]}),e[32]=r,e[33]=c,e[34]=d):d=e[34];let w;e[35]===Symbol.for("react.memo_cache_sentinel")?(w=s.jsxs($,{children:[s.jsx(P,{children:"Database Actions"}),s.jsx(q,{children:"Perform database operations"})]}),e[35]=w):w=e[35];let z;e[36]===Symbol.for("react.memo_cache_sentinel")?(z=s.jsxs("div",{children:[s.jsx("p",{className:"font-medium mb-1",children:"Run Migrations"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Execute pending database migrations. This will update your database schema."})]}),e[36]=z):z=e[36];let O;e[37]===Symbol.for("react.memo_cache_sentinel")?(O=s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[z,s.jsxs(B,{variant:"outline",onClick:()=>E(!0),children:[s.jsx(ae,{className:"mr-2 h-4 w-4"}),"Run Migrations"]})]}),e[37]=O):O=e[37];let M;e[38]===Symbol.for("react.memo_cache_sentinel")?(M=s.jsxs("div",{children:[s.jsx("p",{className:"font-medium mb-1",children:"Optimize Database"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Clear caches and optimize database performance. This may take a few moments."})]}),e[38]=M):M=e[38];let T;e[39]===Symbol.for("react.memo_cache_sentinel")?(T=s.jsxs(F,{children:[w,s.jsxs(G,{className:"space-y-4",children:[O,s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[M,s.jsxs(B,{variant:"outline",onClick:()=>L(!0),children:[s.jsx(Q,{className:"mr-2 h-4 w-4"}),"Optimize"]})]})]})]}),e[39]=T):T=e[39];let f;e[40]!==A?(f=s.jsx(K,{open:A,onOpenChange:E,onConfirm:V,title:"Run Database Migrations",description:"Are you sure you want to run database migrations? This will update your database schema.",confirmText:"Run Migrations",variant:"default"}),e[40]=A,e[41]=f):f=e[41];let x;e[42]!==H?(x=s.jsx(K,{open:H,onOpenChange:L,onConfirm:W,title:"Optimize Database",description:"This will clear caches and optimize database performance. The operation may take a few moments.",confirmText:"Optimize",variant:"default"}),e[42]=H,e[43]=x):x=e[43];let R;return e[44]!==d||e[45]!==f||e[46]!==x?(R=s.jsxs(ee,{breadcrumbs:ie,children:[j,s.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 overflow-x-auto rounded-xl p-4",children:[g,d,T,f,x]})]}),e[44]=d,e[45]=f,e[46]=x,e[47]=R):R=e[47],R}export{Re as default};
