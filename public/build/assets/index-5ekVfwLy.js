import{c as A,r as w,j as t,a as p,H as D,L as F}from"./app-DWDC-BVo.js";import{B as S}from"./createLucideIcon-CDiNb0OM.js";import{C as b,c as L,a as R,b as E,d as B}from"./card-ErUD2DV9.js";import{S as H,a as O,b as V,c as z,d as i}from"./select-DUIPMlO7.js";import{A as I}from"./admin-layout-DALa9hvk.js";import{C as $}from"./confirmation-dialog-zOl3jumF.js";import{F as _}from"./file-text-xQShroE0.js";import{R as q}from"./refresh-cw-3qEFjK1-.js";import{T as G}from"./trash-2-CztMoSM1.js";import{C as J}from"./chevron-left-BSakv5Tz.js";/* empty css            */import"./index-B-id3RBu.js";import"./chevron-down-BehZftUK.js";import"./x-Cr_BKX42.js";import"./index-apnaeyBA.js";import"./index-D976Ylxv.js";import"./chevron-right-TaOApODu.js";import"./check-CooXHJVP.js";import"./chevron-up-CvrNtOh9.js";import"./app-sidebar-header-r-OiXY8i.js";import"./index-BspEiaub.js";import"./appearance-dropdown-Boh93vvE.js";import"./index-BCOzoWRm.js";import"./index-l1Yz4tBP.js";import"./index-CcLcdVZM.js";import"./log-out-CNw_jzHT.js";import"./shield-B0GD2scd.js";import"./users-CtagEMWm.js";import"./message-square-DRz1er9_.js";import"./lock-Dqbj9PEc.js";import"./credit-card-DHCU20zw.js";import"./chart-column-D3a6wEl_.js";import"./dialog-qi_Lrbih.js";import"./spinner-aciPIfBJ.js";import"./loader-circle-_uqlEWjJ.js";import"./info-CpYaSnCP.js";import"./triangle-alert-DveO23K3.js";const K=[{title:"Admin",href:"/admin"},{title:"Logs",href:"/admin/logs"}];function De(h){const e=A.c(17),{logExists:f,logSize:u,logContent:l,lines:j}=h,[g,v]=w.useState(!1);let o;e[0]!==j?(o=j.toString(),e[0]=j,e[1]=o):o=e[1];const[C,y]=w.useState(o);let a;e[2]===Symbol.for("react.memo_cache_sentinel")?(a=N=>{y(N),p.get("/admin/logs",{lines:parseInt(N)},{preserveState:!0,preserveScroll:!0})},e[2]=a):a=e[2];const T=a;let n;e[3]===Symbol.for("react.memo_cache_sentinel")?(n=()=>{p.post("/admin/logs/clear",{},{onSuccess:()=>{v(!1),p.reload()}})},e[3]=n):n=e[3];const k=n;let m;e[4]===Symbol.for("react.memo_cache_sentinel")?(m=t.jsx(D,{title:"Admin - Logs"}),e[4]=m):m=e[4];let c;e[5]===Symbol.for("react.memo_cache_sentinel")?(c=t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold",children:"Application Logs"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"View and manage application logs"})]}),e[5]=c):c=e[5];let d;e[6]===Symbol.for("react.memo_cache_sentinel")?(d=t.jsxs("div",{className:"flex items-center justify-between",children:[c,t.jsx(F,{href:"/admin",children:t.jsxs(S,{variant:"outline",children:[t.jsx(J,{className:"mr-2 h-4 w-4"}),"Back to Dashboard"]})})]}),e[6]=d):d=e[6];let s;e[7]!==l||e[8]!==f||e[9]!==u||e[10]!==C?(s=f?t.jsx(t.Fragment,{children:t.jsxs(b,{children:[t.jsxs(R,{className:"flex flex-row items-center justify-between",children:[t.jsxs("div",{children:[t.jsxs(E,{className:"flex items-center gap-2",children:[t.jsx(_,{className:"h-5 w-5"}),"Log File"]}),t.jsxs(B,{children:["Size: ",u," | Showing last ",l.length," lines"]})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(H,{value:C,onValueChange:T,children:[t.jsx(O,{className:"w-[120px]",children:t.jsx(V,{})}),t.jsxs(z,{children:[t.jsx(i,{value:"50",children:"50 lines"}),t.jsx(i,{value:"100",children:"100 lines"}),t.jsx(i,{value:"200",children:"200 lines"}),t.jsx(i,{value:"500",children:"500 lines"}),t.jsx(i,{value:"1000",children:"1000 lines"})]})]}),t.jsxs(S,{variant:"outline",onClick:P,children:[t.jsx(q,{className:"mr-2 h-4 w-4"}),"Refresh"]}),t.jsxs(S,{variant:"destructive",onClick:()=>v(!0),children:[t.jsx(G,{className:"mr-2 h-4 w-4"}),"Clear Logs"]})]})]}),t.jsx(L,{children:t.jsx("div",{className:"bg-slate-950 dark:bg-slate-900 rounded-md p-4 font-mono text-xs overflow-x-auto max-h-[600px] overflow-y-auto",children:l.length>0?l.map(M):t.jsx("div",{className:"text-slate-500",children:"No log entries"})})})]})}):t.jsx(b,{children:t.jsxs(L,{className:"py-8 text-center",children:[t.jsx(_,{className:"mx-auto h-12 w-12 text-muted-foreground mb-4"}),t.jsx("p",{className:"text-muted-foreground",children:"No log file found"})]})}),e[7]=l,e[8]=f,e[9]=u,e[10]=C,e[11]=s):s=e[11];let r;e[12]!==g?(r=t.jsx($,{open:g,onOpenChange:v,onConfirm:k,title:"Clear Log File",description:"Are you sure you want to clear the log file? This action cannot be undone.",confirmText:"Clear",variant:"destructive"}),e[12]=g,e[13]=r):r=e[13];let x;return e[14]!==s||e[15]!==r?(x=t.jsxs(I,{breadcrumbs:K,children:[m,t.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 overflow-x-auto rounded-xl p-4",children:[d,s,r]})]}),e[14]=s,e[15]=r,e[16]=x):x=e[16],x}function M(h,e){return t.jsx("div",{className:"text-slate-300 whitespace-pre-wrap break-words",children:h},e)}function P(){return p.reload()}export{De as default};
