import{c as X,r as I,j as t,a as J,H as Y,L as Z}from"./app-Cuioih4f.js";import{B}from"./createLucideIcon-B5MOZI9f.js";import{a as $,b as P,d as q,C as F,c as G}from"./card-D9Y_bl1i.js";import{A as ee}from"./admin-layout-D3aUvUXc.js";import{C as K}from"./confirmation-dialog-oY6DdROP.js";import{C as te}from"./chevron-left-CmpkFNLF.js";import{D as se}from"./database-BtFj3L68.js";import{S as Q}from"./app-sidebar-header-C7CWWu21.js";import{R as ae}from"./refresh-cw-D1TyeKWT.js";/* empty css            */import"./appearance-dropdown-Dd19dic0.js";import"./index-EFDA_sBj.js";import"./index-CfqSVWBk.js";import"./x-Bo-ZIIiE.js";import"./index-DcSYVg4d.js";import"./chevron-down-CZg7iP84.js";import"./index-Buc-yRrE.js";import"./shield-U7oFjP4d.js";import"./users-CdWaatQB.js";import"./message-square-DDbRZnKk.js";import"./file-text-CHp8TDnm.js";import"./lock-CXlW2eVG.js";import"./credit-card-DyUwoGG-.js";import"./chart-column-B4FHZxan.js";import"./dialog-B6pEUDaf.js";import"./spinner-Cj9jpHVF.js";import"./loader-circle-BHZ8O1kv.js";import"./info-CrYvFohm.js";import"./triangle-alert-DD3Kl8ol.js";import"./index-Bs_TJoq4.js";import"./index-CcLcdVZM.js";import"./log-out-DgGKhRGZ.js";import"./chevron-right-BmA-IvWf.js";const ie=[{title:"Admin",href:"/admin"},{title:"Database Management",href:"/admin/database"}];function Be(U){const e=X.c(48),{dbConfig:s,dbSize:h,tableCount:k}=U,[A,E]=I.useState(!1),[H,L]=I.useState(!1);let p;e[0]===Symbol.for("react.memo_cache_sentinel")?(p=()=>{J.post("/admin/database/migrate",{},{onSuccess:()=>{E(!1)}})},e[0]=p):p=e[0];const V=p;let u;e[1]===Symbol.for("react.memo_cache_sentinel")?(u=()=>{J.post("/admin/database/optimize",{},{onSuccess:()=>{L(!1)}})},e[1]=u):u=e[1];const W=u;let j;e[2]===Symbol.for("react.memo_cache_sentinel")?(j=t.jsx(Y,{title:"Admin - Database Management"}),e[2]=j):j=e[2];let b;e[3]===Symbol.for("react.memo_cache_sentinel")?(b=t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold",children:"Database Management"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage database operations"})]}),e[3]=b):b=e[3];let g;e[4]===Symbol.for("react.memo_cache_sentinel")?(g=t.jsxs("div",{className:"flex items-center justify-between",children:[b,t.jsx(Z,{href:"/admin",children:t.jsxs(B,{variant:"outline",children:[t.jsx(te,{className:"mr-2 h-4 w-4"}),"Back to Dashboard"]})})]}),e[4]=g):g=e[4];let N;e[5]===Symbol.for("react.memo_cache_sentinel")?(N=t.jsxs($,{children:[t.jsxs(P,{className:"flex items-center gap-2",children:[t.jsx(se,{className:"h-5 w-5"}),"Database Configuration"]}),t.jsx(q,{children:"Connection settings"})]}),e[5]=N):N=e[5];let y;e[6]===Symbol.for("react.memo_cache_sentinel")?(y=t.jsx("span",{className:"text-muted-foreground",children:"Default Connection"}),e[6]=y):y=e[6];let a;e[7]!==s.default?(a=t.jsxs("div",{className:"flex justify-between text-sm",children:[y,t.jsx("span",{className:"font-mono",children:s.default})]}),e[7]=s.default,e[8]=a):a=e[8];let _;e[9]===Symbol.for("react.memo_cache_sentinel")?(_=t.jsx("span",{className:"text-muted-foreground",children:"Driver"}),e[9]=_):_=e[9];let i;e[10]!==s.driver?(i=t.jsxs("div",{className:"flex justify-between text-sm",children:[_,t.jsx("span",{className:"font-mono",children:s.driver})]}),e[10]=s.driver,e[11]=i):i=e[11];let S;e[12]===Symbol.for("react.memo_cache_sentinel")?(S=t.jsx("span",{className:"text-muted-foreground",children:"Database"}),e[12]=S):S=e[12];let l;e[13]!==s.database?(l=t.jsxs("div",{className:"flex justify-between text-sm",children:[S,t.jsx("span",{className:"font-mono",children:s.database})]}),e[13]=s.database,e[14]=l):l=e[14];let v;e[15]===Symbol.for("react.memo_cache_sentinel")?(v=t.jsx("span",{className:"text-muted-foreground",children:"Host"}),e[15]=v):v=e[15];let n;e[16]!==s.host?(n=t.jsxs("div",{className:"flex justify-between text-sm",children:[v,t.jsx("span",{className:"font-mono",children:s.host})]}),e[16]=s.host,e[17]=n):n=e[17];let r;e[18]!==i||e[19]!==l||e[20]!==n||e[21]!==a?(r=t.jsxs(F,{children:[N,t.jsxs(G,{className:"space-y-3",children:[a,i,l,n]})]}),e[18]=i,e[19]=l,e[20]=n,e[21]=a,e[22]=r):r=e[22];let C;e[23]===Symbol.for("react.memo_cache_sentinel")?(C=t.jsxs($,{children:[t.jsxs(P,{className:"flex items-center gap-2",children:[t.jsx(Q,{className:"h-5 w-5"}),"Database Statistics"]}),t.jsx(q,{children:"Current database information"})]}),e[23]=C):C=e[23];let o;e[24]!==h?(o=h&&t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{className:"text-muted-foreground",children:"Database Size"}),t.jsx("span",{className:"font-mono",children:h})]}),e[24]=h,e[25]=o):o=e[25];let D;e[26]===Symbol.for("react.memo_cache_sentinel")?(D=t.jsx("span",{className:"text-muted-foreground",children:"Total Tables"}),e[26]=D):D=e[26];let m;e[27]!==k?(m=t.jsxs("div",{className:"flex justify-between text-sm",children:[D,t.jsx("span",{className:"font-mono",children:k})]}),e[27]=k,e[28]=m):m=e[28];let c;e[29]!==o||e[30]!==m?(c=t.jsxs(F,{children:[C,t.jsxs(G,{className:"space-y-3",children:[o,m]})]}),e[29]=o,e[30]=m,e[31]=c):c=e[31];let d;e[32]!==r||e[33]!==c?(d=t.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r,c]}),e[32]=r,e[33]=c,e[34]=d):d=e[34];let w;e[35]===Symbol.for("react.memo_cache_sentinel")?(w=t.jsxs($,{children:[t.jsx(P,{children:"Database Actions"}),t.jsx(q,{children:"Perform database operations"})]}),e[35]=w):w=e[35];let z;e[36]===Symbol.for("react.memo_cache_sentinel")?(z=t.jsxs("div",{children:[t.jsx("p",{className:"font-medium mb-1",children:"Run Migrations"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Execute pending database migrations. This will update your database schema."})]}),e[36]=z):z=e[36];let O;e[37]===Symbol.for("react.memo_cache_sentinel")?(O=t.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[z,t.jsxs(B,{variant:"outline",onClick:()=>E(!0),children:[t.jsx(ae,{className:"mr-2 h-4 w-4"}),"Run Migrations"]})]}),e[37]=O):O=e[37];let M;e[38]===Symbol.for("react.memo_cache_sentinel")?(M=t.jsxs("div",{children:[t.jsx("p",{className:"font-medium mb-1",children:"Optimize Database"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Clear caches and optimize database performance. This may take a few moments."})]}),e[38]=M):M=e[38];let T;e[39]===Symbol.for("react.memo_cache_sentinel")?(T=t.jsxs(F,{children:[w,t.jsxs(G,{className:"space-y-4",children:[O,t.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[M,t.jsxs(B,{variant:"outline",onClick:()=>L(!0),children:[t.jsx(Q,{className:"mr-2 h-4 w-4"}),"Optimize"]})]})]})]}),e[39]=T):T=e[39];let f;e[40]!==A?(f=t.jsx(K,{open:A,onOpenChange:E,onConfirm:V,title:"Run Database Migrations",description:"Are you sure you want to run database migrations? This will update your database schema.",confirmText:"Run Migrations",variant:"default"}),e[40]=A,e[41]=f):f=e[41];let x;e[42]!==H?(x=t.jsx(K,{open:H,onOpenChange:L,onConfirm:W,title:"Optimize Database",description:"This will clear caches and optimize database performance. The operation may take a few moments.",confirmText:"Optimize",variant:"default"}),e[42]=H,e[43]=x):x=e[43];let R;return e[44]!==d||e[45]!==f||e[46]!==x?(R=t.jsxs(ee,{breadcrumbs:ie,children:[j,t.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 overflow-x-auto rounded-xl p-4",children:[g,d,T,f,x]})]}),e[44]=d,e[45]=f,e[46]=x,e[47]=R):R=e[47],R}export{Be as default};
