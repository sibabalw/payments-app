import{c as fe,r as ae,j as t,L as M,a as ne,H as ue}from"./app-DWDC-BVo.js";import{B as Q}from"./createLucideIcon-CDiNb0OM.js";import{C as W,a as oe,b as de,c as X}from"./card-ErUD2DV9.js";import{S as Y,a as ee,b as te,c as le,d as n}from"./select-DUIPMlO7.js";import{I as ce}from"./input-WOpVy3_A.js";import{L as R}from"./label-Bm2ZFulM.js";import{A as je}from"./app-layout-Csx9VZt2.js";import{P as ve}from"./plus-BwK_Jy3D.js";/* empty css            */import"./index-B-id3RBu.js";import"./chevron-down-BehZftUK.js";import"./x-Cr_BKX42.js";import"./index-apnaeyBA.js";import"./index-D976Ylxv.js";import"./chevron-right-TaOApODu.js";import"./check-CooXHJVP.js";import"./chevron-up-CvrNtOh9.js";import"./index-l1Yz4tBP.js";import"./app-sidebar-header-r-OiXY8i.js";import"./index-BspEiaub.js";import"./appearance-dropdown-Boh93vvE.js";import"./index-BCOzoWRm.js";import"./index-CcLcdVZM.js";import"./log-out-CNw_jzHT.js";import"./badge-BnVI9wD_.js";import"./proxy-8KyYWbtH.js";import"./circle-check-DngFYpsd.js";import"./loader-circle-_uqlEWjJ.js";import"./circle-x-DCRTT9my.js";import"./circle-alert-C7E7uvB-.js";import"./credit-card-DHCU20zw.js";import"./dollar-sign-DGtOSjhC.js";import"./message-square-DRz1er9_.js";import"./file-text-xQShroE0.js";import"./users-CtagEMWm.js";import"./user-check-Dt0Yb2Ws.js";import"./clock-D4ogtgGS.js";import"./shield-B0GD2scd.js";const ge=[{title:"Leave Management",href:"/leave"}];function ot(s){const e=fe.c(63),{leaveEntries:S,employees:U,businesses:o,selectedBusinessId:me,filters:z}=s,[r,xe]=ae.useState(me||o[0]?.id||"");let N;e[0]!==z?(N=z||{},e[0]=z,e[1]=N):N=e[1];const[a,he]=ae.useState(N);let k;e[2]!==a?(k=l=>{xe(l),ne.get("/leave",{business_id:l,...a},{preserveState:!0})},e[2]=a,e[3]=k):k=e[3];const O=k;let L;e[4]!==r||e[5]!==a?(L=(l,ie)=>{const re={...a,[l]:ie==="all"?null:ie};he(re),ne.get("/leave",{business_id:r,...re},{preserveState:!0})},e[4]=r,e[5]=a,e[6]=L):L=e[6];const i=L,pe=Se,se=ye;let C;e[7]===Symbol.for("react.memo_cache_sentinel")?(C=t.jsx(ue,{title:"Leave Management"}),e[7]=C):C=e[7];let w;e[8]===Symbol.for("react.memo_cache_sentinel")?(w=t.jsx("h1",{className:"text-2xl font-bold",children:"Leave Management"}),e[8]=w):w=e[8];const Z=`/leave/create?business_id=${r}`;let F;e[9]===Symbol.for("react.memo_cache_sentinel")?(F=t.jsxs(Q,{children:[t.jsx(ve,{className:"mr-2 h-4 w-4"}),"Add Leave"]}),e[9]=F):F=e[9];let d;e[10]!==Z?(d=t.jsxs("div",{className:"flex items-center justify-between",children:[w,t.jsx(M,{href:Z,children:F})]}),e[10]=Z,e[11]=d):d=e[11];let c;e[12]!==r||e[13]!==o||e[14]!==O?(c=o&&o.length>0&&t.jsxs("div",{className:"max-w-xs",children:[t.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Business"}),t.jsxs(Y,{value:String(r),onValueChange:O,children:[t.jsx(ee,{children:t.jsx(te,{})}),t.jsx(le,{children:o.map(be)})]})]}),e[12]=r,e[13]=o,e[14]=O,e[15]=c):c=e[15];let A;e[16]===Symbol.for("react.memo_cache_sentinel")?(A=t.jsx(oe,{children:t.jsx(de,{children:"Filters"})}),e[16]=A):A=e[16];let E;e[17]===Symbol.for("react.memo_cache_sentinel")?(E=t.jsx(R,{htmlFor:"filter_employee",children:"Employee"}),e[17]=E):E=e[17];const q=a.employee_id||"all";let m;e[18]!==i?(m=l=>i("employee_id",l),e[18]=i,e[19]=m):m=e[19];let I;e[20]===Symbol.for("react.memo_cache_sentinel")?(I=t.jsx(ee,{children:t.jsx(te,{placeholder:"All employees"})}),e[20]=I):I=e[20];let B;e[21]===Symbol.for("react.memo_cache_sentinel")?(B=t.jsx(n,{value:"all",children:"All employees"}),e[21]=B):B=e[21];let x;e[22]!==U?(x=U.map(_e),e[22]=U,e[23]=x):x=e[23];let h;e[24]!==x?(h=t.jsxs(le,{children:[B,x]}),e[24]=x,e[25]=h):h=e[25];let p;e[26]!==q||e[27]!==m||e[28]!==h?(p=t.jsxs("div",{children:[E,t.jsxs(Y,{value:q,onValueChange:m,children:[I,h]})]}),e[26]=q,e[27]=m,e[28]=h,e[29]=p):p=e[29];let D;e[30]===Symbol.for("react.memo_cache_sentinel")?(D=t.jsx(R,{htmlFor:"filter_type",children:"Leave Type"}),e[30]=D):D=e[30];const G=a.leave_type||"all";let f;e[31]!==i?(f=l=>i("leave_type",l),e[31]=i,e[32]=f):f=e[32];let $;e[33]===Symbol.for("react.memo_cache_sentinel")?($=t.jsx(ee,{children:t.jsx(te,{placeholder:"All types"})}),e[33]=$):$=e[33];let H;e[34]===Symbol.for("react.memo_cache_sentinel")?(H=t.jsxs(le,{children:[t.jsx(n,{value:"all",children:"All types"}),t.jsx(n,{value:"paid",children:"Paid Leave"}),t.jsx(n,{value:"unpaid",children:"Unpaid Leave"}),t.jsx(n,{value:"sick",children:"Sick Leave"}),t.jsx(n,{value:"public_holiday",children:"Public Holiday"}),t.jsx(n,{value:"other",children:"Other"})]}),e[34]=H):H=e[34];let u;e[35]!==G||e[36]!==f?(u=t.jsxs("div",{children:[D,t.jsxs(Y,{value:G,onValueChange:f,children:[$,H]})]}),e[35]=G,e[36]=f,e[37]=u):u=e[37];let P;e[38]===Symbol.for("react.memo_cache_sentinel")?(P=t.jsx(R,{htmlFor:"filter_start_date",children:"Start Date"}),e[38]=P):P=e[38];const J=a.start_date||"";let j;e[39]!==i?(j=l=>i("start_date",l.target.value),e[39]=i,e[40]=j):j=e[40];let v;e[41]!==J||e[42]!==j?(v=t.jsxs("div",{children:[P,t.jsx(ce,{id:"filter_start_date",type:"date",value:J,onChange:j})]}),e[41]=J,e[42]=j,e[43]=v):v=e[43];let T;e[44]===Symbol.for("react.memo_cache_sentinel")?(T=t.jsx(R,{htmlFor:"filter_end_date",children:"End Date"}),e[44]=T):T=e[44];const K=a.end_date||"";let g;e[45]!==i?(g=l=>i("end_date",l.target.value),e[45]=i,e[46]=g):g=e[46];let _;e[47]!==K||e[48]!==g?(_=t.jsxs("div",{children:[T,t.jsx(ce,{id:"filter_end_date",type:"date",value:K,onChange:g})]}),e[47]=K,e[48]=g,e[49]=_):_=e[49];let b;e[50]!==p||e[51]!==u||e[52]!==v||e[53]!==_?(b=t.jsxs(W,{children:[A,t.jsx(X,{children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[p,u,v,_]})})]}),e[50]=p,e[51]=u,e[52]=v,e[53]=_,e[54]=b):b=e[54];let y;e[55]!==r||e[56]!==S?(y=S?.data&&S.data.length>0?t.jsx("div",{className:"space-y-4",children:S.data.map(l=>t.jsxs(W,{children:[t.jsx(oe,{children:t.jsxs("div",{className:"flex justify-between items-start",children:[t.jsxs("div",{children:[t.jsx(de,{className:"text-lg",children:l.employee?.name}),t.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[se(l.start_date)," - ",se(l.end_date)]})]}),t.jsx("span",{className:`inline-flex items-center rounded-full px-2 py-1 text-xs font-medium ${pe(l.leave_type)}`,children:l.leave_type.replace("_"," ").toUpperCase()})]})}),t.jsx(X,{children:t.jsxs("div",{className:"space-y-2",children:[l.leave_type==="paid"&&l.hours>0&&t.jsxs("div",{className:"text-sm",children:[t.jsx("span",{className:"text-muted-foreground",children:"Paid Hours: "}),t.jsxs("span",{className:"font-medium",children:[parseFloat(l.hours).toFixed(2)," hours"]})]}),l.notes&&t.jsx("p",{className:"text-sm text-muted-foreground",children:l.notes}),t.jsxs("div",{className:"flex gap-2 pt-2",children:[t.jsx(M,{href:`/leave/${l.id}/edit`,children:t.jsx(Q,{variant:"outline",size:"sm",children:"Edit"})}),t.jsx(M,{href:`/leave/${l.id}`,method:"delete",as:"button",className:"inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-9 px-3 text-destructive",children:"Delete"})]})]})})]},l.id))}):t.jsx(W,{children:t.jsxs(X,{className:"py-10 text-center",children:[t.jsx("p",{className:"text-muted-foreground",children:"No leave entries found."}),t.jsx(M,{href:`/leave/create?business_id=${r}`,className:"mt-4 inline-block",children:t.jsx(Q,{children:"Add your first leave entry"})})]})}),e[55]=r,e[56]=S,e[57]=y):y=e[57];let V;return e[58]!==b||e[59]!==y||e[60]!==d||e[61]!==c?(V=t.jsxs(je,{breadcrumbs:ge,children:[C,t.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 overflow-x-auto rounded-xl p-4",children:[d,c,b,y]})]}),e[58]=b,e[59]=y,e[60]=d,e[61]=c,e[62]=V):V=e[62],V}function _e(s){return t.jsx(n,{value:String(s.id),children:s.name},s.id)}function be(s){return t.jsx(n,{value:String(s.id),children:s.name},s.id)}function ye(s){return new Date(s).toLocaleDateString("en-ZA")}function Se(s){const e={paid:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",unpaid:"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200",sick:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200",public_holiday:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",other:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200"};return e[s]||e.other}export{ot as default};
