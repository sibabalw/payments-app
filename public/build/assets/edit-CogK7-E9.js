import{c as ve,u as Ce,j as t,H as Se,L as Ne}from"./app-CMeUrf50.js";import{I as M}from"./input-error-DGa17wxa.js";import{B as he}from"./x-CZYrHTRQ.js";import{a as De,b as Fe,C as Ee,c as Ae}from"./card-Cwxw5GdZ.js";import{I as je}from"./input-CJwM-rHG.js";import{L as $}from"./label-k3FBp3Ud.js";import{S as _e,a as ye,b as ge,c as be,d as xe}from"./select-BU5oTjNs.js";import{T as Ie}from"./textarea-BwmfAh2i.js";import{C as Le}from"./checkbox-tAXJ8-6B.js";import{A as Te}from"./app-layout-nNCjU6Ur.js";/* empty css            */import"./index-CASGKN-W.js";import"./index-BQCSxHRW.js";import"./index-wVJuMR_H.js";import"./check-DXgzueCv.js";import"./chevron-up-B8DO_JqK.js";import"./appearance-dropdown-CIplfUHR.js";import"./app-sidebar-header-CztvwVfL.js";import"./index-Cfp_L9w6.js";import"./log-out-C9Jhd31W.js";import"./badge-CpbHZjhE.js";import"./proxy-B-sAeQ2V.js";import"./circle-check-Bv3Kk_K_.js";import"./loader-circle-PC8s1h8o.js";import"./circle-x-qFpOssZO.js";import"./circle-alert-tomiUAeh.js";import"./plus-BJ4kQvgy.js";import"./dollar-sign-3i0DvXHD.js";import"./message-square-Bem12P6R.js";import"./file-text-DBGV6D9F.js";import"./users-BjCKGoHP.js";import"./user-check-B_uMkO9r.js";import"./clock-C3FzQv_v.js";import"./shield-CzJFJRG5.js";const ke=[{title:"Custom Deductions",href:"/deductions"},{title:"Edit",href:"#"}];function xt(q){const e=ve.c(114),{deduction:i,businesses:ie,employee:o}=q,le=i.employee_id||null,ne=i.description||"";let O;e[0]!==i.amount||e[1]!==i.business_id||e[2]!==i.is_active||e[3]!==i.name||e[4]!==i.type||e[5]!==le||e[6]!==ne?(O={business_id:i.business_id,employee_id:le,name:i.name,type:i.type,amount:i.amount,is_active:i.is_active,description:ne},e[0]=i.amount,e[1]=i.business_id,e[2]=i.is_active,e[3]=i.name,e[4]=i.type,e[5]=le,e[6]=ne,e[7]=O):O=e[7];const{data:s,setData:l,put:re,processing:oe,errors:n}=Ce(O);let U;e[8]!==i.id||e[9]!==re?(U=r=>{r.preventDefault(),re(`/deductions/${i.id}`)},e[8]=i.id,e[9]=re,e[10]=U):U=e[10];const ae=U;let Z;e[11]===Symbol.for("react.memo_cache_sentinel")?(Z=t.jsx(Se,{title:"Edit Custom Deduction"}),e[11]=Z):Z=e[11];let z;e[12]===Symbol.for("react.memo_cache_sentinel")?(z=t.jsx(De,{children:t.jsx(Fe,{children:"Edit Custom Deduction"})}),e[12]=z):z=e[12];let a;e[13]!==o?(a=o&&t.jsxs("div",{className:"p-3 bg-muted rounded-lg",children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Employee-specific deduction for:"}),t.jsx("p",{className:"font-medium",children:o.name})]}),e[13]=o,e[14]=a):a=e[14];let G;e[15]===Symbol.for("react.memo_cache_sentinel")?(G=t.jsx($,{htmlFor:"business_id",children:"Business"}),e[15]=G):G=e[15];const ce=String(s.business_id);let c;e[16]!==l?(c=r=>l("business_id",Number(r)),e[16]=l,e[17]=c):c=e[17];const me=!!o;let J;e[18]===Symbol.for("react.memo_cache_sentinel")?(J=t.jsx(ye,{children:t.jsx(ge,{})}),e[18]=J):J=e[18];let m;e[19]!==ie?(m=ie.map(Pe),e[19]=ie,e[20]=m):m=e[20];let d;e[21]!==m?(d=t.jsx(be,{children:m}),e[21]=m,e[22]=d):d=e[22];let p;e[23]!==c||e[24]!==me||e[25]!==d||e[26]!==ce?(p=t.jsxs(_e,{value:ce,onValueChange:c,disabled:me,children:[J,d]}),e[23]=c,e[24]=me,e[25]=d,e[26]=ce,e[27]=p):p=e[27];let u;e[28]!==n.business_id?(u=t.jsx(M,{message:n.business_id}),e[28]=n.business_id,e[29]=u):u=e[29];let f;e[30]!==p||e[31]!==u?(f=t.jsxs("div",{children:[G,p,u]}),e[30]=p,e[31]=u,e[32]=f):f=e[32];let K;e[33]===Symbol.for("react.memo_cache_sentinel")?(K=t.jsx($,{htmlFor:"name",children:"Deduction Name"}),e[33]=K):K=e[33];let x;e[34]!==l?(x=r=>l("name",r.target.value),e[34]=l,e[35]=x):x=e[35];let h;e[36]!==s.name||e[37]!==x?(h=t.jsx(je,{id:"name",value:s.name,onChange:x,placeholder:"e.g., Medical Aid, Pension Fund",required:!0}),e[36]=s.name,e[37]=x,e[38]=h):h=e[38];let j;e[39]!==n.name?(j=t.jsx(M,{message:n.name}),e[39]=n.name,e[40]=j):j=e[40];let _;e[41]!==h||e[42]!==j?(_=t.jsxs("div",{children:[K,h,j]}),e[41]=h,e[42]=j,e[43]=_):_=e[43];let Q;e[44]===Symbol.for("react.memo_cache_sentinel")?(Q=t.jsx($,{htmlFor:"type",children:"Type"}),e[44]=Q):Q=e[44];let y;e[45]!==l?(y=r=>l("type",r),e[45]=l,e[46]=y):y=e[46];let W;e[47]===Symbol.for("react.memo_cache_sentinel")?(W=t.jsx(ye,{children:t.jsx(ge,{})}),e[47]=W):W=e[47];let X;e[48]===Symbol.for("react.memo_cache_sentinel")?(X=t.jsxs(be,{children:[t.jsx(xe,{value:"fixed",children:"Fixed Amount"}),t.jsx(xe,{value:"percentage",children:"Percentage"})]}),e[48]=X):X=e[48];let g;e[49]!==s.type||e[50]!==y?(g=t.jsxs(_e,{value:s.type,onValueChange:y,children:[W,X]}),e[49]=s.type,e[50]=y,e[51]=g):g=e[51];let b;e[52]!==n.type?(b=t.jsx(M,{message:n.type}),e[52]=n.type,e[53]=b):b=e[53];let v;e[54]!==g||e[55]!==b?(v=t.jsxs("div",{children:[Q,g,b]}),e[54]=g,e[55]=b,e[56]=v):v=e[56];const de=s.type==="percentage"?"Percentage (%)":"Amount (ZAR)";let C;e[57]!==de?(C=t.jsx($,{htmlFor:"amount",children:de}),e[57]=de,e[58]=C):C=e[58];const pe=(s.type==="percentage","0.01"),ue=s.type==="percentage"?"100":void 0;let S;e[59]!==l?(S=r=>l("amount",r.target.value),e[59]=l,e[60]=S):S=e[60];let N;e[61]!==s.amount||e[62]!==pe||e[63]!==ue||e[64]!==S?(N=t.jsx(je,{id:"amount",type:"number",step:pe,min:"0",max:ue,value:s.amount,onChange:S,required:!0}),e[61]=s.amount,e[62]=pe,e[63]=ue,e[64]=S,e[65]=N):N=e[65];let D;e[66]!==n.amount?(D=t.jsx(M,{message:n.amount}),e[66]=n.amount,e[67]=D):D=e[67];let F;e[68]!==s.type?(F=s.type==="percentage"&&t.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Percentage of gross salary"}),e[68]=s.type,e[69]=F):F=e[69];let E;e[70]!==C||e[71]!==N||e[72]!==D||e[73]!==F?(E=t.jsxs("div",{children:[C,N,D,F]}),e[70]=C,e[71]=N,e[72]=D,e[73]=F,e[74]=E):E=e[74];let A;e[75]!==v||e[76]!==E?(A=t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[v,E]}),e[75]=v,e[76]=E,e[77]=A):A=e[77];let Y;e[78]===Symbol.for("react.memo_cache_sentinel")?(Y=t.jsx($,{htmlFor:"description",children:"Description (Optional)"}),e[78]=Y):Y=e[78];let I;e[79]!==l?(I=r=>l("description",r.target.value),e[79]=l,e[80]=I):I=e[80];let L;e[81]!==s.description||e[82]!==I?(L=t.jsx(Ie,{id:"description",value:s.description,onChange:I,rows:3}),e[81]=s.description,e[82]=I,e[83]=L):L=e[83];let T;e[84]!==n.description?(T=t.jsx(M,{message:n.description}),e[84]=n.description,e[85]=T):T=e[85];let k;e[86]!==L||e[87]!==T?(k=t.jsxs("div",{children:[Y,L,T]}),e[86]=L,e[87]=T,e[88]=k):k=e[88];let P;e[89]!==l?(P=r=>l("is_active",r),e[89]=l,e[90]=P):P=e[90];let w;e[91]!==s.is_active||e[92]!==P?(w=t.jsx(Le,{id:"is_active",checked:s.is_active,onCheckedChange:P}),e[91]=s.is_active,e[92]=P,e[93]=w):w=e[93];let ee;e[94]===Symbol.for("react.memo_cache_sentinel")?(ee=t.jsx($,{htmlFor:"is_active",className:"cursor-pointer",children:"Active (deduction will be applied to payroll)"}),e[94]=ee):ee=e[94];let B;e[95]!==w?(B=t.jsxs("div",{className:"flex items-center space-x-2",children:[w,ee]}),e[95]=w,e[96]=B):B=e[96];let H;e[97]!==oe?(H=t.jsx(he,{type:"submit",disabled:oe,children:"Update Deduction"}),e[97]=oe,e[98]=H):H=e[98];const fe=o?`/employees/${o.id}/edit`:"/deductions";let te;e[99]===Symbol.for("react.memo_cache_sentinel")?(te=t.jsx(he,{type:"button",variant:"outline",children:"Cancel"}),e[99]=te):te=e[99];let R;e[100]!==fe?(R=t.jsx(Ne,{href:fe,children:te}),e[100]=fe,e[101]=R):R=e[101];let V;e[102]!==H||e[103]!==R?(V=t.jsxs("div",{className:"flex gap-2",children:[H,R]}),e[102]=H,e[103]=R,e[104]=V):V=e[104];let se;return e[105]!==ae||e[106]!==f||e[107]!==_||e[108]!==A||e[109]!==k||e[110]!==B||e[111]!==V||e[112]!==a?(se=t.jsxs(Te,{breadcrumbs:ke,children:[Z,t.jsx("div",{className:"flex h-full flex-1 flex-col gap-4 overflow-x-auto rounded-xl p-4",children:t.jsxs(Ee,{children:[z,t.jsx(Ae,{children:t.jsxs("form",{onSubmit:ae,className:"space-y-4",children:[a,f,_,A,k,B,V]})})]})})]}),e[105]=ae,e[106]=f,e[107]=_,e[108]=A,e[109]=k,e[110]=B,e[111]=V,e[112]=a,e[113]=se):se=e[113],se}function Pe(q){return t.jsx(xe,{value:String(q.id),children:q.name},q.id)}export{xt as default};
