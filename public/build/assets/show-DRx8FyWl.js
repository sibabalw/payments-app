import{c as Ye,j as t,H as Ze,L as ze}from"./app-DWDC-BVo.js";import{B as Re}from"./createLucideIcon-CDiNb0OM.js";import{b as Ge,C as Ve,a as qe,c as Je}from"./card-ErUD2DV9.js";import{A as Ke}from"./app-layout-Csx9VZt2.js";import{A as Me}from"./arrow-left-DgfFAESW.js";import{F as Oe}from"./file-text-xQShroE0.js";import{D as Qe}from"./download-CXQ8vWTZ.js";/* empty css            */import"./app-sidebar-header-r-OiXY8i.js";import"./index-B-id3RBu.js";import"./index-BspEiaub.js";import"./x-Cr_BKX42.js";import"./appearance-dropdown-Boh93vvE.js";import"./index-BCOzoWRm.js";import"./chevron-down-BehZftUK.js";import"./index-apnaeyBA.js";import"./index-l1Yz4tBP.js";import"./index-CcLcdVZM.js";import"./log-out-CNw_jzHT.js";import"./chevron-right-TaOApODu.js";import"./badge-BnVI9wD_.js";import"./proxy-8KyYWbtH.js";import"./circle-check-DngFYpsd.js";import"./loader-circle-_uqlEWjJ.js";import"./circle-x-DCRTT9my.js";import"./circle-alert-C7E7uvB-.js";import"./plus-BwK_Jy3D.js";import"./credit-card-DHCU20zw.js";import"./dollar-sign-DGtOSjhC.js";import"./message-square-DRz1er9_.js";import"./users-CtagEMWm.js";import"./user-check-Dt0Yb2Ws.js";import"./clock-D4ogtgGS.js";import"./shield-B0GD2scd.js";const We=[{title:"Payroll",href:"/payroll"},{title:"Payslip",href:"#"}];function Zt(n){const e=Ye.c(178),{payslip:Ue}=n,{job:s,employee:l,business:a,adjustments:ve}=Ue,h=it,oe=rt,me=nt,i=parseFloat(s.gross_salary);parseFloat(s.paye_amount),parseFloat(s.uif_amount);let _,j,y,b,o,N,g,m,v,d,c,p,w,x,F,f,u,S;if(e[0]!==ve||e[1]!==a.city||e[2]!==a.email||e[3]!==a.name||e[4]!==a.phone||e[5]!==a.postal_code||e[6]!==a.province||e[7]!==a.street_address||e[8]!==l.department||e[9]!==l.email||e[10]!==l.employment_type||e[11]!==l.id_number||e[12]!==l.name||e[13]!==l.tax_number||e[14]!==i||e[15]!==s.id||e[16]!==s.pay_period_end||e[17]!==s.pay_period_start||e[18]!==s.paye_amount||e[19]!==s.processed_at||e[20]!==s.uif_amount){const ie=ve||[];ie.filter(at).reduce(lt,0),ie.filter(st).reduce(tt,0),y=Ke,v=We;const Se=`Payslip - ${l.name}`;e[39]!==Se?(d=t.jsx(Ze,{title:Se}),e[39]=Se,e[40]=d):d=e[40],g="flex h-full flex-1 flex-col gap-4 overflow-x-auto rounded-xl p-4";let xe;e[41]===Symbol.for("react.memo_cache_sentinel")?(xe=t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx(ze,{href:"/payroll/jobs",children:t.jsxs(Re,{variant:"outline",size:"sm",children:[t.jsx(Me,{className:"mr-2 h-4 w-4"}),"Back"]})}),t.jsx("h1",{className:"text-2xl font-bold",children:"Payslip"})]}),e[41]=xe):xe=e[41];const De=`/payslips/${s.id}/pdf`;let fe;e[42]===Symbol.for("react.memo_cache_sentinel")?(fe=t.jsxs(Re,{variant:"outline",children:[t.jsx(Oe,{className:"mr-2 h-4 w-4"}),"View PDF"]}),e[42]=fe):fe=e[42];let H;e[43]!==De?(H=t.jsx("a",{href:De,target:"_blank",rel:"noopener noreferrer",children:fe}),e[43]=De,e[44]=H):H=e[44];const Pe=`/payslips/${s.id}/download`;let ue;e[45]===Symbol.for("react.memo_cache_sentinel")?(ue=t.jsxs(Re,{children:[t.jsx(Qe,{className:"mr-2 h-4 w-4"}),"Download PDF"]}),e[45]=ue):ue=e[45];let R;e[46]!==Pe?(R=t.jsx("a",{href:Pe,children:ue}),e[46]=Pe,e[47]=R):R=e[47],e[48]!==H||e[49]!==R?(m=t.jsxs("div",{className:"flex items-center justify-between",children:[xe,t.jsxs("div",{className:"flex gap-2",children:[H,R]})]}),e[48]=H,e[49]=R,e[50]=m):m=e[50],N="max-w-4xl mx-auto w-full",j=Ve,S="print:shadow-none print:border-0";let U;e[51]!==a.name?(U=t.jsx(Ge,{className:"text-2xl mb-2",children:a.name}),e[51]=a.name,e[52]=U):U=e[52];const Ae=a.street_address&&`${a.street_address}, `,$e=a.city&&`${a.city}, `,ke=a.province&&`${a.province}`,Ee=a.postal_code&&` ${a.postal_code}`;let Y;e[53]!==Ae||e[54]!==$e||e[55]!==ke||e[56]!==Ee?(Y=t.jsxs("p",{className:"text-sm text-muted-foreground",children:[Ae,$e,ke,Ee]}),e[53]=Ae,e[54]=$e,e[55]=ke,e[56]=Ee,e[57]=Y):Y=e[57];let Z;e[58]!==a.email?(Z=a.email&&t.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:a.email}),e[58]=a.email,e[59]=Z):Z=e[59];let z;e[60]!==a.phone?(z=a.phone&&t.jsx("p",{className:"text-sm text-muted-foreground",children:a.phone}),e[60]=a.phone,e[61]=z):z=e[61];let G;e[62]!==U||e[63]!==Y||e[64]!==Z||e[65]!==z?(G=t.jsxs("div",{children:[U,Y,Z,z]}),e[62]=U,e[63]=Y,e[64]=Z,e[65]=z,e[66]=G):G=e[66];let he;e[67]===Symbol.for("react.memo_cache_sentinel")?(he=t.jsx("h2",{className:"text-xl font-bold mb-2",children:"PAYSLIP"}),e[67]=he):he=e[67];let V;e[68]!==s.pay_period_start?(V=oe(s.pay_period_start),e[68]=s.pay_period_start,e[69]=V):V=e[69];let q;e[70]!==s.pay_period_end?(q=oe(s.pay_period_end),e[70]=s.pay_period_end,e[71]=q):q=e[71];let J;e[72]!==V||e[73]!==q?(J=t.jsxs("p",{className:"text-sm text-muted-foreground",children:["Pay Period: ",V," - ",q]}),e[72]=V,e[73]=q,e[74]=J):J=e[74];let K;e[75]!==s.processed_at?(K=oe(s.processed_at),e[75]=s.processed_at,e[76]=K):K=e[76];let M;e[77]!==K?(M=t.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Payment Date: ",K]}),e[77]=K,e[78]=M):M=e[78];let O;e[79]!==J||e[80]!==M?(O=t.jsxs("div",{className:"text-right",children:[he,J,M]}),e[79]=J,e[80]=M,e[81]=O):O=e[81],e[82]!==G||e[83]!==O?(o=t.jsx(qe,{className:"print:pb-2",children:t.jsxs("div",{className:"flex justify-between items-start",children:[G,O]})}),e[82]=G,e[83]=O,e[84]=o):o=e[84],_=Je,F="space-y-6 print:space-y-4";let _e;e[85]===Symbol.for("react.memo_cache_sentinel")?(_e=t.jsx("h3",{className:"font-semibold mb-3",children:"Employee Information"}),e[85]=_e):_e=e[85];let je;e[86]===Symbol.for("react.memo_cache_sentinel")?(je=t.jsx("p",{className:"text-muted-foreground",children:"Name"}),e[86]=je):je=e[86];let Q;e[87]!==l.name?(Q=t.jsxs("div",{children:[je,t.jsx("p",{className:"font-medium",children:l.name})]}),e[87]=l.name,e[88]=Q):Q=e[88];let W;e[89]!==l.email?(W=l.email&&t.jsxs("div",{children:[t.jsx("p",{className:"text-muted-foreground",children:"Email"}),t.jsx("p",{className:"font-medium",children:l.email})]}),e[89]=l.email,e[90]=W):W=e[90];let X;e[91]!==l.id_number?(X=l.id_number&&t.jsxs("div",{children:[t.jsx("p",{className:"text-muted-foreground",children:"ID Number"}),t.jsx("p",{className:"font-medium",children:l.id_number})]}),e[91]=l.id_number,e[92]=X):X=e[92];let ee;e[93]!==l.tax_number?(ee=l.tax_number&&t.jsxs("div",{children:[t.jsx("p",{className:"text-muted-foreground",children:"Tax Number"}),t.jsx("p",{className:"font-medium",children:l.tax_number})]}),e[93]=l.tax_number,e[94]=ee):ee=e[94];let te;e[95]!==l.department?(te=l.department&&t.jsxs("div",{children:[t.jsx("p",{className:"text-muted-foreground",children:"Department"}),t.jsx("p",{className:"font-medium",children:l.department})]}),e[95]=l.department,e[96]=te):te=e[96];let se;e[97]!==l.employment_type?(se=l.employment_type&&t.jsxs("div",{children:[t.jsx("p",{className:"text-muted-foreground",children:"Employment Type"}),t.jsx("p",{className:"font-medium capitalize",children:l.employment_type.replace("_"," ")})]}),e[97]=l.employment_type,e[98]=se):se=e[98],e[99]!==Q||e[100]!==W||e[101]!==X||e[102]!==ee||e[103]!==te||e[104]!==se?(f=t.jsxs("div",{className:"border-b pb-4",children:[_e,t.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[Q,W,X,ee,te,se]})]}),e[99]=Q,e[100]=W,e[101]=X,e[102]=ee,e[103]=te,e[104]=se,e[105]=f):f=e[105];let ye;e[106]===Symbol.for("react.memo_cache_sentinel")?(ye=t.jsx("h3",{className:"font-semibold mb-3",children:"Earnings"}),e[106]=ye):ye=e[106];let be;e[107]===Symbol.for("react.memo_cache_sentinel")?(be=t.jsx("span",{children:"Gross Salary"}),e[107]=be):be=e[107];const Le=h(i);e[108]!==Le?(u=t.jsxs("div",{children:[ye,t.jsx("div",{className:"space-y-2",children:t.jsxs("div",{className:"flex justify-between items-center",children:[be,t.jsx("span",{className:"font-medium",children:Le})]})})]}),e[108]=Le,e[109]=u):u=e[109],e[110]===Symbol.for("react.memo_cache_sentinel")?(x=t.jsx("h3",{className:"font-semibold mb-3",children:"Deductions"}),e[110]=x):x=e[110],b="space-y-2";let Ne;e[111]===Symbol.for("react.memo_cache_sentinel")?(Ne=t.jsx("span",{children:"PAYE (Pay As You Earn)"}),e[111]=Ne):Ne=e[111];const Ce=h(s.paye_amount),Te=parseFloat(s.paye_amount);let le;e[112]!==i||e[113]!==Te?(le=me(Te,i),e[112]=i,e[113]=Te,e[114]=le):le=e[114];let ae;e[115]!==le?(ae=t.jsxs("span",{className:"text-muted-foreground ml-2 text-xs",children:["(",le,"%)"]}),e[115]=le,e[116]=ae):ae=e[116],e[117]!==Ce||e[118]!==ae?(c=t.jsxs("div",{className:"flex justify-between items-center text-red-600",children:[Ne,t.jsxs("span",{children:["- ",Ce,ae]})]}),e[117]=Ce,e[118]=ae,e[119]=c):c=e[119];let ge;e[120]===Symbol.for("react.memo_cache_sentinel")?(ge=t.jsx("span",{children:"UIF (Unemployment Insurance Fund)"}),e[120]=ge):ge=e[120];const Ie=h(s.uif_amount),Be=parseFloat(s.uif_amount);let ne;e[121]!==i||e[122]!==Be?(ne=me(Be,i),e[121]=i,e[122]=Be,e[123]=ne):ne=e[123];let re;e[124]!==ne?(re=t.jsxs("span",{className:"text-muted-foreground ml-2 text-xs",children:["(",ne,"%)"]}),e[124]=ne,e[125]=re):re=e[125],e[126]!==Ie||e[127]!==re?(p=t.jsxs("div",{className:"flex justify-between items-center text-red-600",children:[ge,t.jsxs("span",{children:["- ",Ie,re]})]}),e[126]=Ie,e[127]=re,e[128]=p):p=e[128],w=ie.length>0&&t.jsxs(t.Fragment,{children:[ie.filter(et).map((r,He)=>t.jsxs("div",{className:"flex justify-between items-center text-red-600",children:[t.jsx("span",{children:r.name}),t.jsxs("span",{children:["- ",h(r.amount),r.type==="percentage"?t.jsxs("span",{className:"text-muted-foreground ml-2 text-xs",children:["(",parseFloat(r.original_amount||r.amount).toFixed(2),"%)"]}):t.jsxs("span",{className:"text-muted-foreground ml-2 text-xs",children:["(",me(parseFloat(r.amount),i),"%)"]})]})]},`deduction-${He}`)),ie.filter(Xe).map((r,He)=>t.jsxs("div",{className:"flex justify-between items-center text-green-600",children:[t.jsx("span",{children:r.name}),t.jsxs("span",{children:["+ ",h(r.amount),r.type==="percentage"?t.jsxs("span",{className:"text-muted-foreground ml-2 text-xs",children:["(",parseFloat(r.original_amount||r.amount).toFixed(2),"%)"]}):t.jsxs("span",{className:"text-muted-foreground ml-2 text-xs",children:["(",me(parseFloat(r.amount),i),"%)"]})]})]},`addition-${He}`))]}),e[0]=ve,e[1]=a.city,e[2]=a.email,e[3]=a.name,e[4]=a.phone,e[5]=a.postal_code,e[6]=a.province,e[7]=a.street_address,e[8]=l.department,e[9]=l.email,e[10]=l.employment_type,e[11]=l.id_number,e[12]=l.name,e[13]=l.tax_number,e[14]=i,e[15]=s.id,e[16]=s.pay_period_end,e[17]=s.pay_period_start,e[18]=s.paye_amount,e[19]=s.processed_at,e[20]=s.uif_amount,e[21]=_,e[22]=j,e[23]=y,e[24]=b,e[25]=o,e[26]=N,e[27]=g,e[28]=m,e[29]=v,e[30]=d,e[31]=c,e[32]=p,e[33]=w,e[34]=x,e[35]=F,e[36]=f,e[37]=u,e[38]=S}else _=e[21],j=e[22],y=e[23],b=e[24],o=e[25],N=e[26],g=e[27],m=e[28],v=e[29],d=e[30],c=e[31],p=e[32],w=e[33],x=e[34],F=e[35],f=e[36],u=e[37],S=e[38];let D;e[129]!==b||e[130]!==c||e[131]!==p||e[132]!==w?(D=t.jsxs("div",{className:b,children:[c,p,w]}),e[129]=b,e[130]=c,e[131]=p,e[132]=w,e[133]=D):D=e[133];let P;e[134]!==D||e[135]!==x?(P=t.jsxs("div",{children:[x,D]}),e[134]=D,e[135]=x,e[136]=P):P=e[136];let de;e[137]===Symbol.for("react.memo_cache_sentinel")?(de=t.jsx("span",{children:"Net Pay"}),e[137]=de):de=e[137];const we=h(s.net_salary);let A;e[138]!==we?(A=t.jsx("div",{className:"border-t pt-4",children:t.jsxs("div",{className:"flex justify-between items-center text-lg font-bold",children:[de,t.jsx("span",{className:"text-green-600",children:we})]})}),e[138]=we,e[139]=A):A=e[139];let $;e[140]!==s.sdl_amount?($=parseFloat(s.sdl_amount)>0&&t.jsxs("div",{className:"border-t pt-4",children:[t.jsx("h3",{className:"font-semibold mb-2 text-sm text-muted-foreground",children:"Employer Costs (Not Deducted from Employee)"}),t.jsxs("div",{className:"flex justify-between items-center text-sm text-muted-foreground",children:[t.jsx("span",{children:"SDL (Skills Development Levy)"}),t.jsx("span",{children:h(s.sdl_amount)})]})]}),e[140]=s.sdl_amount,e[141]=$):$=e[141];let k;e[142]!==s.processed_at||e[143]!==s.transaction_id?(k=s.transaction_id&&t.jsxs("div",{className:"border-t pt-4",children:[t.jsx("h3",{className:"font-semibold mb-2 text-sm",children:"Payment Details"}),t.jsxs("div",{className:"text-sm space-y-1",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"Transaction ID:"}),t.jsx("span",{className:"font-mono",children:s.transaction_id})]}),s.processed_at&&t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"Processed At:"}),t.jsx("span",{children:oe(s.processed_at)})]})]})]}),e[142]=s.processed_at,e[143]=s.transaction_id,e[144]=k):k=e[144];const Fe=`inline-flex items-center rounded-full px-3 py-1 text-sm font-medium ${s.status==="succeeded"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":s.status==="failed"?"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200"}`;let E;e[145]!==s.status?(E=s.status.toUpperCase(),e[145]=s.status,e[146]=E):E=e[146];let L;e[147]!==Fe||e[148]!==E?(L=t.jsx("div",{className:"flex justify-end pt-4 border-t",children:t.jsxs("span",{className:Fe,children:["Status: ",E]})}),e[147]=Fe,e[148]=E,e[149]=L):L=e[149];let C;e[150]!==_||e[151]!==P||e[152]!==A||e[153]!==$||e[154]!==k||e[155]!==L||e[156]!==F||e[157]!==f||e[158]!==u?(C=t.jsxs(_,{className:F,children:[f,u,P,A,$,k,L]}),e[150]=_,e[151]=P,e[152]=A,e[153]=$,e[154]=k,e[155]=L,e[156]=F,e[157]=f,e[158]=u,e[159]=C):C=e[159];let T;e[160]!==j||e[161]!==o||e[162]!==C||e[163]!==S?(T=t.jsxs(j,{className:S,children:[o,C]}),e[160]=j,e[161]=o,e[162]=C,e[163]=S,e[164]=T):T=e[164];let I;e[165]!==N||e[166]!==T?(I=t.jsx("div",{className:N,children:T}),e[165]=N,e[166]=T,e[167]=I):I=e[167];let B;e[168]!==g||e[169]!==m||e[170]!==I?(B=t.jsxs("div",{className:g,children:[m,I]}),e[168]=g,e[169]=m,e[170]=I,e[171]=B):B=e[171];let ce;e[172]===Symbol.for("react.memo_cache_sentinel")?(ce=t.jsx("style",{children:`
                @media print {
                    .print\\:shadow-none { box-shadow: none !important; }
                    .print\\:border-0 { border: none !important; }
                    .print\\:pb-2 { padding-bottom: 0.5rem !important; }
                    .print\\:space-y-4 > * + * { margin-top: 1rem !important; }
                    button, a[href] { display: none !important; }
                }
            `}),e[172]=ce):ce=e[172];let pe;return e[173]!==y||e[174]!==v||e[175]!==d||e[176]!==B?(pe=t.jsxs(y,{breadcrumbs:v,children:[d,B,ce]}),e[173]=y,e[174]=v,e[175]=d,e[176]=B,e[177]=pe):pe=e[177],pe}function Xe(n){return(n.adjustment_type||"deduction")==="addition"}function et(n){return(n.adjustment_type||"deduction")==="deduction"}function tt(n,e){return n+(parseFloat(e.amount)||0)}function st(n){return(n.adjustment_type||"deduction")==="addition"}function lt(n,e){return n+(parseFloat(e.amount)||0)}function at(n){return(n.adjustment_type||"deduction")==="deduction"}function nt(n,e){return e===0?0:(n/e*100).toFixed(2)}function rt(n){return n?new Date(n).toLocaleDateString("en-ZA",{year:"numeric",month:"long",day:"numeric"}):"N/A"}function it(n){return`ZAR ${parseFloat(String(n)).toLocaleString("en-ZA",{minimumFractionDigits:2,maximumFractionDigits:2})}`}export{Zt as default};
