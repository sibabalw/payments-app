import{c as y,r as S,j as e,L as u,a as A,H as C}from"./app-zh9bNfQA.js";import{B as h}from"./createLucideIcon-BZjvJ1Zn.js";import{C as g,c as N,a as $,b as D}from"./card-BdZbHl6r.js";import{S as w,a as B,b as I,c as L,d as k}from"./select-Bf_U1fyU.js";import{A as z}from"./app-layout-Du2zqNOn.js";import{P as E}from"./plus-DPynhUc-.js";/* empty css            */import"./index-Bvd5418W.js";import"./chevron-down-C7_CWyHS.js";import"./x-BIBjS2Dr.js";import"./index-CaEI0-fE.js";import"./index-CvHCqEC4.js";import"./chevron-right-O9ILxyvV.js";import"./check-BlMOmQr2.js";import"./chevron-up-DTZu2ggr.js";import"./app-sidebar-header-CRr_1DPO.js";import"./index-NEtNT4ix.js";import"./appearance-dropdown-Bb28oTQN.js";import"./index-BH508O9j.js";import"./index-BJwOBxES.js";import"./index-CcLcdVZM.js";import"./log-out-D2fYovF8.js";import"./badge-VllgXE3C.js";import"./proxy-CflicfAZ.js";import"./circle-check-B9uKMuXu.js";import"./loader-circle-DmMzF6DP.js";import"./circle-x-BKTi4obl.js";import"./circle-alert-PjDKICDi.js";import"./credit-card-DZtV9Y3R.js";import"./dollar-sign-DV-oRcFJ.js";import"./message-square-CrR61UD7.js";import"./file-text-DIkPgk9X.js";import"./users-DRMz8fhj.js";import"./user-check-D6rfO7ti.js";import"./clock-CEsoW84B.js";import"./shield-DgxHpXTb.js";const F=[{title:"Adjustments",href:"/adjustments"}];function ve(t){const s=y.c(16),{adjustments:o,businesses:r,selectedBusinessId:b}=t,[i,v]=S.useState(b||r[0]?.id||"");let c;s[0]===Symbol.for("react.memo_cache_sentinel")?(c=j=>{v(j),A.get("/adjustments",{business_id:j},{preserveState:!0})},s[0]=c):c=s[0];const _=c;let d;s[1]===Symbol.for("react.memo_cache_sentinel")?(d=e.jsx(C,{title:"Adjustments"}),s[1]=d):d=s[1];let m;s[2]===Symbol.for("react.memo_cache_sentinel")?(m=e.jsx("h1",{className:"text-2xl font-bold",children:"Adjustments"}),s[2]=m):m=s[2];const f=`/adjustments/create?business_id=${i}`;let x;s[3]===Symbol.for("react.memo_cache_sentinel")?(x=e.jsxs(h,{children:[e.jsx(E,{className:"mr-2 h-4 w-4"}),"Add Adjustment"]}),s[3]=x):x=s[3];let n;s[4]!==f?(n=e.jsxs("div",{className:"flex items-center justify-between",children:[m,e.jsx(u,{href:f,children:x})]}),s[4]=f,s[5]=n):n=s[5];let a;s[6]!==i||s[7]!==r?(a=r&&r.length>0&&e.jsxs("div",{className:"max-w-xs",children:[e.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Business"}),e.jsxs(w,{value:String(i),onValueChange:_,children:[e.jsx(B,{children:e.jsx(I,{})}),e.jsx(L,{children:r.map(H)})]})]}),s[6]=i,s[7]=r,s[8]=a):a=s[8];let l;s[9]!==o||s[10]!==i?(l=o?.data&&o.data.length>0?e.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:o.data.map(R)}):e.jsx(g,{children:e.jsxs(N,{className:"py-10 text-center",children:[e.jsx("p",{className:"text-muted-foreground",children:"No adjustments found."}),e.jsx(u,{href:`/adjustments/create?business_id=${i}`,className:"mt-4 inline-block",children:e.jsx(h,{children:"Add your first adjustment"})})]})}),s[9]=o,s[10]=i,s[11]=l):l=s[11];let p;return s[12]!==n||s[13]!==a||s[14]!==l?(p=e.jsxs(z,{breadcrumbs:F,children:[d,e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 overflow-x-auto rounded-xl p-4",children:[n,a,l]})]}),s[12]=n,s[13]=a,s[14]=l,s[15]=p):p=s[15],p}function R(t){return e.jsxs(g,{children:[e.jsx($,{children:e.jsx(D,{children:t.name})}),e.jsx(N,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Type: "}),e.jsx("span",{className:"font-medium capitalize",children:t.type})]}),e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Adjustment: "}),e.jsx("span",{className:`font-medium capitalize ${t.adjustment_type==="deduction"?"text-red-600":"text-green-600"}`,children:t.adjustment_type==="deduction"?"Deduction":"Addition"})]}),e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Amount: "}),e.jsx("span",{className:"font-medium",children:t.type==="percentage"?`${t.amount}%`:`ZAR ${parseFloat(t.amount).toLocaleString("en-ZA",{minimumFractionDigits:2,maximumFractionDigits:2})}`})]}),e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Frequency: "}),e.jsx("span",{className:"font-medium capitalize",children:t.is_recurring?"Recurring":"Once-off"})]}),!t.is_recurring&&t.payroll_period_start&&e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Period: "}),e.jsxs("span",{className:"font-medium",children:[new Date(t.payroll_period_start).toLocaleDateString()," - ",new Date(t.payroll_period_end).toLocaleDateString()]})]}),e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Status: "}),e.jsx("span",{className:`font-medium ${t.is_active?"text-green-600":"text-gray-500"}`,children:t.is_active?"Active":"Inactive"})]}),t.description&&e.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:t.description}),e.jsxs("div",{className:"flex gap-2 mt-4",children:[e.jsx(u,{href:`/adjustments/${t.id}/edit`,className:"flex-1",children:e.jsx(h,{variant:"outline",size:"sm",className:"w-full",children:"Edit"})}),e.jsx(u,{href:`/adjustments/${t.id}`,method:"delete",as:"button",className:"inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-9 px-3",children:"Delete"})]})]})})]},t.id)}function H(t){return e.jsx(k,{value:String(t.id),children:t.name},t.id)}export{ve as default};
