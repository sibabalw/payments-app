import{c as we,j as s,H as ke,L as Ce}from"./app-BRoNAUIM.js";import{C as a,c as i,a as c,b as n,d as ae}from"./card-Bag7gWUQ.js";import{B as ie}from"./badge-ZsznMIyW.js";import{A as Ae}from"./admin-layout-BnJz0fFz.js";import{a as je,B as Le}from"./BarChart-TYEj3kCk.js";import{C as Pe}from"./chevron-left-uzkLnT6H.js";import{C as pe}from"./circle-check-big-BAJqmGwp.js";import{C as ue}from"./clock-DWicTrer.js";import{A as De}from"./activity-CuMXqdhx.js";import{C as ye,X as ge,Y as _e,T as be,L as Ne,R as ve}from"./CartesianChart-IPqX-nNx.js";import{L as Se,a as Re}from"./LineChart-DNcQ696p.js";import{C as Te}from"./circle-alert-COfzFcbZ.js";/* empty css            */import"./x-pZV5lkp5.js";import"./app-sidebar-header-BbzcXdQi.js";import"./appearance-dropdown-BEtN_wNg.js";import"./index-CBJSSLbQ.js";import"./index-Cfp_L9w6.js";import"./log-out-MC42nTzo.js";import"./index-BohsM0ZD.js";import"./shield-Kl3V0fgW.js";import"./users-CEYKQlp0.js";import"./message-square-CEp_sz_O.js";import"./file-text-FWLsz4T5.js";import"./lock-Dth4hMuh.js";import"./chart-column-DlXi8TWy.js";const Be=[{title:"Admin",href:"/admin"},{title:"Performance",href:"/admin/performance"}];function xs(t){const e=we.c(84),{paymentMetrics:r,payrollMetrics:l,queueStats:o,errorRates:ce,responseTimeTrends:ne,transactionTrends:oe,slowOperations:P}=t,fe=Me,he=Ee;let D;e[0]!==ce?(D=Object.entries(ce).map(ze),e[0]=ce,e[1]=D):D=e[1];const me=D;let R;e[2]===Symbol.for("react.memo_cache_sentinel")?(R=s.jsx(ke,{title:"Admin - Performance Monitoring"}),e[2]=R):R=e[2];let T;e[3]===Symbol.for("react.memo_cache_sentinel")?(T=s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Performance Monitoring"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"System performance metrics and statistics"})]}),e[3]=T):T=e[3];let B;e[4]===Symbol.for("react.memo_cache_sentinel")?(B=s.jsxs("div",{className:"flex items-center justify-between",children:[T,s.jsx(Ce,{href:"/admin",children:s.jsxs("button",{className:"inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-10 px-4 py-2",children:[s.jsx(Pe,{className:"mr-2 h-4 w-4"}),"Back to Dashboard"]})})]}),e[4]=B):B=e[4];let K;e[5]===Symbol.for("react.memo_cache_sentinel")?(K=s.jsxs(c,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(n,{className:"text-sm font-medium",children:"Payment Success Rate"}),s.jsx(pe,{className:"h-4 w-4 text-muted-foreground"})]}),e[5]=K):K=e[5];let m;e[6]!==r.success_rate?(m=s.jsxs("div",{className:"text-2xl font-bold",children:[r.success_rate,"%"]}),e[6]=r.success_rate,e[7]=m):m=e[7];const de=he(r.success_rate);let d;e[8]!==r.succeeded||e[9]!==r.total||e[10]!==de?(d=s.jsx("div",{className:"flex items-center gap-2 mt-2",children:s.jsxs(ie,{className:de,children:[r.succeeded,"/",r.total]})}),e[8]=r.succeeded,e[9]=r.total,e[10]=de,e[11]=d):d=e[11];let x;e[12]!==m||e[13]!==d?(x=s.jsxs(a,{children:[K,s.jsxs(i,{children:[m,d]})]}),e[12]=m,e[13]=d,e[14]=x):x=e[14];let F;e[15]===Symbol.for("react.memo_cache_sentinel")?(F=s.jsxs(c,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(n,{className:"text-sm font-medium",children:"Payroll Success Rate"}),s.jsx(pe,{className:"h-4 w-4 text-muted-foreground"})]}),e[15]=F):F=e[15];let f;e[16]!==l.success_rate?(f=s.jsxs("div",{className:"text-2xl font-bold",children:[l.success_rate,"%"]}),e[16]=l.success_rate,e[17]=f):f=e[17];const xe=he(l.success_rate);let h;e[18]!==l.succeeded||e[19]!==l.total||e[20]!==xe?(h=s.jsx("div",{className:"flex items-center gap-2 mt-2",children:s.jsxs(ie,{className:xe,children:[l.succeeded,"/",l.total]})}),e[18]=l.succeeded,e[19]=l.total,e[20]=xe,e[21]=h):h=e[21];let j;e[22]!==f||e[23]!==h?(j=s.jsxs(a,{children:[F,s.jsxs(i,{children:[f,h]})]}),e[22]=f,e[23]=h,e[24]=j):j=e[24];let z;e[25]===Symbol.for("react.memo_cache_sentinel")?(z=s.jsxs(c,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(n,{className:"text-sm font-medium",children:"Avg Processing Time"}),s.jsx(ue,{className:"h-4 w-4 text-muted-foreground"})]}),e[25]=z):z=e[25];let p;e[26]!==r.avg_processing_time_ms?(p=r.avg_processing_time_ms>0?`${r.avg_processing_time_ms.toFixed(0)}ms`:"N/A",e[26]=r.avg_processing_time_ms,e[27]=p):p=e[27];let u;e[28]!==p?(u=s.jsx("div",{className:"text-2xl font-bold",children:p}),e[28]=p,e[29]=u):u=e[29];let E;e[30]===Symbol.for("react.memo_cache_sentinel")?(E=s.jsx("p",{className:"text-xs text-muted-foreground",children:"Payments (30 days)"}),e[30]=E):E=e[30];let y;e[31]!==u?(y=s.jsxs(a,{children:[z,s.jsxs(i,{children:[u,E]})]}),e[31]=u,e[32]=y):y=e[32];let M;e[33]===Symbol.for("react.memo_cache_sentinel")?(M=s.jsxs(c,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(n,{className:"text-sm font-medium",children:"Queue Status"}),s.jsx(De,{className:"h-4 w-4 text-muted-foreground"})]}),e[33]=M):M=e[33];let g;e[34]!==o.pending?(g=s.jsx("div",{className:"text-2xl font-bold",children:o.pending}),e[34]=o.pending,e[35]=g):g=e[35];let _;e[36]!==o.failed?(_=o.failed>0?s.jsxs("span",{className:"text-red-600",children:[o.failed," failed"]}):"No failed jobs",e[36]=o.failed,e[37]=_):_=e[37];let b;e[38]!==_?(b=s.jsx("p",{className:"text-xs text-muted-foreground",children:_}),e[38]=_,e[39]=b):b=e[39];let N;e[40]!==g||e[41]!==b?(N=s.jsxs(a,{children:[M,s.jsxs(i,{children:[g,b]})]}),e[40]=g,e[41]=b,e[42]=N):N=e[42];let v;e[43]!==j||e[44]!==y||e[45]!==N||e[46]!==x?(v=s.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[x,j,y,N]}),e[43]=j,e[44]=y,e[45]=N,e[46]=x,e[47]=v):v=e[47];let $;e[48]===Symbol.for("react.memo_cache_sentinel")?($=s.jsxs(c,{children:[s.jsx(n,{children:"Response Time Trends (7 Days)"}),s.jsx(ae,{children:"Average processing time in milliseconds"})]}),e[48]=$):$=e[48];let H;e[49]===Symbol.for("react.memo_cache_sentinel")?(H=s.jsx(ye,{strokeDasharray:"3 3",className:"stroke-muted"}),e[49]=H):H=e[49];let O;e[50]===Symbol.for("react.memo_cache_sentinel")?(O=s.jsx(ge,{dataKey:"date",tickFormatter:fe,className:"text-xs",tick:{fontSize:12}}),e[50]=O):O=e[50];let U;e[51]===Symbol.for("react.memo_cache_sentinel")?(U=s.jsx(_e,{className:"text-xs",tick:{fontSize:12}}),e[51]=U):U=e[51];let W,X,Y,Z;e[52]===Symbol.for("react.memo_cache_sentinel")?(W=s.jsx(be,{contentStyle:{backgroundColor:"hsl(var(--background))",border:"1px solid hsl(var(--border))"}}),X=s.jsx(Ne,{}),Y=s.jsx(Se,{type:"monotone",dataKey:"payment_avg_ms",stroke:"#22c55e",name:"Payments",strokeWidth:2}),Z=s.jsx(Se,{type:"monotone",dataKey:"payroll_avg_ms",stroke:"#3b82f6",name:"Payroll",strokeWidth:2}),e[52]=W,e[53]=X,e[54]=Y,e[55]=Z):(W=e[52],X=e[53],Y=e[54],Z=e[55]);let S;e[56]!==ne?(S=s.jsxs(a,{children:[$,s.jsx(i,{children:s.jsx(ve,{width:"100%",height:300,children:s.jsxs(Re,{data:ne,children:[H,O,U,W,X,Y,Z]})})})]}),e[56]=ne,e[57]=S):S=e[57];let q;e[58]===Symbol.for("react.memo_cache_sentinel")?(q=s.jsxs(c,{children:[s.jsx(n,{children:"Transaction Volume (7 Days)"}),s.jsx(ae,{children:"Number of transactions processed"})]}),e[58]=q):q=e[58];let G;e[59]===Symbol.for("react.memo_cache_sentinel")?(G=s.jsx(ye,{strokeDasharray:"3 3",className:"stroke-muted"}),e[59]=G):G=e[59];let Q;e[60]===Symbol.for("react.memo_cache_sentinel")?(Q=s.jsx(ge,{dataKey:"date",tickFormatter:fe,className:"text-xs",tick:{fontSize:12}}),e[60]=Q):Q=e[60];let V;e[61]===Symbol.for("react.memo_cache_sentinel")?(V=s.jsx(_e,{className:"text-xs",tick:{fontSize:12}}),e[61]=V):V=e[61];let I,J;e[62]===Symbol.for("react.memo_cache_sentinel")?(I=s.jsx(be,{contentStyle:{backgroundColor:"hsl(var(--background))",border:"1px solid hsl(var(--border))"}}),J=s.jsx(Ne,{}),e[62]=I,e[63]=J):(I=e[62],J=e[63]);let ee;e[64]===Symbol.for("react.memo_cache_sentinel")?(ee=s.jsx(je,{dataKey:"payments",fill:"#22c55e",name:"Payments",radius:[4,4,0,0]}),e[64]=ee):ee=e[64];let se;e[65]===Symbol.for("react.memo_cache_sentinel")?(se=s.jsx(je,{dataKey:"payroll",fill:"#3b82f6",name:"Payroll",radius:[4,4,0,0]}),e[65]=se):se=e[65];let w;e[66]!==oe?(w=s.jsxs(a,{children:[q,s.jsx(i,{children:s.jsx(ve,{width:"100%",height:300,children:s.jsxs(Le,{data:oe,children:[G,Q,V,I,J,ee,se]})})})]}),e[66]=oe,e[67]=w):w=e[67];let k;e[68]!==S||e[69]!==w?(k=s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[S,w]}),e[68]=S,e[69]=w,e[70]=k):k=e[70];let te;e[71]===Symbol.for("react.memo_cache_sentinel")?(te=s.jsxs(c,{children:[s.jsxs(n,{className:"flex items-center gap-2",children:[s.jsx(Te,{className:"h-5 w-5"}),"Error Rates by Category"]}),s.jsx(ae,{children:"Error rates as percentage"})]}),e[71]=te):te=e[71];let C;e[72]!==me?(C=s.jsxs(a,{children:[te,s.jsx(i,{children:s.jsx("div",{className:"space-y-3",children:me.map(Fe)})})]}),e[72]=me,e[73]=C):C=e[73];let re;e[74]===Symbol.for("react.memo_cache_sentinel")?(re=s.jsxs(c,{children:[s.jsxs(n,{className:"flex items-center gap-2",children:[s.jsx(ue,{className:"h-5 w-5"}),"Slow Operations (Last 24h)"]}),s.jsx(ae,{children:"Top 10 slowest operations"})]}),e[74]=re):re=e[74];let A;e[75]!==P?(A=s.jsxs(a,{children:[re,s.jsx(i,{children:P.length>0?s.jsx("div",{className:"space-y-3",children:P.slice(0,10).map(Ke)}):s.jsx("p",{className:"text-center text-muted-foreground py-4",children:"No slow operations found"})})]}),e[75]=P,e[76]=A):A=e[76];let L;e[77]!==C||e[78]!==A?(L=s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[C,A]}),e[77]=C,e[78]=A,e[79]=L):L=e[79];let le;return e[80]!==v||e[81]!==k||e[82]!==L?(le=s.jsxs(Ae,{breadcrumbs:Be,children:[R,s.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 overflow-x-auto rounded-xl p-4",children:[B,v,k,L]})]}),e[80]=v,e[81]=k,e[82]=L,e[83]=le):le=e[83],le}function Ke(t){return s.jsxs("div",{className:"flex items-center justify-between border-b pb-2 last:border-0",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm font-medium",children:[t.type.charAt(0).toUpperCase()+t.type.slice(1)," #",t.id]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(t.created_at).toLocaleString("en-ZA")})]}),s.jsx("div",{className:"text-right",children:s.jsxs(ie,{variant:t.status==="succeeded"?"default":"destructive",children:[t.processing_time_ms.toFixed(0),"ms"]})})]},`${t.type}-${t.id}`)}function Fe(t){return s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium",children:t.category}),s.jsxs(ie,{variant:"secondary",children:[t.rate,"%"]})]},t.category)}function ze(t){const[e,r]=t;return{category:e.charAt(0).toUpperCase()+e.slice(1),rate:(r*100).toFixed(2)}}function Ee(t){return t>=95?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":t>=80?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"}function Me(t){return new Date(t).toLocaleDateString("en-ZA",{month:"short",day:"numeric"})}export{xs as default};
