import{r as I,b as xe,j as s,H as me,L as ue,a as W,c as Q}from"./app-DlRq_5I-.js";import{a as O,B as $}from"./createLucideIcon-DfICN48Q.js";import{C as ge,c as fe}from"./card-BpVtH_kK.js";import{I as d}from"./input-EpzQuicb.js";import{L as b}from"./label-DDSUlu2q.js";import{S as X,a as Z,b as J,c as Y,d as R}from"./select-Ba948_P_.js";import{T as ee}from"./textarea-DfcGaLQK.js";import{A as ve}from"./app-layout-B1Fh94R8.js";import{A as je}from"./arrow-left-DqJK0bh-.js";import{E as ye}from"./eye-ClAkwAHd.js";import{S as be}from"./save-BIJPNyMB.js";import{M as Ne}from"./minus-Bm0xM-JO.js";import{P as re}from"./plus-CLDQrfk-.js";import{C as Ce}from"./chevron-up-C3E08OMs.js";import{C as ke}from"./chevron-down-DBn0VZdD.js";import{T as le}from"./trash-2-FnmhMQ_5.js";/* empty css            */import"./index-BC94lCP7.js";import"./index-BlmLjsw4.js";import"./x-RYBOgl4T.js";import"./index-qKkV1P3H.js";import"./chevron-right-FxPRos96.js";import"./check-57gXsznI.js";import"./app-sidebar-header-DViv9NrM.js";import"./index-B1IOqWwB.js";import"./appearance-dropdown-kWEtid9a.js";import"./index-Dl5gb-Kb.js";import"./index-CcLcdVZM.js";import"./log-out-BKe7v_gT.js";import"./badge-DkQNu0Ve.js";import"./proxy-DB18oa0z.js";import"./circle-check-CTpeSp7r.js";import"./loader-circle-DB6syjKq.js";import"./circle-x-DCpd_SlB.js";import"./circle-alert-BMPPz6PA.js";import"./credit-card-BEASO8FW.js";import"./dollar-sign-CAhazD9z.js";import"./message-square-BIfa93Ti.js";import"./file-text-DtJO93Xu.js";import"./users-DkXA52Op.js";import"./user-check-BIHcPLhA.js";import"./clock-eJfs3CCo.js";import"./shield-Bc8H0Rwn.js";import"./index-D8-tZbVS.js";const we=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],Se=O("GripVertical",we);const Te=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 15h18",key:"5xshup"}]],Be=O("PanelBottom",Te);const _e=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}]],De=O("PanelTop",_e);const Le=[["path",{d:"m15 14 5-5-5-5",key:"12vg1m"}],["path",{d:"M20 9H9.5A5.5 5.5 0 0 0 4 14.5A5.5 5.5 0 0 0 9.5 20H13",key:"6uklza"}]],Re=O("Redo2",Le);const ze=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Pe=O("RotateCcw",ze);const $e=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],He=O("Square",$e);const Me=[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]],Ee=O("Table",Me);const Ie=[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]],ae=O("Type",Ie);const Ue=[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]],Ae=O("Undo2",Ue),Fe=[{title:"Templates",href:"/templates"},{title:"Editor",href:"#"}],oe=[{type:"header",label:"Header",icon:De,description:"Logo and business name"},{type:"text",label:"Text",icon:ae,description:"Paragraph or heading"},{type:"button",label:"Button",icon:He,description:"Call-to-action button"},{type:"divider",label:"Divider",icon:Ne,description:"Horizontal line"},{type:"table",label:"Table",icon:Ee,description:"Key-value data table"},{type:"footer",label:"Footer",icon:Be,description:"Footer text"}],se=()=>`block-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,te=h=>{switch(h){case"header":return{logoUrl:"{{business_logo}}",businessName:"{{business_name}}",backgroundColor:"#1a1a1a",textColor:"#ffffff"};case"text":return{content:"<p>Enter your text here...</p>",fontSize:"16px",color:"#4a4a4a",alignment:"left"};case"button":return{label:"Click Here",url:"#",backgroundColor:"#2563eb",textColor:"#ffffff"};case"divider":return{height:"1px",color:"#e5e5e5"};case"table":return{rows:[{label:"Label",value:"Value"}],headerStyle:"default",backgroundColor:"#f5f5f5",borderColor:"#e5e5e5"};case"footer":return{text:"Â© {{year}} {{business_name}}. All rights reserved.",color:"#6b7280"};default:return{}}};function Oe(h){const e=Q.c(17);let t;e[0]!==h?(t=[h],e[0]=h,e[1]=t):t=e[1];const[a,B]=I.useState(t),[i,w]=I.useState(0),n=I.useRef(!1),N=a[i];let g;e[2]!==i?(g=T=>{if(n.current){n.current=!1;return}B(r=>{const D=typeof T=="function"?T(r[i]):T,L=r.slice(0,i+1);return[...L.length>=50?L.slice(-49):L,D]}),w(qe)},e[2]=i,e[3]=g):g=e[3];const C=g;let f;e[4]!==i?(f=()=>{i>0&&(n.current=!0,w(Ke))},e[4]=i,e[5]=f):f=e[5];const S=f;let x;e[6]!==i||e[7]!==a.length?(x=()=>{i<a.length-1&&(n.current=!0,w(Ve))},e[6]=i,e[7]=a.length,e[8]=x):x=e[8];const v=x,p=i>0,m=i<a.length-1;let u;e[9]===Symbol.for("react.memo_cache_sentinel")?(u=T=>{B([T]),w(0)},e[9]=u):u=e[9];const k=u;let j;return e[10]!==m||e[11]!==p||e[12]!==N||e[13]!==v||e[14]!==C||e[15]!==S?(j={current:N,set:C,undo:S,redo:v,canUndo:p,canRedo:m,reset:k},e[10]=m,e[11]=p,e[12]=N,e[13]=v,e[14]=C,e[15]=S,e[16]=j):j=e[16],j}function Ve(h){return h+1}function Ke(h){return h-1}function qe(h){return Math.min(h+1,49)}function Is({type:h,typeName:e,preset:t,content:a,presets:B,isCustomized:i,business:w}){const{current:n,set:N,undo:g,redo:C,canUndo:f,canRedo:S,reset:x}=Oe(a.blocks||[]),[v,p]=I.useState(null),[m,u]=I.useState(t),[k,j]=I.useState(!1),[T,r]=I.useState(!1),[D,L]=I.useState(null),[H,z]=I.useState(null),{props:G}=xe(),P=G.flash,M=n.find(o=>o.id===v);I.useEffect(()=>{const o=l=>{(l.metaKey||l.ctrlKey)&&l.key==="z"&&(l.preventDefault(),l.shiftKey?C():g()),(l.metaKey||l.ctrlKey)&&l.key==="y"&&(l.preventDefault(),C())};return window.addEventListener("keydown",o),()=>window.removeEventListener("keydown",o)},[g,C]);const V=(o,l)=>{L(l),o.dataTransfer.effectAllowed="copy"},U=(o,l)=>{o.preventDefault(),o.dataTransfer.dropEffect="copy",z(l)},A=()=>{z(null)},q=(o,l)=>{if(o.preventDefault(),D){const c={id:se(),type:D,properties:te(D)},_=[...n];_.splice(l,0,c),N(_),p(c.id)}L(null),z(null)},y=o=>{if(o.preventDefault(),D){const l={id:se(),type:D,properties:te(D)};N([...n,l]),p(l.id)}L(null),z(null)},K=(o,l)=>{const c=[...n],_=l==="up"?o-1:o+1;_<0||_>=n.length||([c[o],c[_]]=[c[_],c[o]],N(c))},E=o=>{N(n.filter(l=>l.id!==o)),v===o&&p(null)},F=(o,l,c)=>{N(n.map(_=>_.id===o?{..._,properties:{..._.properties,[l]:c}}:_))},ne=async o=>{u(o);try{const c=await(await fetch(`/templates/${h}/preset`,{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]')?.getAttribute("content")||""},body:JSON.stringify({preset:o})})).json();c.content&&(x(c.content.blocks||[]),p(null))}catch(l){console.error("Failed to load preset:",l)}},ce=()=>{j(!0),W.put(`/templates/${h}`,{content:{blocks:n},preset:m},{preserveScroll:!0,onFinish:()=>j(!1)})},ie=()=>{confirm("Are you sure you want to reset this template to default? This will remove all customizations.")&&(r(!0),W.post(`/templates/${h}/reset`,{},{preserveScroll:!0,onFinish:()=>r(!1)}))},de=()=>{window.open(`/templates/${h}/preview`,"_blank")},pe=o=>{const l=o.properties;switch(o.type){case"header":return s.jsx("div",{className:"p-4 rounded-t-lg",style:{backgroundColor:l.backgroundColor},children:s.jsx("span",{style:{color:l.textColor},className:"font-semibold",children:l.businessName})});case"text":return s.jsx("div",{className:"p-4",style:{color:l.color,textAlign:l.alignment,fontSize:l.fontSize},dangerouslySetInnerHTML:{__html:l.content}});case"button":return s.jsx("div",{className:"p-4 text-center",children:s.jsx("span",{className:"inline-block px-6 py-2 rounded-lg font-medium",style:{backgroundColor:l.backgroundColor,color:l.textColor},children:l.label})});case"divider":return s.jsx("div",{className:"px-4 py-2",children:s.jsx("div",{style:{height:l.height,backgroundColor:l.color}})});case"table":return s.jsx("div",{className:"p-4",children:s.jsx("div",{className:"rounded border-l-4",style:{backgroundColor:l.backgroundColor,borderColor:l.borderColor},children:l.rows?.map((c,_)=>s.jsxs("div",{className:"flex border-b last:border-b-0",style:{borderColor:l.borderColor},children:[s.jsxs("div",{className:"p-2 font-medium w-1/3 text-gray-900",children:[c.label,":"]}),s.jsx("div",{className:"p-2 w-2/3 text-gray-700",children:c.value})]},_))})});case"footer":return s.jsx("div",{className:"p-4 rounded-b-lg text-center text-sm",style:{backgroundColor:"#f5f5f5",color:l.color},dangerouslySetInnerHTML:{__html:l.text}});default:return s.jsx("div",{className:"p-4 text-gray-400",children:"Unknown block type"})}};return s.jsxs(ve,{breadcrumbs:Fe,children:[s.jsx(me,{title:`Edit ${e}`}),s.jsxs("div",{className:"flex h-full flex-col",children:[s.jsxs("div",{className:"border-b bg-background p-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(ue,{href:"/templates",children:s.jsxs($,{variant:"ghost",size:"sm",children:[s.jsx(je,{className:"mr-2 h-4 w-4"}),"Back"]})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-lg font-semibold",children:e}),s.jsx("p",{className:"text-sm text-muted-foreground",children:w.name})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"flex items-center border rounded-md",children:[s.jsx($,{variant:"ghost",size:"sm",onClick:g,disabled:!f,className:"rounded-r-none border-r",title:"Undo (Ctrl+Z)",children:s.jsx(Ae,{className:"h-4 w-4"})}),s.jsx($,{variant:"ghost",size:"sm",onClick:C,disabled:!S,className:"rounded-l-none",title:"Redo (Ctrl+Shift+Z)",children:s.jsx(Re,{className:"h-4 w-4"})})]}),s.jsxs(X,{value:m,onValueChange:ne,children:[s.jsx(Z,{className:"w-[140px]",children:s.jsx(J,{placeholder:"Select preset"})}),s.jsx(Y,{children:Object.entries(B).map(([o,l])=>s.jsx(R,{value:o,children:l},o))})]}),s.jsxs($,{variant:"outline",size:"sm",onClick:de,children:[s.jsx(ye,{className:"mr-2 h-4 w-4"}),"Preview"]}),i&&s.jsxs($,{variant:"outline",size:"sm",onClick:ie,disabled:T,children:[s.jsx(Pe,{className:"mr-2 h-4 w-4"}),"Reset"]}),s.jsxs($,{size:"sm",onClick:ce,disabled:k,children:[s.jsx(be,{className:"mr-2 h-4 w-4"}),k?"Saving...":"Save"]})]})]}),P?.success&&s.jsx("div",{className:"mt-3 rounded-md bg-green-50 p-3 text-sm text-green-700 dark:bg-green-950 dark:text-green-300",children:P.success}),P?.error&&s.jsx("div",{className:"mt-3 rounded-md bg-red-50 p-3 text-sm text-red-700 dark:bg-red-950 dark:text-red-300",children:P.error})]}),s.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[s.jsxs("div",{className:"w-64 border-r bg-muted/30 p-4 overflow-y-auto",children:[s.jsx("h3",{className:"font-medium mb-3 text-sm text-muted-foreground uppercase tracking-wide",children:"Blocks"}),s.jsx("div",{className:"space-y-2",children:oe.map(({type:o,label:l,icon:c,description:_})=>s.jsxs("div",{draggable:!0,onDragStart:he=>V(he,o),className:"flex items-center gap-3 p-3 bg-background rounded-lg border cursor-grab hover:border-primary hover:bg-primary/5 transition-colors",children:[s.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded bg-primary/10",children:s.jsx(c,{className:"h-4 w-4 text-primary"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium",children:l}),s.jsx("div",{className:"text-xs text-muted-foreground",children:_})]})]},o))}),s.jsx("p",{className:"mt-4 text-xs text-muted-foreground",children:"Drag blocks to the canvas to add them to your template."})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-6 bg-muted/10",children:s.jsxs("div",{className:"mx-auto max-w-2xl",children:[s.jsx("p",{className:"text-xs text-muted-foreground text-center mb-3",children:"Email preview (emails render on white backgrounds)"}),s.jsx(ge,{className:"shadow-lg",children:s.jsx(fe,{className:"p-0",children:s.jsxs("div",{className:"min-h-[400px] bg-white rounded-lg",onDragOver:o=>{o.preventDefault(),o.dataTransfer.dropEffect="copy"},onDrop:y,children:[n.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center h-[400px] text-gray-400",children:[s.jsx(re,{className:"h-12 w-12 mb-4 text-gray-300"}),s.jsx("p",{className:"text-lg font-medium text-gray-500",children:"Drag blocks here"}),s.jsx("p",{className:"text-sm text-gray-400",children:"Start building your template"})]}):n.map((o,l)=>s.jsxs("div",{children:[s.jsx("div",{className:`h-1 transition-all ${H===l?"bg-primary":"bg-transparent"}`,onDragOver:c=>U(c,l),onDragLeave:A,onDrop:c=>q(c,l)}),s.jsxs("div",{className:`relative group cursor-pointer transition-all ${v===o.id?"ring-2 ring-primary ring-offset-2":"hover:ring-1 hover:ring-muted-foreground/30"}`,onClick:()=>p(o.id),children:[s.jsxs("div",{className:"absolute -left-10 top-1/2 -translate-y-1/2 opacity-0 group-hover:opacity-100 transition-opacity flex flex-col gap-1",children:[s.jsx($,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:c=>{c.stopPropagation(),K(l,"up")},disabled:l===0,children:s.jsx(Ce,{className:"h-4 w-4"})}),s.jsx($,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:c=>{c.stopPropagation(),K(l,"down")},disabled:l===n.length-1,children:s.jsx(ke,{className:"h-4 w-4"})})]}),s.jsx("div",{className:"absolute -right-10 top-1/2 -translate-y-1/2 opacity-0 group-hover:opacity-100 transition-opacity",children:s.jsx($,{variant:"ghost",size:"icon",className:"h-6 w-6 text-destructive hover:text-destructive",onClick:c=>{c.stopPropagation(),E(o.id)},children:s.jsx(le,{className:"h-4 w-4"})})}),pe(o)]})]},o.id)),n.length>0&&s.jsx("div",{className:`h-8 transition-all ${H===n.length?"bg-primary/20":"bg-transparent"}`,onDragOver:o=>U(o,n.length),onDragLeave:A,onDrop:o=>q(o,n.length)})]})})})]})}),s.jsx("div",{className:"w-80 border-l bg-muted/30 p-4 overflow-y-auto",children:M?s.jsx(Ge,{block:M,onUpdate:(o,l)=>F(M.id,o,l)}):s.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-muted-foreground",children:[s.jsx(Se,{className:"h-8 w-8 mb-2"}),s.jsx("p",{className:"text-sm",children:"Select a block to edit its properties"})]})})]})]})]})}function Ge(h){const e=Q.c(45),{block:t,onUpdate:a}=h;let B;e[0]!==t.type?(B=oe.find(r=>r.type===t.type),e[0]=t.type,e[1]=B):B=e[1];const i=B,w=i?.icon||ae;let n;e[2]!==w?(n=s.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-primary/10",children:s.jsx(w,{className:"h-5 w-5 text-primary"})}),e[2]=w,e[3]=n):n=e[3];const N=i?.label||"Block";let g;e[4]!==N?(g=s.jsx("h3",{className:"font-medium",children:N}),e[4]=N,e[5]=g):g=e[5];let C;e[6]===Symbol.for("react.memo_cache_sentinel")?(C=s.jsx("p",{className:"text-xs text-muted-foreground",children:"Edit properties"}),e[6]=C):C=e[6];let f;e[7]!==g?(f=s.jsxs("div",{children:[g,C]}),e[7]=g,e[8]=f):f=e[8];let S;e[9]!==n||e[10]!==f?(S=s.jsxs("div",{className:"flex items-center gap-3 pb-3 border-b",children:[n,f]}),e[9]=n,e[10]=f,e[11]=S):S=e[11];let x;e[12]!==t.properties||e[13]!==t.type||e[14]!==a?(x=t.type==="header"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(b,{children:"Business Name"}),s.jsx(d,{value:t.properties.businessName,onChange:r=>a("businessName",r.target.value),placeholder:"{{business_name}}"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(b,{children:"Logo URL"}),s.jsx(d,{value:t.properties.logoUrl,onChange:r=>a("logoUrl",r.target.value),placeholder:"{{business_logo}}"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(b,{children:"Background Color"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(d,{type:"color",value:t.properties.backgroundColor,onChange:r=>a("backgroundColor",r.target.value),className:"w-12 h-9 p-1"}),s.jsx(d,{value:t.properties.backgroundColor,onChange:r=>a("backgroundColor",r.target.value),className:"flex-1"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(b,{children:"Text Color"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(d,{type:"color",value:t.properties.textColor,onChange:r=>a("textColor",r.target.value),className:"w-12 h-9 p-1"}),s.jsx(d,{value:t.properties.textColor,onChange:r=>a("textColor",r.target.value),className:"flex-1"})]})]})]}),e[12]=t.properties,e[13]=t.type,e[14]=a,e[15]=x):x=e[15];let v;e[16]!==t.properties||e[17]!==t.type||e[18]!==a?(v=t.type==="text"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(b,{children:"Content (HTML)"}),s.jsx(ee,{value:t.properties.content,onChange:r=>a("content",r.target.value),rows:4,placeholder:"<p>Your text here...</p>"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(b,{children:"Font Size"}),s.jsxs(X,{value:t.properties.fontSize,onValueChange:r=>a("fontSize",r),children:[s.jsx(Z,{children:s.jsx(J,{})}),s.jsxs(Y,{children:[s.jsx(R,{value:"12px",children:"Small (12px)"}),s.jsx(R,{value:"14px",children:"Medium (14px)"}),s.jsx(R,{value:"16px",children:"Normal (16px)"}),s.jsx(R,{value:"20px",children:"Large (20px)"}),s.jsx(R,{value:"24px",children:"X-Large (24px)"}),s.jsx(R,{value:"28px",children:"Heading (28px)"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(b,{children:"Text Color"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(d,{type:"color",value:t.properties.color,onChange:r=>a("color",r.target.value),className:"w-12 h-9 p-1"}),s.jsx(d,{value:t.properties.color,onChange:r=>a("color",r.target.value),className:"flex-1"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(b,{children:"Alignment"}),s.jsxs(X,{value:t.properties.alignment,onValueChange:r=>a("alignment",r),children:[s.jsx(Z,{children:s.jsx(J,{})}),s.jsxs(Y,{children:[s.jsx(R,{value:"left",children:"Left"}),s.jsx(R,{value:"center",children:"Center"}),s.jsx(R,{value:"right",children:"Right"})]})]})]})]}),e[16]=t.properties,e[17]=t.type,e[18]=a,e[19]=v):v=e[19];let p;e[20]!==t.properties||e[21]!==t.type||e[22]!==a?(p=t.type==="button"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(b,{children:"Button Label"}),s.jsx(d,{value:t.properties.label,onChange:r=>a("label",r.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(b,{children:"URL"}),s.jsx(d,{value:t.properties.url,onChange:r=>a("url",r.target.value),placeholder:"{{payment_url}}"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(b,{children:"Background Color"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(d,{type:"color",value:t.properties.backgroundColor,onChange:r=>a("backgroundColor",r.target.value),className:"w-12 h-9 p-1"}),s.jsx(d,{value:t.properties.backgroundColor,onChange:r=>a("backgroundColor",r.target.value),className:"flex-1"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(b,{children:"Text Color"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(d,{type:"color",value:t.properties.textColor,onChange:r=>a("textColor",r.target.value),className:"w-12 h-9 p-1"}),s.jsx(d,{value:t.properties.textColor,onChange:r=>a("textColor",r.target.value),className:"flex-1"})]})]})]}),e[20]=t.properties,e[21]=t.type,e[22]=a,e[23]=p):p=e[23];let m;e[24]!==t.properties||e[25]!==t.type||e[26]!==a?(m=t.type==="divider"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(b,{children:"Height"}),s.jsxs(X,{value:t.properties.height,onValueChange:r=>a("height",r),children:[s.jsx(Z,{children:s.jsx(J,{})}),s.jsxs(Y,{children:[s.jsx(R,{value:"1px",children:"Thin (1px)"}),s.jsx(R,{value:"2px",children:"Medium (2px)"}),s.jsx(R,{value:"4px",children:"Thick (4px)"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(b,{children:"Color"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(d,{type:"color",value:t.properties.color,onChange:r=>a("color",r.target.value),className:"w-12 h-9 p-1"}),s.jsx(d,{value:t.properties.color,onChange:r=>a("color",r.target.value),className:"flex-1"})]})]})]}),e[24]=t.properties,e[25]=t.type,e[26]=a,e[27]=m):m=e[27];let u;e[28]!==t.properties||e[29]!==t.type||e[30]!==a?(u=t.type==="table"&&s.jsx(Xe,{rows:t.properties.rows,onRowsChange:r=>a("rows",r),backgroundColor:t.properties.backgroundColor,borderColor:t.properties.borderColor,onBackgroundColorChange:r=>a("backgroundColor",r),onBorderColorChange:r=>a("borderColor",r)}),e[28]=t.properties,e[29]=t.type,e[30]=a,e[31]=u):u=e[31];let k;e[32]!==t.properties||e[33]!==t.type||e[34]!==a?(k=t.type==="footer"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(b,{children:"Footer Text (HTML)"}),s.jsx(ee,{value:t.properties.text,onChange:r=>a("text",r.target.value),rows:3})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(b,{children:"Text Color"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(d,{type:"color",value:t.properties.color,onChange:r=>a("color",r.target.value),className:"w-12 h-9 p-1"}),s.jsx(d,{value:t.properties.color,onChange:r=>a("color",r.target.value),className:"flex-1"})]})]})]}),e[32]=t.properties,e[33]=t.type,e[34]=a,e[35]=k):k=e[35];let j;e[36]===Symbol.for("react.memo_cache_sentinel")?(j=s.jsx("div",{className:"pt-4 border-t",children:s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Use placeholders like ",s.jsx("code",{className:"bg-muted px-1 rounded",children:"{{business_name}}"})," for dynamic content."]})}),e[36]=j):j=e[36];let T;return e[37]!==p||e[38]!==m||e[39]!==u||e[40]!==k||e[41]!==S||e[42]!==x||e[43]!==v?(T=s.jsxs("div",{className:"space-y-4",children:[S,x,v,p,m,u,k,j]}),e[37]=p,e[38]=m,e[39]=u,e[40]=k,e[41]=S,e[42]=x,e[43]=v,e[44]=T):T=e[44],T}function Xe(h){const e=Q.c(58),{rows:t,onRowsChange:a,backgroundColor:B,borderColor:i,onBackgroundColorChange:w,onBorderColorChange:n}=h;let N;e[0]!==a||e[1]!==t?(N=()=>{a([...t,{label:"Label",value:"Value"}])},e[0]=a,e[1]=t,e[2]=N):N=e[2];const g=N;let C;e[3]!==a||e[4]!==t?(C=y=>{a(t.filter((K,E)=>E!==y))},e[3]=a,e[4]=t,e[5]=C):C=e[5];const f=C;let S;e[6]!==a||e[7]!==t?(S=(y,K,E)=>{const F=[...t];F[y]={...F[y],[K]:E},a(F)},e[6]=a,e[7]=t,e[8]=S):S=e[8];const x=S;let v;e[9]===Symbol.for("react.memo_cache_sentinel")?(v=s.jsx(b,{children:"Table Rows"}),e[9]=v):v=e[9];let p;e[10]===Symbol.for("react.memo_cache_sentinel")?(p=s.jsx(re,{className:"h-3 w-3 mr-1"}),e[10]=p):p=e[10];let m;e[11]!==g?(m=s.jsxs("div",{className:"flex items-center justify-between",children:[v,s.jsxs($,{variant:"outline",size:"sm",onClick:g,children:[p,"Add Row"]})]}),e[11]=g,e[12]=m):m=e[12];let u;if(e[13]!==f||e[14]!==t||e[15]!==x){let y;e[17]!==f||e[18]!==t.length||e[19]!==x?(y=(K,E)=>s.jsxs("div",{className:"flex gap-2 items-center",children:[s.jsx(d,{value:K.label,onChange:F=>x(E,"label",F.target.value),placeholder:"Label",className:"flex-1"}),s.jsx(d,{value:K.value,onChange:F=>x(E,"value",F.target.value),placeholder:"Value",className:"flex-1"}),s.jsx($,{variant:"ghost",size:"icon",onClick:()=>f(E),disabled:t.length<=1,className:"h-8 w-8",children:s.jsx(le,{className:"h-4 w-4"})})]},E),e[17]=f,e[18]=t.length,e[19]=x,e[20]=y):y=e[20],u=t.map(y),e[13]=f,e[14]=t,e[15]=x,e[16]=u}else u=e[16];let k;e[21]!==u?(k=s.jsx("div",{className:"space-y-2",children:u}),e[21]=u,e[22]=k):k=e[22];let j;e[23]!==m||e[24]!==k?(j=s.jsxs("div",{className:"space-y-2",children:[m,k]}),e[23]=m,e[24]=k,e[25]=j):j=e[25];let T;e[26]===Symbol.for("react.memo_cache_sentinel")?(T=s.jsx(b,{children:"Background Color"}),e[26]=T):T=e[26];let r;e[27]!==w?(r=y=>w(y.target.value),e[27]=w,e[28]=r):r=e[28];let D;e[29]!==B||e[30]!==r?(D=s.jsx(d,{type:"color",value:B,onChange:r,className:"w-12 h-9 p-1"}),e[29]=B,e[30]=r,e[31]=D):D=e[31];let L;e[32]!==w?(L=y=>w(y.target.value),e[32]=w,e[33]=L):L=e[33];let H;e[34]!==B||e[35]!==L?(H=s.jsx(d,{value:B,onChange:L,className:"flex-1"}),e[34]=B,e[35]=L,e[36]=H):H=e[36];let z;e[37]!==D||e[38]!==H?(z=s.jsxs("div",{className:"space-y-2",children:[T,s.jsxs("div",{className:"flex gap-2",children:[D,H]})]}),e[37]=D,e[38]=H,e[39]=z):z=e[39];let G;e[40]===Symbol.for("react.memo_cache_sentinel")?(G=s.jsx(b,{children:"Border Color"}),e[40]=G):G=e[40];let P;e[41]!==n?(P=y=>n(y.target.value),e[41]=n,e[42]=P):P=e[42];let M;e[43]!==i||e[44]!==P?(M=s.jsx(d,{type:"color",value:i,onChange:P,className:"w-12 h-9 p-1"}),e[43]=i,e[44]=P,e[45]=M):M=e[45];let V;e[46]!==n?(V=y=>n(y.target.value),e[46]=n,e[47]=V):V=e[47];let U;e[48]!==i||e[49]!==V?(U=s.jsx(d,{value:i,onChange:V,className:"flex-1"}),e[48]=i,e[49]=V,e[50]=U):U=e[50];let A;e[51]!==M||e[52]!==U?(A=s.jsxs("div",{className:"space-y-2",children:[G,s.jsxs("div",{className:"flex gap-2",children:[M,U]})]}),e[51]=M,e[52]=U,e[53]=A):A=e[53];let q;return e[54]!==z||e[55]!==A||e[56]!==j?(q=s.jsxs(s.Fragment,{children:[j,z,A]}),e[54]=z,e[55]=A,e[56]=j,e[57]=q):q=e[57],q}export{Is as default};
