import{c as O,u as Y,j as t,H as q,L as R}from"./app-Cuioih4f.js";import{B as M}from"./createLucideIcon-B5MOZI9f.js";import{b as z,a as G,c as J,C as K}from"./card-D9Y_bl1i.js";import{I as P}from"./input-Bz7R7t4w.js";import{L as W}from"./label-C6Cf-NhP.js";import{C as Q}from"./checkbox-CJAoTJa5.js";import{A as U}from"./app-layout-n-d4l7tQ.js";/* empty css            */import"./index-Bs_TJoq4.js";import"./index-CfqSVWBk.js";import"./index-IPHHTqRQ.js";import"./index-Buc-yRrE.js";import"./index-DcSYVg4d.js";import"./check-B470GyMS.js";import"./app-sidebar-header-C7CWWu21.js";import"./x-Bo-ZIIiE.js";import"./appearance-dropdown-Dd19dic0.js";import"./index-EFDA_sBj.js";import"./chevron-down-CZg7iP84.js";import"./index-CcLcdVZM.js";import"./log-out-DgGKhRGZ.js";import"./chevron-right-BmA-IvWf.js";import"./badge-Bn6Vikwd.js";import"./proxy-Bhuhjzak.js";import"./circle-check-DtjdWYjd.js";import"./loader-circle-BHZ8O1kv.js";import"./circle-x-BHtK7BJ7.js";import"./circle-alert-D33Q7hcZ.js";import"./plus-BYiZCxp8.js";import"./credit-card-DyUwoGG-.js";import"./dollar-sign-CmPq-nEC.js";import"./message-square-DDbRZnKk.js";import"./file-text-CHp8TDnm.js";import"./users-CdWaatQB.js";import"./user-check-BK_NFKR2.js";import"./clock-CSBq3vjr.js";import"./shield-U7oFjP4d.js";const V=[{title:"Employees",href:"/employees"},{title:"Schedule",href:"#"}],X=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function Ie(b){const e=O.c(48),{employee:l,schedules:F}=b;let o;e[0]!==F?(o=F.map(Z),e[0]=F,e[1]=o):o=e[1];let k;e[2]!==o?(k={schedules:o},e[2]=o,e[3]=k):k=e[3];const{data:a,setData:L,put:A,processing:H}=Y(k);let w;e[4]!==l.id||e[5]!==A?(w=i=>{i.preventDefault(),A(`/employees/${l.id}/schedule`)},e[4]=l.id,e[5]=A,e[6]=w):w=e[6];const B=w;let S;e[7]!==a.schedules||e[8]!==L?(S=(i,s,E)=>{const r=[...a.schedules];r[i]={...r[i],[s]:E},L("schedules",r)},e[7]=a.schedules,e[8]=L,e[9]=S):S=e[9];const d=S,D=`${l.name} - Schedule`;let m;e[10]!==D?(m=t.jsx(q,{title:D}),e[10]=D,e[11]=m):m=e[11];let c;e[12]!==l.name?(c=t.jsxs(z,{children:["Work Schedule: ",l.name]}),e[12]=l.name,e[13]=c):c=e[13];let N;e[14]===Symbol.for("react.memo_cache_sentinel")?(N=t.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Set scheduled hours for each day of the week. Overtime is calculated when hours worked exceed scheduled hours."}),e[14]=N):N=e[14];let n;e[15]!==c?(n=t.jsxs("div",{children:[c,N]}),e[15]=c,e[16]=n):n=e[16];const T=`/employees/${l.id}/edit`;let C;e[17]===Symbol.for("react.memo_cache_sentinel")?(C=t.jsx(M,{variant:"outline",children:"Back to Employee"}),e[17]=C):C=e[17];let p;e[18]!==T?(p=t.jsx(R,{href:T,children:C}),e[18]=T,e[19]=p):p=e[19];let u;e[20]!==p||e[21]!==n?(u=t.jsx(G,{children:t.jsxs("div",{className:"flex justify-between items-center",children:[n,p]})}),e[20]=p,e[21]=n,e[22]=u):u=e[22];let f;if(e[23]!==a.schedules||e[24]!==d){let i;e[26]!==d?(i=(s,E)=>t.jsxs("div",{className:"flex items-center gap-4 p-3 border rounded-lg",children:[t.jsxs("div",{className:"flex items-center space-x-2 w-32",children:[t.jsx(Q,{id:`day_${s.day_of_week}`,checked:s.is_active,onCheckedChange:r=>d(E,"is_active",r)}),t.jsx(W,{htmlFor:`day_${s.day_of_week}`,className:"font-medium cursor-pointer",children:X[s.day_of_week]})]}),t.jsxs("div",{className:"flex-1 flex items-center gap-2",children:[t.jsx(W,{htmlFor:`hours_${s.day_of_week}`,className:"text-sm",children:"Hours:"}),t.jsx(P,{id:`hours_${s.day_of_week}`,type:"number",step:"0.25",min:"0",max:"24",value:s.scheduled_hours,onChange:r=>d(E,"scheduled_hours",parseFloat(r.target.value)||0),disabled:!s.is_active,className:"w-24"}),t.jsx("span",{className:"text-sm text-muted-foreground",children:"per day"})]})]},s.day_of_week),e[26]=d,e[27]=i):i=e[27],f=a.schedules.map(i),e[23]=a.schedules,e[24]=d,e[25]=f}else f=e[25];let h;e[28]!==f?(h=t.jsx("div",{className:"space-y-3",children:f}),e[28]=f,e[29]=h):h=e[29];let x;e[30]!==H?(x=t.jsx(M,{type:"submit",disabled:H,children:"Save Schedule"}),e[30]=H,e[31]=x):x=e[31];const I=`/employees/${l.id}/edit`;let g;e[32]===Symbol.for("react.memo_cache_sentinel")?(g=t.jsx(M,{type:"button",variant:"outline",children:"Cancel"}),e[32]=g):g=e[32];let _;e[33]!==I?(_=t.jsx(R,{href:I,children:g}),e[33]=I,e[34]=_):_=e[34];let y;e[35]!==x||e[36]!==_?(y=t.jsxs("div",{className:"flex gap-2 pt-4",children:[x,_]}),e[35]=x,e[36]=_,e[37]=y):y=e[37];let j;e[38]!==B||e[39]!==h||e[40]!==y?(j=t.jsx(J,{children:t.jsxs("form",{onSubmit:B,className:"space-y-4",children:[h,y]})}),e[38]=B,e[39]=h,e[40]=y,e[41]=j):j=e[41];let v;e[42]!==u||e[43]!==j?(v=t.jsx("div",{className:"flex h-full flex-1 flex-col gap-4 overflow-x-auto rounded-xl p-4",children:t.jsxs(K,{children:[u,j]})}),e[42]=u,e[43]=j,e[44]=v):v=e[44];let $;return e[45]!==v||e[46]!==m?($=t.jsxs(U,{breadcrumbs:V,children:[m,v]}),e[45]=v,e[46]=m,e[47]=$):$=e[47],$}function Z(b){return{day_of_week:b.day_of_week,scheduled_hours:b.scheduled_hours,is_active:b.is_active}}export{Ie as default};
