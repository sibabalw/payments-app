import{c as S,r as _,j as e,L as u,a as B,H as A}from"./app-BRoNAUIM.js";import{B as h}from"./x-pZV5lkp5.js";import{C as g,c as y,a as C,b as k}from"./card-Bag7gWUQ.js";import{S as w,a as $,b as D,c as I,d as E}from"./select-Cv0uEHLH.js";import{A as F}from"./app-layout-Bn-75oUf.js";import{P as L}from"./plus-C6lF1Clu.js";import{S as P}from"./square-pen-BBxJehQ3.js";import{S as R}from"./app-sidebar-header-BbzcXdQi.js";/* empty css            */import"./index-CfMSX17F.js";import"./index-BohsM0ZD.js";import"./check-CU7v0mdS.js";import"./chevron-up-DDm2opro.js";import"./index-Cfp_L9w6.js";import"./appearance-dropdown-BEtN_wNg.js";import"./badge-ZsznMIyW.js";import"./proxy-CQkt3OrQ.js";import"./circle-check-DIHwzO_b.js";import"./loader-circle-CafrvZjs.js";import"./circle-x-C4YAnoMU.js";import"./circle-alert-COfzFcbZ.js";import"./dollar-sign-CDLUu5fH.js";import"./message-square-CEp_sz_O.js";import"./file-text-FWLsz4T5.js";import"./users-CEYKQlp0.js";import"./user-check-DiuzZ-7a.js";import"./clock-DWicTrer.js";import"./shield-Kl3V0fgW.js";import"./index-CBJSSLbQ.js";import"./log-out-MC42nTzo.js";const T=[{title:"Payroll",href:"/payroll"},{title:"Benefits & Deductions",href:"/benefits"}];function je(t){const s=S.c(16),{benefits:m,businesses:a,selectedBusinessId:N}=t,[r,v]=_.useState(N||a?.[0]?.id||"");let d;s[0]===Symbol.for("react.memo_cache_sentinel")?(d=j=>{v(j),B.get("/benefits",{business_id:j},{preserveState:!0})},s[0]=d):d=s[0];const b=d;let c;s[1]===Symbol.for("react.memo_cache_sentinel")?(c=e.jsx(A,{title:"My Company Benefits"}),s[1]=c):c=s[1];let o;s[2]===Symbol.for("react.memo_cache_sentinel")?(o=e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Benefits & Deductions"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Recurring benefits and deductions that apply to all employees every month"})]}),s[2]=o):o=s[2];const f=`/benefits/create?business_id=${r}`;let x;s[3]===Symbol.for("react.memo_cache_sentinel")?(x=e.jsxs(h,{children:[e.jsx(L,{className:"mr-2 h-4 w-4"}),"Add Deduction or Benefit"]}),s[3]=x):x=s[3];let i;s[4]!==f?(i=e.jsxs("div",{className:"flex items-center justify-between",children:[o,e.jsx(u,{href:f,children:x})]}),s[4]=f,s[5]=i):i=s[5];let l;s[6]!==r||s[7]!==a?(l=a&&a.length>0&&e.jsxs("div",{className:"max-w-xs",children:[e.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Business"}),e.jsxs(w,{value:String(r),onValueChange:b,children:[e.jsx($,{children:e.jsx(D,{})}),e.jsx(I,{children:a.map(H)})]})]}),s[6]=r,s[7]=a,s[8]=l):l=s[8];let n;s[9]!==m||s[10]!==r?(n=m?.data&&m.data.length>0?e.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:m.data.map(z)}):e.jsx(g,{children:e.jsxs(y,{className:"py-10 text-center",children:[e.jsx("p",{className:"text-muted-foreground",children:"No benefits or deductions set up yet."}),e.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Benefits and deductions apply to all employees automatically every month."}),e.jsx(u,{href:`/benefits/create?business_id=${r}`,className:"mt-4 inline-block",children:e.jsx(h,{children:"Add your first deduction or benefit"})})]})}),s[9]=m,s[10]=r,s[11]=n):n=s[11];let p;return s[12]!==i||s[13]!==l||s[14]!==n?(p=e.jsxs(F,{breadcrumbs:T,children:[c,e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 overflow-x-auto rounded-xl p-4",children:[i,l,n]})]}),s[12]=i,s[13]=l,s[14]=n,s[15]=p):p=s[15],p}function z(t){return e.jsxs(g,{children:[e.jsx(C,{children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsx(k,{className:"text-lg",children:t.name}),e.jsx("span",{className:`text-xs px-2 py-1 rounded ${t.is_active?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-200"}`,children:t.is_active?"Active":"Inactive"})]})}),e.jsx(y,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Amount: "}),e.jsx("span",{className:"font-medium",children:t.type==="percentage"?`${t.amount}% of salary`:`ZAR ${parseFloat(t.amount).toLocaleString("en-ZA",{minimumFractionDigits:2,maximumFractionDigits:2})} per month`})]}),e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Type: "}),e.jsx("span",{className:`font-medium capitalize ${t.adjustment_type==="deduction"?"text-red-600 dark:text-red-400":"text-green-600 dark:text-green-400"}`,children:t.adjustment_type==="deduction"?"Deduction":"Addition"})]}),e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Applies to: "}),e.jsx("span",{className:"font-medium",children:"All employees"})]}),e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Frequency: "}),e.jsx("span",{className:"font-medium",children:"Every month"})]}),t.description&&e.jsx("p",{className:"text-xs text-muted-foreground mt-2 pt-2 border-t",children:t.description}),e.jsxs("div",{className:"flex gap-2 mt-4",children:[e.jsx(u,{href:`/benefits/${t.id}/edit`,className:"flex-1",children:e.jsxs(h,{variant:"outline",size:"sm",className:"w-full",children:[e.jsx(P,{className:"mr-2 h-3 w-3"}),"Edit"]})}),e.jsx(u,{href:`/benefits/${t.id}/temporarily-change`,className:"flex-1",children:e.jsxs(h,{variant:"outline",size:"sm",className:"w-full",children:[e.jsx(R,{className:"mr-2 h-3 w-3"}),"Temporarily Change"]})})]})]})})]},t.id)}function H(t){return e.jsx(E,{value:String(t.id),children:t.name},t.id)}export{je as default};
