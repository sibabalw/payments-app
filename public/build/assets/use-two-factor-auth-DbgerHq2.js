import{c as k,r as S}from"./app-DWDC-BVo.js";import{q,s as x,a as A}from"./index-BPrNdDAK.js";const M=6,w=async e=>{const t=await fetch(e,{headers:{Accept:"application/json"}});if(!t.ok)throw new Error(`Failed to fetch: ${t.status}`);return t.json()},O=()=>{const e=k.c(14),[t,o]=S.useState(null),[s,r]=S.useState(null);let a;e[0]===Symbol.for("react.memo_cache_sentinel")?(a=[],e[0]=a):a=e[0];const[d,C]=S.useState(a);let n;e[1]===Symbol.for("react.memo_cache_sentinel")?(n=[],e[1]=n):n=e[1];const[b,l]=S.useState(n),v=t!==null&&s!==null;let i;e[2]===Symbol.for("react.memo_cache_sentinel")?(i=async()=>{try{const{svg:c}=await w(q.url());o(c)}catch{l(D),o(null)}},e[2]=i):i=e[2];const E=i;let u;e[3]===Symbol.for("react.memo_cache_sentinel")?(u=async()=>{try{const{secretKey:c}=await w(x.url());r(c)}catch{l(L),r(null)}},e[3]=u):u=e[3];const F=u;let m;e[4]===Symbol.for("react.memo_cache_sentinel")?(m=()=>{l([])},e[4]=m):m=e[4];const f=m;let y;e[5]===Symbol.for("react.memo_cache_sentinel")?(y=()=>{r(null),o(null),f()},e[5]=y):y=e[5];const K=y;let h;e[6]===Symbol.for("react.memo_cache_sentinel")?(h=async()=>{try{f();const c=await w(A.url());C(c)}catch{l(Q),C([])}},e[6]=h):h=e[6];const R=h;let _;e[7]===Symbol.for("react.memo_cache_sentinel")?(_=async()=>{try{f(),await Promise.all([E(),F()])}catch{o(null),r(null)}},e[7]=_):_=e[7];const g=_;let p;return e[8]!==b||e[9]!==v||e[10]!==s||e[11]!==t||e[12]!==d?(p={qrCodeSvg:t,manualSetupKey:s,recoveryCodesList:d,hasSetupData:v,errors:b,clearErrors:f,clearSetupData:K,fetchQrCode:E,fetchSetupKey:F,fetchSetupData:g,fetchRecoveryCodes:R},e[8]=b,e[9]=v,e[10]=s,e[11]=t,e[12]=d,e[13]=p):p=e[13],p};function D(e){return[...e,"Failed to fetch QR code"]}function L(e){return[...e,"Failed to fetch a setup key"]}function Q(e){return[...e,"Failed to fetch recovery codes"]}export{M as O,O as u};
