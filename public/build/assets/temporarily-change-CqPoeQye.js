import{c as we,r as ye,u as De,j as t,H as Me,L as Te}from"./app-DlRq_5I-.js";import{I as ie}from"./input-error-N6fjUyr3.js";import{B as re}from"./createLucideIcon-DfICN48Q.js";import{a as Fe,b as Ae,c as Ee,C as $e}from"./card-BpVtH_kK.js";import{I as je}from"./input-EpzQuicb.js";import{L as le}from"./label-DDSUlu2q.js";import{a as ge,b as be,P as _e,A as ke}from"./app-layout-B1Fh94R8.js";import{C as ve}from"./calendar-Cq1Ld_Lm.js";import{C as Ce}from"./calendar-B2gwonc8.js";import{f as H}from"./format-BS8Ay9AX.js";/* empty css            */import"./index-BC94lCP7.js";import"./app-sidebar-header-DViv9NrM.js";import"./index-BlmLjsw4.js";import"./index-B1IOqWwB.js";import"./x-RYBOgl4T.js";import"./appearance-dropdown-kWEtid9a.js";import"./index-Dl5gb-Kb.js";import"./chevron-down-DBn0VZdD.js";import"./index-D8-tZbVS.js";import"./index-CcLcdVZM.js";import"./log-out-BKe7v_gT.js";import"./chevron-right-FxPRos96.js";import"./badge-DkQNu0Ve.js";import"./proxy-DB18oa0z.js";import"./circle-check-CTpeSp7r.js";import"./loader-circle-DB6syjKq.js";import"./circle-x-DCpd_SlB.js";import"./circle-alert-BMPPz6PA.js";import"./plus-CLDQrfk-.js";import"./credit-card-BEASO8FW.js";import"./dollar-sign-CAhazD9z.js";import"./message-square-BIfa93Ti.js";import"./file-text-DtJO93Xu.js";import"./users-DkXA52Op.js";import"./user-check-BIHcPLhA.js";import"./clock-eJfs3CCo.js";import"./shield-Bc8H0Rwn.js";import"./chevron-left-CeavYiYk.js";const Be=[{title:"Payroll",href:"/payroll"},{title:"Benefits & Deductions",href:"/benefits"},{title:"Temporarily Change",href:"#"}];function vt(Ne){const e=we.c(109),{benefit:s}=Ne,[a,Se]=ye.useState(void 0),[o,Pe]=ye.useState(void 0);let Z;e[0]===Symbol.for("react.memo_cache_sentinel")?(Z={amount:"",period_start:"",period_end:"",description:""},e[0]=Z):Z=e[0];const{data:n,setData:r,post:ae,processing:q,errors:l}=De(Z);let O;e[1]!==s.id||e[2]!==ae?(O=i=>{i.preventDefault(),ae(`/benefits/${s.id}/temporarily-change`)},e[1]=s.id,e[2]=ae,e[3]=O):O=e[3];const oe=O;let Q;e[4]!==r?(Q=i=>{Se(i),i&&r("period_start",H(i,"yyyy-MM-dd"))},e[4]=r,e[5]=Q):Q=e[5];const ne=Q;let z;e[6]!==r?(z=i=>{Pe(i),i&&r("period_end",H(i,"yyyy-MM-dd"))},e[6]=r,e[7]=z):z=e[7];const me=z;let G;e[8]===Symbol.for("react.memo_cache_sentinel")?(G=t.jsx(Me,{title:"Temporarily Change Benefit"}),e[8]=G):G=e[8];let J;e[9]===Symbol.for("react.memo_cache_sentinel")?(J=t.jsx("div",{className:"flex items-center justify-between",children:t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold",children:"Temporarily Change Benefit"}),t.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Change the amount for a specific period, then it will revert to the original"})]})}),e[9]=J):J=e[9];let m;e[10]!==s.name?(m=t.jsx(Fe,{children:t.jsxs(Ae,{children:["Temporary Change for ",s.name]})}),e[10]=s.name,e[11]=m):m=e[11];let K;e[12]===Symbol.for("react.memo_cache_sentinel")?(K=t.jsx("p",{className:"text-sm text-muted-foreground",children:"Current amount:"}),e[12]=K):K=e[12];let c;e[13]!==s.amount||e[14]!==s.type?(c=s.type==="percentage"?`${s.amount}%`:`ZAR ${parseFloat(s.amount).toLocaleString("en-ZA",{minimumFractionDigits:2,maximumFractionDigits:2})}`,e[13]=s.amount,e[14]=s.type,e[15]=c):c=e[15];let d;e[16]!==c?(d=t.jsxs("div",{className:"mb-6 p-4 bg-muted rounded-lg",children:[K,t.jsx("p",{className:"text-lg font-semibold",children:c})]}),e[16]=c,e[17]=d):d=e[17];const ce=s.type==="percentage"&&" (0-100)";let p;e[18]!==ce?(p=t.jsxs(le,{htmlFor:"amount",children:["New Amount",ce]}),e[18]=ce,e[19]=p):p=e[19];const de=(s.type==="percentage","0.01"),pe=s.type==="percentage"?"100":void 0;let f;e[20]!==r?(f=i=>r("amount",i.target.value),e[20]=r,e[21]=f):f=e[21];const fe=s.type==="percentage"?"e.g., 6":"e.g., 600";let u;e[22]!==n.amount||e[23]!==de||e[24]!==pe||e[25]!==f||e[26]!==fe?(u=t.jsx(je,{id:"amount",type:"number",step:de,min:"0",max:pe,value:n.amount,onChange:f,placeholder:fe,required:!0}),e[22]=n.amount,e[23]=de,e[24]=pe,e[25]=f,e[26]=fe,e[27]=u):u=e[27];let h;e[28]!==l.amount?(h=t.jsx(ie,{message:l.amount}),e[28]=l.amount,e[29]=h):h=e[29];let x;e[30]!==p||e[31]!==u||e[32]!==h?(x=t.jsxs("div",{className:"space-y-2",children:[p,u,h]}),e[30]=p,e[31]=u,e[32]=h,e[33]=x):x=e[33];let U;e[34]===Symbol.for("react.memo_cache_sentinel")?(U=t.jsx(le,{children:"From Date"}),e[34]=U):U=e[34];let V;e[35]===Symbol.for("react.memo_cache_sentinel")?(V=t.jsx(Ce,{className:"mr-2 h-4 w-4"}),e[35]=V):V=e[35];let y;e[36]!==a?(y=a?H(a,"PPP"):"Pick a date",e[36]=a,e[37]=y):y=e[37];let j;e[38]!==y?(j=t.jsx(ge,{asChild:!0,children:t.jsxs(re,{variant:"outline",className:"w-full justify-start text-left font-normal",children:[V,y]})}),e[38]=y,e[39]=j):j=e[39];let g;e[40]!==ne||e[41]!==a?(g=t.jsx(be,{className:"w-auto p-0",align:"start",children:t.jsx(ve,{mode:"single",selected:a,onSelect:ne,initialFocus:!0})}),e[40]=ne,e[41]=a,e[42]=g):g=e[42];let b;e[43]!==j||e[44]!==g?(b=t.jsxs(_e,{children:[j,g]}),e[43]=j,e[44]=g,e[45]=b):b=e[45];let _;e[46]!==l.period_start?(_=t.jsx(ie,{message:l.period_start}),e[46]=l.period_start,e[47]=_):_=e[47];let v;e[48]!==b||e[49]!==_?(v=t.jsxs("div",{className:"space-y-2",children:[U,b,_]}),e[48]=b,e[49]=_,e[50]=v):v=e[50];let W;e[51]===Symbol.for("react.memo_cache_sentinel")?(W=t.jsx(le,{children:"To Date"}),e[51]=W):W=e[51];let X;e[52]===Symbol.for("react.memo_cache_sentinel")?(X=t.jsx(Ce,{className:"mr-2 h-4 w-4"}),e[52]=X):X=e[52];let C;e[53]!==o?(C=o?H(o,"PPP"):"Pick a date",e[53]=o,e[54]=C):C=e[54];let N;e[55]!==C?(N=t.jsx(ge,{asChild:!0,children:t.jsxs(re,{variant:"outline",className:"w-full justify-start text-left font-normal",children:[X,C]})}),e[55]=C,e[56]=N):N=e[56];let S;e[57]!==me||e[58]!==o?(S=t.jsx(be,{className:"w-auto p-0",align:"start",children:t.jsx(ve,{mode:"single",selected:o,onSelect:me,initialFocus:!0})}),e[57]=me,e[58]=o,e[59]=S):S=e[59];let P;e[60]!==N||e[61]!==S?(P=t.jsxs(_e,{children:[N,S]}),e[60]=N,e[61]=S,e[62]=P):P=e[62];let w;e[63]!==l.period_end?(w=t.jsx(ie,{message:l.period_end}),e[63]=l.period_end,e[64]=w):w=e[64];let D;e[65]!==P||e[66]!==w?(D=t.jsxs("div",{className:"space-y-2",children:[W,P,w]}),e[65]=P,e[66]=w,e[67]=D):D=e[67];let M;e[68]!==v||e[69]!==D?(M=t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[v,D]}),e[68]=v,e[69]=D,e[70]=M):M=e[70];let Y;e[71]===Symbol.for("react.memo_cache_sentinel")?(Y=t.jsx(le,{htmlFor:"description",children:"Description (Optional)"}),e[71]=Y):Y=e[71];let T;e[72]!==r?(T=i=>r("description",i.target.value),e[72]=r,e[73]=T):T=e[73];let F;e[74]!==n.description||e[75]!==T?(F=t.jsx(je,{id:"description",value:n.description,onChange:T,placeholder:"e.g., Temporary increase for Q1"}),e[74]=n.description,e[75]=T,e[76]=F):F=e[76];let A;e[77]!==l.description?(A=t.jsx(ie,{message:l.description}),e[77]=l.description,e[78]=A):A=e[78];let E;e[79]!==F||e[80]!==A?(E=t.jsxs("div",{className:"space-y-2",children:[Y,F,A]}),e[79]=F,e[80]=A,e[81]=E):E=e[81];let ee;e[82]===Symbol.for("react.memo_cache_sentinel")?(ee=t.jsx("strong",{children:"Note:"}),e[82]=ee):ee=e[82];const ue=n.amount||"...";let $;e[83]!==a?($=a?H(a,"MMM d, yyyy"):"start date",e[83]=a,e[84]=$):$=e[84];let k;e[85]!==o?(k=o?H(o,"MMM d, yyyy"):"end date",e[85]=o,e[86]=k):k=e[86];const he=s.type==="percentage"?`${s.amount}%`:`ZAR ${s.amount}`;let B;e[87]!==ue||e[88]!==$||e[89]!==k||e[90]!==he?(B=t.jsx("div",{className:"bg-blue-50 dark:bg-blue-950 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:t.jsxs("p",{className:"text-sm text-blue-900 dark:text-blue-100",children:[ee," All employees will receive the new amount (",ue,") from ",$," to ",k,". After that, it will automatically revert to ",he,"."]})}),e[87]=ue,e[88]=$,e[89]=k,e[90]=he,e[91]=B):B=e[91];let te;e[92]===Symbol.for("react.memo_cache_sentinel")?(te=t.jsx(Te,{href:"/benefits",children:t.jsx(re,{type:"button",variant:"outline",children:"Cancel"})}),e[92]=te):te=e[92];const xe=q?"Creating...":"Create Temporary Change";let L;e[93]!==q||e[94]!==xe?(L=t.jsxs("div",{className:"flex gap-2",children:[te,t.jsx(re,{type:"submit",disabled:q,children:xe})]}),e[93]=q,e[94]=xe,e[95]=L):L=e[95];let I;e[96]!==oe||e[97]!==x||e[98]!==M||e[99]!==E||e[100]!==B||e[101]!==L?(I=t.jsxs("form",{onSubmit:oe,className:"space-y-6",children:[x,M,E,B,L]}),e[96]=oe,e[97]=x,e[98]=M,e[99]=E,e[100]=B,e[101]=L,e[102]=I):I=e[102];let R;e[103]!==d||e[104]!==I?(R=t.jsxs(Ee,{children:[d,I]}),e[103]=d,e[104]=I,e[105]=R):R=e[105];let se;return e[106]!==R||e[107]!==m?(se=t.jsxs(ke,{breadcrumbs:Be,children:[G,t.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 overflow-x-auto rounded-xl p-4",children:[J,t.jsxs($e,{children:[m,R]})]})]}),e[106]=R,e[107]=m,e[108]=se):se=e[108],se}export{vt as default};
