import{c as A,r as E,j as e,F as T,H as N}from"./app-Cuioih4f.js";import{H as B}from"./heading-DOlHWajO.js";import{T as D,S as C,a as H,b as M}from"./two-factor-setup-modal-Ca6dpiIv.js";import{B as _}from"./badge-Bn6Vikwd.js";import{B as w}from"./createLucideIcon-B5MOZI9f.js";import{u as R}from"./use-two-factor-auth-BG-JTUgo.js";import{A as q}from"./app-layout-n-d4l7tQ.js";import{S as L}from"./layout-DeIYf1SP.js";import{d as O,e as k,f as P}from"./index-BPrNdDAK.js";/* empty css            */import"./index-Bs_TJoq4.js";import"./card-D9Y_bl1i.js";import"./eye-off-rYPxDtfb.js";import"./eye-Djr4qTRk.js";import"./refresh-cw-D1TyeKWT.js";import"./input-error-pri7ZzTk.js";import"./dialog-B6pEUDaf.js";import"./index-EFDA_sBj.js";import"./index-CfqSVWBk.js";import"./x-Bo-ZIIiE.js";import"./index-DcSYVg4d.js";import"./input-otp-C_Qiq38X.js";import"./minus-DE_ZfGdQ.js";import"./circle-alert-D33Q7hcZ.js";import"./spinner-Cj9jpHVF.js";import"./loader-circle-BHZ8O1kv.js";import"./check-B470GyMS.js";import"./app-sidebar-header-C7CWWu21.js";import"./appearance-dropdown-Dd19dic0.js";import"./chevron-down-CZg7iP84.js";import"./index-Buc-yRrE.js";import"./index-CcLcdVZM.js";import"./log-out-DgGKhRGZ.js";import"./chevron-right-BmA-IvWf.js";import"./proxy-Bhuhjzak.js";import"./circle-check-DtjdWYjd.js";import"./circle-x-BHtK7BJ7.js";import"./plus-BYiZCxp8.js";import"./credit-card-DyUwoGG-.js";import"./dollar-sign-CmPq-nEC.js";import"./message-square-DDbRZnKk.js";import"./file-text-CHp8TDnm.js";import"./users-CdWaatQB.js";import"./user-check-BK_NFKR2.js";import"./clock-CSBq3vjr.js";import"./shield-U7oFjP4d.js";const W=[{title:"Two-Factor Authentication",href:P.url()}];function qt(a){const t=A.c(22),{requiresConfirmation:g,twoFactorEnabled:F}=a,d=g===void 0?!1:g,o=F===void 0?!1:F,{qrCodeSvg:u,hasSetupData:f,manualSetupKey:h,clearSetupData:x,fetchSetupData:j,recoveryCodesList:y,fetchRecoveryCodes:b,errors:r}=R(),[S,v]=E.useState(!1);let n,c;t[0]===Symbol.for("react.memo_cache_sentinel")?(n=e.jsx(N,{title:"Two-Factor Authentication"}),c=e.jsx("h1",{className:"sr-only",children:"Two-Factor Authentication Settings"}),t[0]=n,t[1]=c):(n=t[0],c=t[1]);let l;t[2]===Symbol.for("react.memo_cache_sentinel")?(l=e.jsx(B,{title:"Two-Factor Authentication",description:"Manage your two-factor authentication settings"}),t[2]=l):l=t[2];let i;t[3]!==r||t[4]!==b||t[5]!==f||t[6]!==y||t[7]!==o?(i=o?e.jsxs("div",{className:"flex flex-col items-start justify-start space-y-4",children:[e.jsx(_,{variant:"default",children:"Enabled"}),e.jsx("p",{className:"text-muted-foreground",children:"With two-factor authentication enabled, you will be prompted for a secure, random pin during login, which you can retrieve from the TOTP-supported application on your phone."}),e.jsx(D,{recoveryCodesList:y,fetchRecoveryCodes:b,errors:r}),e.jsx("div",{className:"relative inline",children:e.jsx(T,{...O.form(),children:$})})]}):e.jsxs("div",{className:"flex flex-col items-start justify-start space-y-4",children:[e.jsx(_,{variant:"destructive",children:"Disabled"}),e.jsx("p",{className:"text-muted-foreground",children:"When you enable two-factor authentication, you will be prompted for a secure pin during login. This pin can be retrieved from a TOTP-supported application on your phone."}),e.jsx("div",{children:f?e.jsxs(w,{onClick:()=>v(!0),children:[e.jsx(C,{}),"Continue Setup"]}):e.jsx(T,{...k.form(),onSuccess:()=>v(!0),children:K})})]}),t[3]=r,t[4]=b,t[5]=f,t[6]=y,t[7]=o,t[8]=i):i=t[8];let m;t[9]===Symbol.for("react.memo_cache_sentinel")?(m=()=>v(!1),t[9]=m):m=t[9];let s;t[10]!==x||t[11]!==r||t[12]!==j||t[13]!==h||t[14]!==u||t[15]!==d||t[16]!==S||t[17]!==o?(s=e.jsx(H,{isOpen:S,onClose:m,requiresConfirmation:d,twoFactorEnabled:o,qrCodeSvg:u,manualSetupKey:h,clearSetupData:x,fetchSetupData:j,errors:r}),t[10]=x,t[11]=r,t[12]=j,t[13]=h,t[14]=u,t[15]=d,t[16]=S,t[17]=o,t[18]=s):s=t[18];let p;return t[19]!==i||t[20]!==s?(p=e.jsxs(q,{breadcrumbs:W,children:[n,c,e.jsx(L,{children:e.jsxs("div",{className:"space-y-6",children:[l,i,s]})})]}),t[19]=i,t[20]=s,t[21]=p):p=t[21],p}function K(a){const{processing:t}=a;return e.jsxs(w,{type:"submit",disabled:t,children:[e.jsx(C,{}),"Enable 2FA"]})}function $(a){const{processing:t}=a;return e.jsxs(w,{variant:"destructive",type:"submit",disabled:t,children:[e.jsx(M,{})," Disable 2FA"]})}export{qt as default};
