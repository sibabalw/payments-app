import{c as O,j as e,L as d,H as I,a as Y}from"./app-DWDC-BVo.js";import{B as i}from"./createLucideIcon-CDiNb0OM.js";import{C as a,a as o,b as m,d as D,c as n}from"./card-ErUD2DV9.js";import{B as F}from"./badge-BnVI9wD_.js";import{A as M}from"./app-layout-Csx9VZt2.js";import{D as U}from"./download-CXQ8vWTZ.js";import{C as Z}from"./circle-check-big-CeHPrI3R.js";import{S as P}from"./shield-B0GD2scd.js";import{A as q}from"./arrow-left-DgfFAESW.js";import{E as B}from"./external-link-YiLGKoba.js";import{F as T}from"./file-spreadsheet-CUO30tZ2.js";import{F as x}from"./file-text-xQShroE0.js";/* empty css            */import"./app-sidebar-header-r-OiXY8i.js";import"./index-B-id3RBu.js";import"./index-BspEiaub.js";import"./x-Cr_BKX42.js";import"./appearance-dropdown-Boh93vvE.js";import"./index-BCOzoWRm.js";import"./chevron-down-BehZftUK.js";import"./index-apnaeyBA.js";import"./index-l1Yz4tBP.js";import"./index-CcLcdVZM.js";import"./log-out-CNw_jzHT.js";import"./chevron-right-TaOApODu.js";import"./proxy-8KyYWbtH.js";import"./circle-check-DngFYpsd.js";import"./loader-circle-_uqlEWjJ.js";import"./circle-x-DCRTT9my.js";import"./circle-alert-C7E7uvB-.js";import"./plus-BwK_Jy3D.js";import"./credit-card-DHCU20zw.js";import"./dollar-sign-DGtOSjhC.js";import"./message-square-DRz1er9_.js";import"./users-CtagEMWm.js";import"./user-check-Dt0Yb2Ws.js";import"./clock-D4ogtgGS.js";const L=[{title:"Compliance",href:"/compliance"},{title:"SARS Export",href:"/compliance/sars-export"}];function ze(s){const t=O.c(22),{business:$,submissions:r}=s,z=le,G=se,V=te,H=ee,K=X;if(!$){let l;t[0]===Symbol.for("react.memo_cache_sentinel")?(l=e.jsx(I,{title:"SARS Export"}),t[0]=l):l=t[0];let C,R,k;t[1]===Symbol.for("react.memo_cache_sentinel")?(C=e.jsx(P,{className:"h-12 w-12 text-muted-foreground mb-4"}),R=e.jsx("h2",{className:"text-xl font-semibold mb-2",children:"No Business Selected"}),k=e.jsx("p",{className:"text-muted-foreground text-center mb-4",children:"Please select a business to export SARS files."}),t[1]=C,t[2]=R,t[3]=k):(C=t[1],R=t[2],k=t[3]);let E;return t[4]===Symbol.for("react.memo_cache_sentinel")?(E=e.jsxs(M,{breadcrumbs:L,children:[l,e.jsx("div",{className:"flex h-full flex-1 flex-col gap-4 p-4",children:e.jsx(a,{children:e.jsxs(n,{className:"flex flex-col items-center justify-center py-12",children:[C,R,k,e.jsx(i,{asChild:!0,children:e.jsx(d,{href:"/businesses",children:"Go to Businesses"})})]})})})]}),t[4]=E):E=t[4],E}r.filter(W),r.filter(Q),r.filter(J);let h;t[5]===Symbol.for("react.memo_cache_sentinel")?(h=e.jsx(I,{title:"SARS Export"}),t[5]=h):h=t[5];let f;t[6]===Symbol.for("react.memo_cache_sentinel")?(f=e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(i,{variant:"ghost",size:"icon",asChild:!0,children:e.jsx(d,{href:"/compliance",children:e.jsx(q,{className:"h-4 w-4"})})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"SARS eFiling Export"}),e.jsx("p",{className:"text-muted-foreground",children:"Download compliance files for SARS eFiling submission"})]})]})}),t[6]=f):f=t[6];let p;t[7]===Symbol.for("react.memo_cache_sentinel")?(p=e.jsx(o,{children:e.jsxs(m,{className:"flex items-center gap-2",children:[e.jsx(B,{className:"h-5 w-5"}),"SARS eFiling Portal"]})}),t[7]=p):p=t[7];let j;t[8]===Symbol.for("react.memo_cache_sentinel")?(j=e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"After downloading your compliance files, upload them to the SARS eFiling portal."}),t[8]=j):j=t[8];let u;t[9]===Symbol.for("react.memo_cache_sentinel")?(u=e.jsxs(a,{className:"bg-gradient-to-r from-green-50 to-blue-50 dark:from-green-950 dark:to-blue-950 border-green-200 dark:border-green-800",children:[p,e.jsxs(n,{children:[j,e.jsx(i,{variant:"outline",asChild:!0,children:e.jsxs("a",{href:"https://www.sarsefiling.co.za",target:"_blank",rel:"noopener noreferrer",children:["Open SARS eFiling",e.jsx(B,{className:"ml-2 h-4 w-4"})]})})]})]}),t[9]=u):u=t[9];let b;t[10]===Symbol.for("react.memo_cache_sentinel")?(b=e.jsxs(o,{children:[e.jsxs(m,{className:"flex items-center gap-2 text-base",children:[e.jsx(T,{className:"h-5 w-5 text-green-500"}),"EMP201 Files"]}),e.jsx(D,{children:"Monthly employer declaration"})]}),t[10]=b):b=t[10];let g;t[11]===Symbol.for("react.memo_cache_sentinel")?(g=e.jsxs(a,{children:[b,e.jsx(n,{children:e.jsxs("ol",{className:"text-sm space-y-2 list-decimal list-inside text-muted-foreground",children:[e.jsx("li",{children:"Download the CSV file"}),e.jsx("li",{children:"Log in to SARS eFiling"}),e.jsx("li",{children:"Navigate to PAYE > EMP201"}),e.jsx("li",{children:"Use the data to complete the form"}),e.jsx("li",{children:"Submit before the 7th of next month"})]})})]}),t[11]=g):g=t[11];let N;t[12]===Symbol.for("react.memo_cache_sentinel")?(N=e.jsxs(o,{children:[e.jsxs(m,{className:"flex items-center gap-2 text-base",children:[e.jsx(x,{className:"h-5 w-5 text-blue-500"}),"UIF UI-19 Files"]}),e.jsx(D,{children:"Monthly UIF declaration"})]}),t[12]=N):N=t[12];let S;t[13]===Symbol.for("react.memo_cache_sentinel")?(S=e.jsxs(a,{children:[N,e.jsx(n,{children:e.jsxs("ol",{className:"text-sm space-y-2 list-decimal list-inside text-muted-foreground",children:[e.jsx("li",{children:"Download the CSV file"}),e.jsx("li",{children:"Visit uFiling portal"}),e.jsx("li",{children:"Upload the declaration"}),e.jsx("li",{children:"Verify the totals"}),e.jsx("li",{children:"Submit before the 7th"})]})})]}),t[13]=S):S=t[13];let y;t[14]===Symbol.for("react.memo_cache_sentinel")?(y=e.jsxs(o,{children:[e.jsxs(m,{className:"flex items-center gap-2 text-base",children:[e.jsx(x,{className:"h-5 w-5 text-purple-500"}),"IRP5 Certificates"]}),e.jsx(D,{children:"Annual tax certificates"})]}),t[14]=y):y=t[14];let w;t[15]===Symbol.for("react.memo_cache_sentinel")?(w=e.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[g,S,e.jsxs(a,{children:[y,e.jsx(n,{children:e.jsxs("ol",{className:"text-sm space-y-2 list-decimal list-inside text-muted-foreground",children:[e.jsx("li",{children:"Generate certificates for all employees"}),e.jsx("li",{children:"Distribute to employees"}),e.jsx("li",{children:"Submit via EMP501 reconciliation"}),e.jsx("li",{children:"Keep copies for 5 years"}),e.jsx("li",{children:"Deadline: 31 May annually"})]})})]})]}),t[15]=w):w=t[15];let c;t[16]!==r?(c=r.length>0?e.jsxs(a,{children:[e.jsxs(o,{children:[e.jsxs(m,{className:"flex items-center gap-2",children:[e.jsx(U,{className:"h-5 w-5"}),"Available Exports (",r.length,")"]}),e.jsx(D,{children:"Download files ready for SARS submission"})]}),e.jsx(n,{children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b bg-muted/50",children:[e.jsx("th",{className:"text-left p-3",children:"Type"}),e.jsx("th",{className:"text-left p-3",children:"Period"}),e.jsx("th",{className:"text-left p-3",children:"Status"}),e.jsx("th",{className:"text-left p-3",children:"Generated"}),e.jsx("th",{className:"text-right p-3",children:"Actions"})]})}),e.jsx("tbody",{children:r.map(l=>e.jsxs("tr",{className:"border-b hover:bg-muted/30",children:[e.jsx("td",{className:"p-3",children:e.jsxs("div",{className:"flex items-center gap-2",children:[H(l.type),e.jsx("span",{className:"font-medium",children:l.type_display})]})}),e.jsx("td",{className:"p-3",children:l.period}),e.jsx("td",{className:"p-3",children:G(l.status)}),e.jsx("td",{className:"p-3 text-muted-foreground",children:z(l.created_at)}),e.jsx("td",{className:"p-3 text-right",children:e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(i,{variant:"outline",size:"sm",asChild:!0,children:e.jsxs("a",{href:V(l),children:[e.jsx(U,{className:"mr-2 h-4 w-4"}),"Download"]})}),l.status==="generated"&&e.jsxs(i,{variant:"default",size:"sm",onClick:()=>K(l.id),children:[e.jsx(Z,{className:"mr-2 h-4 w-4"}),"Mark Submitted"]})]})})]},l.id))})]})})})]}):e.jsx(a,{children:e.jsxs(n,{className:"flex flex-col items-center justify-center py-12",children:[e.jsx(P,{className:"h-12 w-12 text-muted-foreground mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Exports Available"}),e.jsx("p",{className:"text-muted-foreground text-center mb-4",children:"Generate compliance data first before exporting for SARS."}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(i,{variant:"outline",asChild:!0,children:e.jsx(d,{href:"/compliance/emp201",children:"EMP201"})}),e.jsx(i,{variant:"outline",asChild:!0,children:e.jsx(d,{href:"/compliance/uif",children:"UIF"})}),e.jsx(i,{variant:"outline",asChild:!0,children:e.jsx(d,{href:"/compliance/irp5",children:"IRP5"})})]})]})}),t[16]=r,t[17]=c):c=t[17];let _;t[18]===Symbol.for("react.memo_cache_sentinel")?(_=e.jsx(o,{children:e.jsxs(m,{className:"flex items-center gap-2 text-amber-800 dark:text-amber-200",children:[e.jsx(P,{className:"h-5 w-5"}),"Important Notice"]})}),t[18]=_):_=t[18];let v;t[19]===Symbol.for("react.memo_cache_sentinel")?(v=e.jsxs(a,{className:"border-amber-200 bg-amber-50 dark:border-amber-800 dark:bg-amber-950",children:[_,e.jsx(n,{className:"text-amber-800 dark:text-amber-200 text-sm",children:e.jsxs("ul",{className:"space-y-2",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"EMP201 Deadline:"})," Submit by the 7th of the month following the payroll period."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"UIF UI-19 Deadline:"})," Submit by the 7th of the month following the contribution period."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"IRP5/IT3(a) Deadline:"})," Submit via EMP501 by 31 May each year."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Penalties:"})," Late submissions may incur penalties and interest from SARS."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Record Keeping:"})," Keep all compliance records for a minimum of 5 years."]})]})})]}),t[19]=v):v=t[19];let A;return t[20]!==c?(A=e.jsxs(M,{breadcrumbs:L,children:[h,e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-6 overflow-x-auto rounded-xl p-4",children:[f,u,w,c,v]})]}),t[20]=c,t[21]=A):A=t[21],A}function J(s){return s.type==="irp5"}function Q(s){return s.type==="emp201"}function W(s){return s.type==="ui19"}function X(s){Y.post(`/compliance/${s}/mark-submitted`)}function ee(s){switch(s){case"ui19":return e.jsx(x,{className:"h-4 w-4 text-blue-500"});case"emp201":return e.jsx(T,{className:"h-4 w-4 text-green-500"});case"irp5":return e.jsx(x,{className:"h-4 w-4 text-purple-500"});default:return e.jsx(x,{className:"h-4 w-4"})}}function te(s){switch(s.type){case"ui19":return`/compliance/uif/${s.id}/download`;case"emp201":return`/compliance/emp201/${s.id}/download`;case"irp5":return`/compliance/irp5/${s.id}/download`;default:return"#"}}function se(s){switch(s){case"submitted":return e.jsx(F,{className:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",children:"Submitted to SARS"});case"generated":return e.jsx(F,{className:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",children:"Ready for Export"});default:return e.jsx(F,{variant:"secondary",children:s})}}function le(s){return new Date(s).toLocaleDateString("en-ZA",{year:"numeric",month:"short",day:"numeric"})}export{ze as default};
