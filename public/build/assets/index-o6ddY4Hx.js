import{c as L,r as D,j as s,L as k,a as H,H as R}from"./app-CMeUrf50.js";import{B as P}from"./x-CZYrHTRQ.js";import{C as S,a as A,b as F,c as v}from"./card-Cwxw5GdZ.js";import{a as T,b as V,d as E,c as Z,S as z}from"./select-BU5oTjNs.js";import{A as B}from"./app-layout-nNCjU6Ur.js";import{F as G}from"./file-text-DBGV6D9F.js";import{D as q}from"./download-AkOmEEhB.js";/* empty css            */import"./index-BQCSxHRW.js";import"./index-wVJuMR_H.js";import"./check-DXgzueCv.js";import"./chevron-up-B8DO_JqK.js";import"./app-sidebar-header-CztvwVfL.js";import"./appearance-dropdown-CIplfUHR.js";import"./index-CASGKN-W.js";import"./index-Cfp_L9w6.js";import"./log-out-C9Jhd31W.js";import"./badge-CpbHZjhE.js";import"./proxy-B-sAeQ2V.js";import"./circle-check-Bv3Kk_K_.js";import"./loader-circle-PC8s1h8o.js";import"./circle-x-qFpOssZO.js";import"./circle-alert-tomiUAeh.js";import"./plus-BJ4kQvgy.js";import"./dollar-sign-3i0DvXHD.js";import"./message-square-Bem12P6R.js";import"./users-BjCKGoHP.js";import"./user-check-B_uMkO9r.js";import"./clock-C3FzQv_v.js";import"./shield-CzJFJRG5.js";const J=[{title:"Payslips",href:"/payslips"}];function we(l){const e=L.c(23),{payslips:m,employees:y,filters:w}=l,[$,I]=D.useState(w?.employee_id||""),[_]=D.useState(w?.business_id||"");let c;e[0]!==_?(c=t=>{I(t),H.get("/payslips",{employee_id:t||null,business_id:_||null},{preserveState:!0})},e[0]=_,e[1]=c):c=e[1];const g=c,N=O,C=M;let d;e[2]===Symbol.for("react.memo_cache_sentinel")?(d=s.jsx(R,{title:"Payslips"}),e[2]=d):d=e[2];let x;e[3]===Symbol.for("react.memo_cache_sentinel")?(x=s.jsx("div",{className:"flex items-center justify-between",children:s.jsx("h1",{className:"text-2xl font-bold",children:"Payslips"})}),e[3]=x):x=e[3];let p;e[4]===Symbol.for("react.memo_cache_sentinel")?(p=s.jsx(A,{children:s.jsx(F,{children:"Filters"})}),e[4]=p):p=e[4];let f;e[5]===Symbol.for("react.memo_cache_sentinel")?(f=s.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Employee"}),e[5]=f):f=e[5];const b=$||"all";let r;e[6]!==g?(r=t=>g(t==="all"?"":t),e[6]=g,e[7]=r):r=e[7];let h;e[8]===Symbol.for("react.memo_cache_sentinel")?(h=s.jsx(T,{children:s.jsx(V,{placeholder:"All employees"})}),e[8]=h):h=e[8];let u;e[9]===Symbol.for("react.memo_cache_sentinel")?(u=s.jsx(E,{value:"all",children:"All employees"}),e[9]=u):u=e[9];let a;e[10]!==y?(a=y.map(K),e[10]=y,e[11]=a):a=e[11];let i;e[12]!==a?(i=s.jsxs(Z,{children:[u,a]}),e[12]=a,e[13]=i):i=e[13];let n;e[14]!==i||e[15]!==b||e[16]!==r?(n=s.jsxs(S,{children:[p,s.jsx(v,{children:s.jsxs("div",{className:"max-w-xs",children:[f,s.jsxs(z,{value:b,onValueChange:r,children:[h,i]})]})})]}),e[14]=i,e[15]=b,e[16]=r,e[17]=n):n=e[17];let o;e[18]!==m?(o=m?.data&&m.data.length>0?s.jsx("div",{className:"space-y-4",children:m.data.map(t=>s.jsxs(S,{children:[s.jsx(A,{children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx(F,{className:"text-lg",children:t.employee?.name}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:t.pay_period_start&&t.pay_period_end?`${N(t.pay_period_start)} - ${N(t.pay_period_end)}`:"Pay period not specified"}),t.processed_at&&s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Paid: ",N(t.processed_at)]})]}),s.jsx("span",{className:"inline-flex items-center rounded-full px-2 py-1 text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",children:t.status})]})}),s.jsx(v,{children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Gross Salary:"}),s.jsx("span",{className:"font-medium ml-2",children:C(t.gross_salary)})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Net Pay:"}),s.jsx("span",{className:"font-medium text-green-600 ml-2",children:C(t.net_salary)})]})]}),s.jsxs("div",{className:"flex gap-2 pt-2",children:[s.jsx(k,{href:`/payslips/${t.id}`,className:"flex-1",children:s.jsxs(P,{variant:"outline",size:"sm",className:"w-full",children:[s.jsx(G,{className:"mr-2 h-4 w-4"}),"View Payslip"]})}),s.jsx("a",{href:`/payslips/${t.id}/download`,className:"flex-1",children:s.jsxs(P,{size:"sm",className:"w-full",children:[s.jsx(q,{className:"mr-2 h-4 w-4"}),"Download PDF"]})})]})]})})]},t.id))}):s.jsx(S,{children:s.jsx(v,{className:"py-10 text-center",children:s.jsx("p",{className:"text-muted-foreground",children:"No payslips found."})})}),e[18]=m,e[19]=o):o=e[19];let j;return e[20]!==n||e[21]!==o?(j=s.jsxs(B,{breadcrumbs:J,children:[d,s.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 overflow-x-auto rounded-xl p-4",children:[x,n,o]})]}),e[20]=n,e[21]=o,e[22]=j):j=e[22],j}function K(l){return s.jsx(E,{value:String(l.id),children:l.name},l.id)}function M(l){return`ZAR ${parseFloat(String(l)).toLocaleString("en-ZA",{minimumFractionDigits:2,maximumFractionDigits:2})}`}function O(l){return l?new Date(l).toLocaleDateString("en-ZA",{year:"numeric",month:"short",day:"numeric"}):"N/A"}export{we as default};
